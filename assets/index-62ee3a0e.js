(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sm={exports:{}},ra={},bm={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),av=Symbol.for("react.portal"),uv=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),fv=Symbol.for("react.profiler"),dv=Symbol.for("react.provider"),hv=Symbol.for("react.context"),pv=Symbol.for("react.forward_ref"),mv=Symbol.for("react.suspense"),gv=Symbol.for("react.memo"),yv=Symbol.for("react.lazy"),Cd=Symbol.iterator;function vv(t){return t===null||typeof t!="object"?null:(t=Cd&&t[Cd]||t["@@iterator"],typeof t=="function"?t:null)}var xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,_m={};function Yi(t,e,n){this.props=t,this.context=e,this.refs=_m,this.updater=n||xm}Yi.prototype.isReactComponent={};Yi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cm(){}Cm.prototype=Yi.prototype;function Xc(t,e,n){this.props=t,this.context=e,this.refs=_m,this.updater=n||xm}var Yc=Xc.prototype=new Cm;Yc.constructor=Xc;Em(Yc,Yi.prototype);Yc.isPureReactComponent=!0;var Md=Array.isArray,Mm=Object.prototype.hasOwnProperty,Qc={current:null},Tm={key:!0,ref:!0,__self:!0,__source:!0};function Om(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mm.call(e,r)&&!Tm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:wo,type:t,key:s,ref:o,props:i,_owner:Qc.current}}function wv(t,e){return{$$typeof:wo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ef(t){return typeof t=="object"&&t!==null&&t.$$typeof===wo}function kv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Td=/\/+/g;function La(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kv(""+t.key):e.toString(36)}function Qo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wo:case av:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+La(o,0):r,Md(i)?(n="",t!=null&&(n=t.replace(Td,"$&/")+"/"),Qo(i,e,n,"",function(u){return u})):i!=null&&(ef(i)&&(i=wv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Td,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Md(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+La(s,l);o+=Qo(s,e,n,a,i)}else if(a=vv(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+La(s,l++),o+=Qo(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Co(t,e,n){if(t==null)return t;var r=[],i=0;return Qo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Sv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},el={transition:null},bv={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:el,ReactCurrentOwner:Qc};Se.Children={map:Co,forEach:function(t,e,n){Co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Co(t,function(){e++}),e},toArray:function(t){return Co(t,function(e){return e})||[]},only:function(t){if(!ef(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Yi;Se.Fragment=uv;Se.Profiler=fv;Se.PureComponent=Xc;Se.StrictMode=cv;Se.Suspense=mv;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bv;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Em({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Mm.call(e,a)&&!Tm.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:wo,type:t.type,key:i,ref:s,props:r,_owner:o}};Se.createContext=function(t){return t={$$typeof:hv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dv,_context:t},t.Consumer=t};Se.createElement=Om;Se.createFactory=function(t){var e=Om.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:pv,render:t}};Se.isValidElement=ef;Se.lazy=function(t){return{$$typeof:yv,_payload:{_status:-1,_result:t},_init:Sv}};Se.memo=function(t,e){return{$$typeof:gv,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=el.transition;el.transition={};try{t()}finally{el.transition=e}};Se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Se.useCallback=function(t,e){return kt.current.useCallback(t,e)};Se.useContext=function(t){return kt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return kt.current.useEffect(t,e)};Se.useId=function(){return kt.current.useId()};Se.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return kt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};Se.useRef=function(t){return kt.current.useRef(t)};Se.useState=function(t){return kt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return kt.current.useTransition()};Se.version="18.2.0";bm.exports=Se;var Oe=bm.exports;const je=vo(Oe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=Oe,Ev=Symbol.for("react.element"),_v=Symbol.for("react.fragment"),Cv=Object.prototype.hasOwnProperty,Mv=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tv={key:!0,ref:!0,__self:!0,__source:!0};function Nm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cv.call(e,r)&&!Tv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ev,type:t,key:s,ref:o,props:i,_owner:Mv.current}}ra.Fragment=_v;ra.jsx=Nm;ra.jsxs=Nm;Sm.exports=ra;var ge=Sm.exports,Bu={},Am={exports:{}},Lt={},Rm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,T){var U=R.length;R.push(T);e:for(;0<U;){var D=U-1>>>1,I=R[D];if(0<i(I,T))R[D]=T,R[U]=I,U=D;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var T=R[0],U=R.pop();if(U!==T){R[0]=U;e:for(var D=0,I=R.length,oe=I>>>1;D<oe;){var ee=2*(D+1)-1,Q=R[ee],pe=ee+1,Ee=R[pe];if(0>i(Q,U))pe<I&&0>i(Ee,Q)?(R[D]=Ee,R[pe]=U,D=pe):(R[D]=Q,R[ee]=U,D=ee);else if(pe<I&&0>i(Ee,U))R[D]=Ee,R[pe]=U,D=pe;else break e}}return T}function i(R,T){var U=R.sortIndex-T.sortIndex;return U!==0?U:R.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,f=null,d=3,h=!1,g=!1,p=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(R){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=R)r(u),T.sortIndex=T.expirationTime,e(a,T);else break;T=n(u)}}function x(R){if(p=!1,k(R),!g)if(n(a)!==null)g=!0,$(_);else{var T=n(u);T!==null&&M(x,T.startTime-R)}}function _(R,T){g=!1,p&&(p=!1,m(A),A=-1),h=!0;var U=d;try{for(k(T),f=n(a);f!==null&&(!(f.expirationTime>T)||R&&!j());){var D=f.callback;if(typeof D=="function"){f.callback=null,d=f.priorityLevel;var I=D(f.expirationTime<=T);T=t.unstable_now(),typeof I=="function"?f.callback=I:f===n(a)&&r(a),k(T)}else r(a);f=n(a)}if(f!==null)var oe=!0;else{var ee=n(u);ee!==null&&M(x,ee.startTime-T),oe=!1}return oe}finally{f=null,d=U,h=!1}}var P=!1,z=null,A=-1,H=5,N=-1;function j(){return!(t.unstable_now()-N<H)}function b(){if(z!==null){var R=t.unstable_now();N=R;var T=!0;try{T=z(!0,R)}finally{T?L():(P=!1,z=null)}}else P=!1}var L;if(typeof y=="function")L=function(){y(b)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,B=w.port2;w.port1.onmessage=b,L=function(){B.postMessage(null)}}else L=function(){S(b,0)};function $(R){z=R,P||(P=!0,L())}function M(R,T){A=S(function(){R(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,$(_))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var T=3;break;default:T=d}var U=d;d=T;try{return R()}finally{d=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,T){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var U=d;d=R;try{return T()}finally{d=U}},t.unstable_scheduleCallback=function(R,T,U){var D=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?D+U:D):U=D,R){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=U+I,R={id:c++,callback:T,priorityLevel:R,startTime:U,expirationTime:I,sortIndex:-1},U>D?(R.sortIndex=U,e(u,R),n(a)===null&&R===n(u)&&(p?(m(A),A=-1):p=!0,M(x,U-D))):(R.sortIndex=I,e(a,R),g||h||(g=!0,$(_))),R},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(R){var T=d;return function(){var U=d;d=T;try{return R.apply(this,arguments)}finally{d=U}}}})(Im);Rm.exports=Im;var Ov=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Oe,Pt=Ov;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zm=new Set,js={};function ni(t,e){Li(t,e),Li(t+"Capture",e)}function Li(t,e){for(js[t]=e,t=0;t<e.length;t++)zm.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,Nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Od={},Nd={};function Av(t){return Fu.call(Nd,t)?!0:Fu.call(Od,t)?!1:Nv.test(t)?Nd[t]=!0:(Od[t]=!0,!1)}function Rv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iv(t,e,n,r){if(e===null||typeof e>"u"||Rv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var tf=/[\-:]([a-z])/g;function nf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tf,nf);st[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tf,nf);st[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tf,nf);st[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function rf(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iv(e,n,i,r)&&(n=null),r||i===null?Av(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hn=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mo=Symbol.for("react.element"),hi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),of=Symbol.for("react.forward_ref"),$u=Symbol.for("react.suspense"),ju=Symbol.for("react.suspense_list"),lf=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Bm=Symbol.for("react.offscreen"),Ad=Symbol.iterator;function ss(t){return t===null||typeof t!="object"?null:(t=Ad&&t[Ad]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Ba;function bs(t){if(Ba===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ba=e&&e[1]||""}return`
`+Ba+t}var Fa=!1;function Ha(t,e){if(!t||Fa)return"";Fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Fa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bs(t):""}function Dv(t){switch(t.tag){case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return t=Ha(t.type,!1),t;case 11:return t=Ha(t.type.render,!1),t;case 1:return t=Ha(t.type,!0),t;default:return""}}function Uu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pi:return"Fragment";case hi:return"Portal";case Hu:return"Profiler";case sf:return"StrictMode";case $u:return"Suspense";case ju:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lm:return(t.displayName||"Context")+".Consumer";case Pm:return(t._context.displayName||"Context")+".Provider";case of:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lf:return e=t.displayName||null,e!==null?e:Uu(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return Uu(t(e))}catch{}}return null}function zv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uu(e);case 8:return e===sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pv(t){var e=Fm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function To(t){t._valueTracker||(t._valueTracker=Pv(t))}function Hm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vu(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Rd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $m(t,e){e=e.checked,e!=null&&rf(t,"checked",e,!1)}function Wu(t,e){$m(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ku(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ku(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Id(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ku(t,e,n){(e!=="number"||ml(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xs=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(xs(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function jm(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oo,Vm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oo=Oo||document.createElement("div"),Oo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Us(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lv=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){Lv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function Wm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function Km(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Bv=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ju(t,e){if(e){if(Bv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function qu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=null;function af(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yu=null,Ti=null,Oi=null;function Pd(t){if(t=bo(t)){if(typeof Yu!="function")throw Error(se(280));var e=t.stateNode;e&&(e=aa(e),Yu(t.stateNode,t.type,e))}}function Gm(t){Ti?Oi?Oi.push(t):Oi=[t]:Ti=t}function Zm(){if(Ti){var t=Ti,e=Oi;if(Oi=Ti=null,Pd(t),e)for(t=0;t<e.length;t++)Pd(e[t])}}function Jm(t,e){return t(e)}function qm(){}var $a=!1;function Xm(t,e,n){if($a)return t(e,n);$a=!0;try{return Jm(t,e,n)}finally{$a=!1,(Ti!==null||Oi!==null)&&(qm(),Zm())}}function Vs(t,e){var n=t.stateNode;if(n===null)return null;var r=aa(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Qu=!1;if(Pn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{Qu=!1}function Fv(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ns=!1,gl=null,yl=!1,ec=null,Hv={onError:function(t){Ns=!0,gl=t}};function $v(t,e,n,r,i,s,o,l,a){Ns=!1,gl=null,Fv.apply(Hv,arguments)}function jv(t,e,n,r,i,s,o,l,a){if($v.apply(this,arguments),Ns){if(Ns){var u=gl;Ns=!1,gl=null}else throw Error(se(198));yl||(yl=!0,ec=u)}}function ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ym(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(ri(t)!==t)throw Error(se(188))}function Uv(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ld(i),t;if(s===r)return Ld(i),e;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function Qm(t){return t=Uv(t),t!==null?eg(t):null}function eg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eg(t);if(e!==null)return e;t=t.sibling}return null}var tg=Pt.unstable_scheduleCallback,Bd=Pt.unstable_cancelCallback,Vv=Pt.unstable_shouldYield,Wv=Pt.unstable_requestPaint,$e=Pt.unstable_now,Kv=Pt.unstable_getCurrentPriorityLevel,uf=Pt.unstable_ImmediatePriority,ng=Pt.unstable_UserBlockingPriority,vl=Pt.unstable_NormalPriority,Gv=Pt.unstable_LowPriority,rg=Pt.unstable_IdlePriority,ia=null,bn=null;function Zv(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(ia,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:Xv,Jv=Math.log,qv=Math.LN2;function Xv(t){return t>>>=0,t===0?32:31-(Jv(t)/qv|0)|0}var No=64,Ao=4194304;function Es(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Es(l):(s&=o,s!==0&&(r=Es(s)))}else o=n&~i,o!==0?r=Es(o):s!==0&&(r=Es(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),i=1<<n,r|=t[n],e&=~i;return r}function Yv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Yv(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function tc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ig(){var t=No;return No<<=1,!(No&4194240)&&(No=64),t}function ja(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function ew(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function sg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var og,ff,lg,ag,ug,nc=!1,Ro=[],rr=null,ir=null,sr=null,Ws=new Map,Ks=new Map,Gn=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fd(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(e.pointerId)}}function as(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bo(e),e!==null&&ff(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nw(t,e,n,r,i){switch(e){case"focusin":return rr=as(rr,t,e,n,r,i),!0;case"dragenter":return ir=as(ir,t,e,n,r,i),!0;case"mouseover":return sr=as(sr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ws.set(s,as(Ws.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ks.set(s,as(Ks.get(s)||null,t,e,n,r,i)),!0}return!1}function cg(t){var e=Ar(t.target);if(e!==null){var n=ri(e);if(n!==null){if(e=n.tag,e===13){if(e=Ym(n),e!==null){t.blockedOn=e,ug(t.priority,function(){lg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xu=r,n.target.dispatchEvent(r),Xu=null}else return e=bo(n),e!==null&&ff(e),t.blockedOn=n,!1;e.shift()}return!0}function Hd(t,e,n){tl(t)&&n.delete(e)}function rw(){nc=!1,rr!==null&&tl(rr)&&(rr=null),ir!==null&&tl(ir)&&(ir=null),sr!==null&&tl(sr)&&(sr=null),Ws.forEach(Hd),Ks.forEach(Hd)}function us(t,e){t.blockedOn===e&&(t.blockedOn=null,nc||(nc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,rw)))}function Gs(t){function e(i){return us(i,t)}if(0<Ro.length){us(Ro[0],t);for(var n=1;n<Ro.length;n++){var r=Ro[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&us(rr,t),ir!==null&&us(ir,t),sr!==null&&us(sr,t),Ws.forEach(e),Ks.forEach(e),n=0;n<Gn.length;n++)r=Gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)cg(n),n.blockedOn===null&&Gn.shift()}var Ni=Hn.ReactCurrentBatchConfig,kl=!0;function iw(t,e,n,r){var i=Me,s=Ni.transition;Ni.transition=null;try{Me=1,df(t,e,n,r)}finally{Me=i,Ni.transition=s}}function sw(t,e,n,r){var i=Me,s=Ni.transition;Ni.transition=null;try{Me=4,df(t,e,n,r)}finally{Me=i,Ni.transition=s}}function df(t,e,n,r){if(kl){var i=rc(t,e,n,r);if(i===null)Ya(t,e,r,Sl,n),Fd(t,r);else if(nw(i,t,e,n,r))r.stopPropagation();else if(Fd(t,r),e&4&&-1<tw.indexOf(t)){for(;i!==null;){var s=bo(i);if(s!==null&&og(s),s=rc(t,e,n,r),s===null&&Ya(t,e,r,Sl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var Sl=null;function rc(t,e,n,r){if(Sl=null,t=af(r),t=Ar(t),t!==null)if(e=ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ym(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sl=t,null}function fg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kv()){case uf:return 1;case ng:return 4;case vl:case Gv:return 16;case rg:return 536870912;default:return 16}default:return 16}}var qn=null,hf=null,nl=null;function dg(){if(nl)return nl;var t,e=hf,n=e.length,r,i="value"in qn?qn.value:qn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return nl=i.slice(t,1<r?1-r:void 0)}function rl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function $d(){return!1}function Bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Io:$d,this.isPropagationStopped=$d,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),e}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pf=Bt(Qi),So=Le({},Qi,{view:0,detail:0}),ow=Bt(So),Ua,Va,cs,sa=Le({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(Ua=t.screenX-cs.screenX,Va=t.screenY-cs.screenY):Va=Ua=0,cs=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),jd=Bt(sa),lw=Le({},sa,{dataTransfer:0}),aw=Bt(lw),uw=Le({},So,{relatedTarget:0}),Wa=Bt(uw),cw=Le({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),fw=Bt(cw),dw=Le({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hw=Bt(dw),pw=Le({},Qi,{data:0}),Ud=Bt(pw),mw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yw[t])?!!e[t]:!1}function mf(){return vw}var ww=Le({},So,{key:function(t){if(t.key){var e=mw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(t){return t.type==="keypress"?rl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kw=Bt(ww),Sw=Le({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=Bt(Sw),bw=Le({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),xw=Bt(bw),Ew=Le({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_w=Bt(Ew),Cw=Le({},sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=Bt(Cw),Tw=[9,13,27,32],gf=Pn&&"CompositionEvent"in window,As=null;Pn&&"documentMode"in document&&(As=document.documentMode);var Ow=Pn&&"TextEvent"in window&&!As,hg=Pn&&(!gf||As&&8<As&&11>=As),Wd=String.fromCharCode(32),Kd=!1;function pg(t,e){switch(t){case"keyup":return Tw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mi=!1;function Nw(t,e){switch(t){case"compositionend":return mg(e);case"keypress":return e.which!==32?null:(Kd=!0,Wd);case"textInput":return t=e.data,t===Wd&&Kd?null:t;default:return null}}function Aw(t,e){if(mi)return t==="compositionend"||!gf&&pg(t,e)?(t=dg(),nl=hf=qn=null,mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hg&&e.locale!=="ko"?null:e.data;default:return null}}var Rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rw[t.type]:e==="textarea"}function gg(t,e,n,r){Gm(r),e=bl(e,"onChange"),0<e.length&&(n=new pf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rs=null,Zs=null;function Iw(t){Mg(t,0)}function oa(t){var e=vi(t);if(Hm(e))return t}function Dw(t,e){if(t==="change")return e}var yg=!1;if(Pn){var Ka;if(Pn){var Ga="oninput"in document;if(!Ga){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Ga=typeof Zd.oninput=="function"}Ka=Ga}else Ka=!1;yg=Ka&&(!document.documentMode||9<document.documentMode)}function Jd(){Rs&&(Rs.detachEvent("onpropertychange",vg),Zs=Rs=null)}function vg(t){if(t.propertyName==="value"&&oa(Zs)){var e=[];gg(e,Zs,t,af(t)),Xm(Iw,e)}}function zw(t,e,n){t==="focusin"?(Jd(),Rs=e,Zs=n,Rs.attachEvent("onpropertychange",vg)):t==="focusout"&&Jd()}function Pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oa(Zs)}function Lw(t,e){if(t==="click")return oa(e)}function Bw(t,e){if(t==="input"||t==="change")return oa(e)}function Fw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:Fw;function Js(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fu.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,e){var n=qd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qd(n)}}function wg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kg(){for(var t=window,e=ml();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ml(t.document)}return e}function yf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hw(t){var e=kg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wg(n.ownerDocument.documentElement,n)){if(r!==null&&yf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Xd(n,s);var o=Xd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $w=Pn&&"documentMode"in document&&11>=document.documentMode,gi=null,ic=null,Is=null,sc=!1;function Yd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sc||gi==null||gi!==ml(r)||(r=gi,"selectionStart"in r&&yf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Js(Is,r)||(Is=r,r=bl(ic,"onSelect"),0<r.length&&(e=new pf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gi)))}function Do(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yi={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},Za={},Sg={};Pn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function la(t){if(Za[t])return Za[t];if(!yi[t])return t;var e=yi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sg)return Za[t]=e[n];return t}var bg=la("animationend"),xg=la("animationiteration"),Eg=la("animationstart"),_g=la("transitionend"),Cg=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,e){Cg.set(t,e),ni(e,[t])}for(var Ja=0;Ja<Qd.length;Ja++){var qa=Qd[Ja],jw=qa.toLowerCase(),Uw=qa[0].toUpperCase()+qa.slice(1);wr(jw,"on"+Uw)}wr(bg,"onAnimationEnd");wr(xg,"onAnimationIteration");wr(Eg,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(_g,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function eh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jv(r,e,void 0,t),t.currentTarget=null}function Mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;eh(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;eh(i,l,u),s=a}}}if(yl)throw t=ec,yl=!1,ec=null,t}function Ae(t,e){var n=e[cc];n===void 0&&(n=e[cc]=new Set);var r=t+"__bubble";n.has(r)||(Tg(e,t,2,!1),n.add(r))}function Xa(t,e,n){var r=0;e&&(r|=4),Tg(n,t,r,e)}var zo="_reactListening"+Math.random().toString(36).slice(2);function qs(t){if(!t[zo]){t[zo]=!0,zm.forEach(function(n){n!=="selectionchange"&&(Vw.has(n)||Xa(n,!1,t),Xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zo]||(e[zo]=!0,Xa("selectionchange",!1,e))}}function Tg(t,e,n,r){switch(fg(e)){case 1:var i=iw;break;case 4:i=sw;break;default:i=df}n=i.bind(null,e,n,t),i=void 0,!Qu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Ar(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Xm(function(){var u=s,c=af(n),f=[];e:{var d=Cg.get(t);if(d!==void 0){var h=pf,g=t;switch(t){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":h=kw;break;case"focusin":g="focus",h=Wa;break;case"focusout":g="blur",h=Wa;break;case"beforeblur":case"afterblur":h=Wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=xw;break;case bg:case xg:case Eg:h=fw;break;case _g:h=_w;break;case"scroll":h=ow;break;case"wheel":h=Mw;break;case"copy":case"cut":case"paste":h=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Vd}var p=(e&4)!==0,S=!p&&t==="scroll",m=p?d!==null?d+"Capture":null:d;p=[];for(var y=u,k;y!==null;){k=y;var x=k.stateNode;if(k.tag===5&&x!==null&&(k=x,m!==null&&(x=Vs(y,m),x!=null&&p.push(Xs(y,x,k)))),S)break;y=y.return}0<p.length&&(d=new h(d,g,null,n,c),f.push({event:d,listeners:p}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Xu&&(g=n.relatedTarget||n.fromElement)&&(Ar(g)||g[Ln]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ar(g):null,g!==null&&(S=ri(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(p=jd,x="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=Vd,x="onPointerLeave",m="onPointerEnter",y="pointer"),S=h==null?d:vi(h),k=g==null?d:vi(g),d=new p(x,y+"leave",h,n,c),d.target=S,d.relatedTarget=k,x=null,Ar(c)===u&&(p=new p(m,y+"enter",g,n,c),p.target=k,p.relatedTarget=S,x=p),S=x,h&&g)t:{for(p=h,m=g,y=0,k=p;k;k=li(k))y++;for(k=0,x=m;x;x=li(x))k++;for(;0<y-k;)p=li(p),y--;for(;0<k-y;)m=li(m),k--;for(;y--;){if(p===m||m!==null&&p===m.alternate)break t;p=li(p),m=li(m)}p=null}else p=null;h!==null&&th(f,d,h,p,!1),g!==null&&S!==null&&th(f,S,g,p,!0)}}e:{if(d=u?vi(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var _=Dw;else if(Gd(d))if(yg)_=Bw;else{_=Pw;var P=zw}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(_=Lw);if(_&&(_=_(t,u))){gg(f,_,n,c);break e}P&&P(t,d,u),t==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&Ku(d,"number",d.value)}switch(P=u?vi(u):window,t){case"focusin":(Gd(P)||P.contentEditable==="true")&&(gi=P,ic=u,Is=null);break;case"focusout":Is=ic=gi=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,Yd(f,n,c);break;case"selectionchange":if($w)break;case"keydown":case"keyup":Yd(f,n,c)}var z;if(gf)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else mi?pg(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(hg&&n.locale!=="ko"&&(mi||A!=="onCompositionStart"?A==="onCompositionEnd"&&mi&&(z=dg()):(qn=c,hf="value"in qn?qn.value:qn.textContent,mi=!0)),P=bl(u,A),0<P.length&&(A=new Ud(A,t,null,n,c),f.push({event:A,listeners:P}),z?A.data=z:(z=mg(n),z!==null&&(A.data=z)))),(z=Ow?Nw(t,n):Aw(t,n))&&(u=bl(u,"onBeforeInput"),0<u.length&&(c=new Ud("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=z))}Mg(f,e)})}function Xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vs(t,n),s!=null&&r.unshift(Xs(t,s,i)),s=Vs(t,e),s!=null&&r.push(Xs(t,s,i))),t=t.return}return r}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function th(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Vs(n,s),a!=null&&o.unshift(Xs(n,a,l))):i||(a=Vs(n,s),a!=null&&o.push(Xs(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ww=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function nh(t){return(typeof t=="string"?t:""+t).replace(Ww,`
`).replace(Kw,"")}function Po(t,e,n){if(e=nh(e),nh(t)!==e&&n)throw Error(se(425))}function xl(){}var oc=null,lc=null;function ac(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,Zw=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(t){return rh.resolve(null).then(t).catch(Jw)}:uc;function Jw(t){setTimeout(function(){throw t})}function Qa(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gs(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ih(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var es=Math.random().toString(36).slice(2),vn="__reactFiber$"+es,Ys="__reactProps$"+es,Ln="__reactContainer$"+es,cc="__reactEvents$"+es,qw="__reactListeners$"+es,Xw="__reactHandles$"+es;function Ar(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ln]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ih(t);t!==null;){if(n=t[vn])return n;t=ih(t)}return e}t=n,n=t.parentNode}return null}function bo(t){return t=t[vn]||t[Ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function aa(t){return t[Ys]||null}var fc=[],wi=-1;function kr(t){return{current:t}}function Re(t){0>wi||(t.current=fc[wi],fc[wi]=null,wi--)}function Ne(t,e){wi++,fc[wi]=t.current,t.current=e}var yr={},ht=kr(yr),Ct=kr(!1),Kr=yr;function Bi(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function El(){Re(Ct),Re(ht)}function sh(t,e,n){if(ht.current!==yr)throw Error(se(168));Ne(ht,e),Ne(Ct,n)}function Og(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,zv(t)||"Unknown",i));return Le({},n,r)}function _l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Kr=ht.current,Ne(ht,t),Ne(Ct,Ct.current),!0}function oh(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=Og(t,e,Kr),r.__reactInternalMemoizedMergedChildContext=t,Re(Ct),Re(ht),Ne(ht,t)):Re(Ct),Ne(Ct,n)}var An=null,ua=!1,eu=!1;function Ng(t){An===null?An=[t]:An.push(t)}function Yw(t){ua=!0,Ng(t)}function Sr(){if(!eu&&An!==null){eu=!0;var t=0,e=Me;try{var n=An;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,ua=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),tg(uf,Sr),i}finally{Me=e,eu=!1}}return null}var ki=[],Si=0,Cl=null,Ml=0,$t=[],jt=0,Gr=null,Rn=1,In="";function Mr(t,e){ki[Si++]=Ml,ki[Si++]=Cl,Cl=t,Ml=e}function Ag(t,e,n){$t[jt++]=Rn,$t[jt++]=In,$t[jt++]=Gr,Gr=t;var r=Rn;t=In;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rn=1<<32-un(e)+i|n<<i|r,In=s+t}else Rn=1<<s|n<<i|r,In=t}function vf(t){t.return!==null&&(Mr(t,1),Ag(t,1,0))}function wf(t){for(;t===Cl;)Cl=ki[--Si],ki[Si]=null,Ml=ki[--Si],ki[Si]=null;for(;t===Gr;)Gr=$t[--jt],$t[jt]=null,In=$t[--jt],$t[jt]=null,Rn=$t[--jt],$t[jt]=null}var zt=null,Dt=null,Ie=!1,rn=null;function Rg(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,Dt=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:Rn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,Dt=null,!0):!1;default:return!1}}function dc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hc(t){if(Ie){var e=Dt;if(e){var n=e;if(!lh(t,e)){if(dc(t))throw Error(se(418));e=or(n.nextSibling);var r=zt;e&&lh(t,e)?Rg(r,n):(t.flags=t.flags&-4097|2,Ie=!1,zt=t)}}else{if(dc(t))throw Error(se(418));t.flags=t.flags&-4097|2,Ie=!1,zt=t}}}function ah(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Lo(t){if(t!==zt)return!1;if(!Ie)return ah(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ac(t.type,t.memoizedProps)),e&&(e=Dt)){if(dc(t))throw Ig(),Error(se(418));for(;e;)Rg(t,e),e=or(e.nextSibling)}if(ah(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=zt?or(t.stateNode.nextSibling):null;return!0}function Ig(){for(var t=Dt;t;)t=or(t.nextSibling)}function Fi(){Dt=zt=null,Ie=!1}function kf(t){rn===null?rn=[t]:rn.push(t)}var Qw=Hn.ReactCurrentBatchConfig;function tn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Tl=kr(null),Ol=null,bi=null,Sf=null;function bf(){Sf=bi=Ol=null}function xf(t){var e=Tl.current;Re(Tl),t._currentValue=e}function pc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ai(t,e){Ol=t,Sf=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Sf!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(Ol===null)throw Error(se(308));bi=t,Ol.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var Rr=null;function Ef(t){Rr===null?Rr=[t]:Rr.push(t)}function Dg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ef(e)):(n.next=i.next,i.next=n),e.interleaved=n,Bn(t,r)}function Bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Bn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ef(r)):(e.next=i.next,i.next=e),r.interleaved=e,Bn(t,n)}function il(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cf(t,n)}}function uh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,r){var i=t.updateQueue;Wn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,h=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,p=l;switch(d=e,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=Le({},f,d);break e;case 2:Wn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else h={eventTime:h,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=h,a=f):c=c.next=h,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=f}}function ch(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var Pg=new Dm.Component().refs;function mc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ca={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=ur(t),s=Dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=lr(t,s,i),e!==null&&(cn(e,t,i,r),il(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=ur(t),s=Dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=lr(t,s,i),e!==null&&(cn(e,t,i,r),il(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=ur(t),i=Dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=lr(t,i,r),e!==null&&(cn(e,t,r,n),il(e,t,r))}};function fh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Js(n,r)||!Js(i,s):!0}function Lg(t,e,n){var r=!1,i=yr,s=e.contextType;return typeof s=="object"&&s!==null?s=Zt(s):(i=Mt(e)?Kr:ht.current,r=e.contextTypes,s=(r=r!=null)?Bi(t,i):yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ca,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ca.enqueueReplaceState(e,e.state,null)}function gc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Pg,_f(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zt(s):(s=Mt(e)?Kr:ht.current,i.context=Bi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ca.enqueueReplaceState(i,i.state,null),Nl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Pg&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Bo(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hh(t){var e=t._init;return e(t._payload)}function Bg(t){function e(m,y){if(t){var k=m.deletions;k===null?(m.deletions=[y],m.flags|=16):k.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=cr(m,y),m.index=0,m.sibling=null,m}function s(m,y,k){return m.index=k,t?(k=m.alternate,k!==null?(k=k.index,k<y?(m.flags|=2,y):k):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,k,x){return y===null||y.tag!==6?(y=lu(k,m.mode,x),y.return=m,y):(y=i(y,k),y.return=m,y)}function a(m,y,k,x){var _=k.type;return _===pi?c(m,y,k.props.children,x,k.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vn&&hh(_)===y.type)?(x=i(y,k.props),x.ref=fs(m,y,k),x.return=m,x):(x=cl(k.type,k.key,k.props,null,m.mode,x),x.ref=fs(m,y,k),x.return=m,x)}function u(m,y,k,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=au(k,m.mode,x),y.return=m,y):(y=i(y,k.children||[]),y.return=m,y)}function c(m,y,k,x,_){return y===null||y.tag!==7?(y=Br(k,m.mode,x,_),y.return=m,y):(y=i(y,k),y.return=m,y)}function f(m,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=lu(""+y,m.mode,k),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mo:return k=cl(y.type,y.key,y.props,null,m.mode,k),k.ref=fs(m,null,y),k.return=m,k;case hi:return y=au(y,m.mode,k),y.return=m,y;case Vn:var x=y._init;return f(m,x(y._payload),k)}if(xs(y)||ss(y))return y=Br(y,m.mode,k,null),y.return=m,y;Bo(m,y)}return null}function d(m,y,k,x){var _=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return _!==null?null:l(m,y,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Mo:return k.key===_?a(m,y,k,x):null;case hi:return k.key===_?u(m,y,k,x):null;case Vn:return _=k._init,d(m,y,_(k._payload),x)}if(xs(k)||ss(k))return _!==null?null:c(m,y,k,x,null);Bo(m,k)}return null}function h(m,y,k,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(k)||null,l(y,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mo:return m=m.get(x.key===null?k:x.key)||null,a(y,m,x,_);case hi:return m=m.get(x.key===null?k:x.key)||null,u(y,m,x,_);case Vn:var P=x._init;return h(m,y,k,P(x._payload),_)}if(xs(x)||ss(x))return m=m.get(k)||null,c(y,m,x,_,null);Bo(y,x)}return null}function g(m,y,k,x){for(var _=null,P=null,z=y,A=y=0,H=null;z!==null&&A<k.length;A++){z.index>A?(H=z,z=null):H=z.sibling;var N=d(m,z,k[A],x);if(N===null){z===null&&(z=H);break}t&&z&&N.alternate===null&&e(m,z),y=s(N,y,A),P===null?_=N:P.sibling=N,P=N,z=H}if(A===k.length)return n(m,z),Ie&&Mr(m,A),_;if(z===null){for(;A<k.length;A++)z=f(m,k[A],x),z!==null&&(y=s(z,y,A),P===null?_=z:P.sibling=z,P=z);return Ie&&Mr(m,A),_}for(z=r(m,z);A<k.length;A++)H=h(z,m,A,k[A],x),H!==null&&(t&&H.alternate!==null&&z.delete(H.key===null?A:H.key),y=s(H,y,A),P===null?_=H:P.sibling=H,P=H);return t&&z.forEach(function(j){return e(m,j)}),Ie&&Mr(m,A),_}function p(m,y,k,x){var _=ss(k);if(typeof _!="function")throw Error(se(150));if(k=_.call(k),k==null)throw Error(se(151));for(var P=_=null,z=y,A=y=0,H=null,N=k.next();z!==null&&!N.done;A++,N=k.next()){z.index>A?(H=z,z=null):H=z.sibling;var j=d(m,z,N.value,x);if(j===null){z===null&&(z=H);break}t&&z&&j.alternate===null&&e(m,z),y=s(j,y,A),P===null?_=j:P.sibling=j,P=j,z=H}if(N.done)return n(m,z),Ie&&Mr(m,A),_;if(z===null){for(;!N.done;A++,N=k.next())N=f(m,N.value,x),N!==null&&(y=s(N,y,A),P===null?_=N:P.sibling=N,P=N);return Ie&&Mr(m,A),_}for(z=r(m,z);!N.done;A++,N=k.next())N=h(z,m,A,N.value,x),N!==null&&(t&&N.alternate!==null&&z.delete(N.key===null?A:N.key),y=s(N,y,A),P===null?_=N:P.sibling=N,P=N);return t&&z.forEach(function(b){return e(m,b)}),Ie&&Mr(m,A),_}function S(m,y,k,x){if(typeof k=="object"&&k!==null&&k.type===pi&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Mo:e:{for(var _=k.key,P=y;P!==null;){if(P.key===_){if(_=k.type,_===pi){if(P.tag===7){n(m,P.sibling),y=i(P,k.props.children),y.return=m,m=y;break e}}else if(P.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Vn&&hh(_)===P.type){n(m,P.sibling),y=i(P,k.props),y.ref=fs(m,P,k),y.return=m,m=y;break e}n(m,P);break}else e(m,P);P=P.sibling}k.type===pi?(y=Br(k.props.children,m.mode,x,k.key),y.return=m,m=y):(x=cl(k.type,k.key,k.props,null,m.mode,x),x.ref=fs(m,y,k),x.return=m,m=x)}return o(m);case hi:e:{for(P=k.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(m,y.sibling),y=i(y,k.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=au(k,m.mode,x),y.return=m,m=y}return o(m);case Vn:return P=k._init,S(m,y,P(k._payload),x)}if(xs(k))return g(m,y,k,x);if(ss(k))return p(m,y,k,x);Bo(m,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,k),y.return=m,m=y):(n(m,y),y=lu(k,m.mode,x),y.return=m,m=y),o(m)):n(m,y)}return S}var Hi=Bg(!0),Fg=Bg(!1),xo={},xn=kr(xo),Qs=kr(xo),eo=kr(xo);function Ir(t){if(t===xo)throw Error(se(174));return t}function Cf(t,e){switch(Ne(eo,e),Ne(Qs,t),Ne(xn,xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zu(e,t)}Re(xn),Ne(xn,e)}function $i(){Re(xn),Re(Qs),Re(eo)}function Hg(t){Ir(eo.current);var e=Ir(xn.current),n=Zu(e,t.type);e!==n&&(Ne(Qs,t),Ne(xn,n))}function Mf(t){Qs.current===t&&(Re(xn),Re(Qs))}var ze=kr(0);function Al(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tu=[];function Tf(){for(var t=0;t<tu.length;t++)tu[t]._workInProgressVersionPrimary=null;tu.length=0}var sl=Hn.ReactCurrentDispatcher,nu=Hn.ReactCurrentBatchConfig,Zr=0,Pe=null,We=null,Ze=null,Rl=!1,Ds=!1,to=0,ek=0;function ot(){throw Error(se(321))}function Of(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function Nf(t,e,n,r,i,s){if(Zr=s,Pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sl.current=t===null||t.memoizedState===null?ik:sk,t=n(r,i),Ds){s=0;do{if(Ds=!1,to=0,25<=s)throw Error(se(301));s+=1,Ze=We=null,e.updateQueue=null,sl.current=ok,t=n(r,i)}while(Ds)}if(sl.current=Il,e=We!==null&&We.next!==null,Zr=0,Ze=We=Pe=null,Rl=!1,e)throw Error(se(300));return t}function Af(){var t=to!==0;return to=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Pe.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Jt(){if(We===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Ze===null?Pe.memoizedState:Ze.next;if(e!==null)Ze=e,We=t;else{if(t===null)throw Error(se(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Ze===null?Pe.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function no(t,e){return typeof e=="function"?e(t):e}function ru(t){var e=Jt(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Zr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,Pe.lanes|=c,Jr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,dn(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Pe.lanes|=s,Jr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iu(t){var e=Jt(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dn(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $g(){}function jg(t,e){var n=Pe,r=Jt(),i=e(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,Rf(Wg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ro(9,Vg.bind(null,n,r,i,e),void 0,null),Je===null)throw Error(se(349));Zr&30||Ug(n,e,i)}return i}function Ug(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vg(t,e,n,r){e.value=n,e.getSnapshot=r,Kg(e)&&Gg(t)}function Wg(t,e,n){return n(function(){Kg(e)&&Gg(t)})}function Kg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function Gg(t){var e=Bn(t,1);e!==null&&cn(e,t,1,-1)}function ph(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:t},e.queue=t,t=t.dispatch=rk.bind(null,Pe,t),[e.memoizedState,t]}function ro(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pe.updateQueue,e===null?(e={lastEffect:null,stores:null},Pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zg(){return Jt().memoizedState}function ol(t,e,n,r){var i=gn();Pe.flags|=t,i.memoizedState=ro(1|e,n,void 0,r===void 0?null:r)}function fa(t,e,n,r){var i=Jt();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&Of(r,o.deps)){i.memoizedState=ro(e,n,s,r);return}}Pe.flags|=t,i.memoizedState=ro(1|e,n,s,r)}function mh(t,e){return ol(8390656,8,t,e)}function Rf(t,e){return fa(2048,8,t,e)}function Jg(t,e){return fa(4,2,t,e)}function qg(t,e){return fa(4,4,t,e)}function Xg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yg(t,e,n){return n=n!=null?n.concat([t]):null,fa(4,4,Xg.bind(null,e,t),n)}function If(){}function Qg(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Of(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e0(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Of(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t0(t,e,n){return Zr&21?(dn(n,e)||(n=ig(),Pe.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function tk(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=nu.transition;nu.transition={};try{t(!1),e()}finally{Me=n,nu.transition=r}}function n0(){return Jt().memoizedState}function nk(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r0(t))i0(e,n);else if(n=Dg(t,e,n,r),n!==null){var i=gt();cn(n,t,r,i),s0(n,e,r)}}function rk(t,e,n){var r=ur(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r0(t))i0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,dn(l,o)){var a=e.interleaved;a===null?(i.next=i,Ef(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Dg(t,e,i,r),n!==null&&(i=gt(),cn(n,t,r,i),s0(n,e,r))}}function r0(t){var e=t.alternate;return t===Pe||e!==null&&e===Pe}function i0(t,e){Ds=Rl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function s0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cf(t,n)}}var Il={readContext:Zt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},ik={readContext:Zt,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:mh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ol(4194308,4,Xg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ol(4194308,4,t,e)},useInsertionEffect:function(t,e){return ol(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nk.bind(null,Pe,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:ph,useDebugValue:If,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=ph(!1),e=t[0];return t=tk.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pe,i=gn();if(Ie){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Je===null)throw Error(se(349));Zr&30||Ug(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mh(Wg.bind(null,r,s,t),[t]),r.flags|=2048,ro(9,Vg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gn(),e=Je.identifierPrefix;if(Ie){var n=In,r=Rn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=to++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ek++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sk={readContext:Zt,useCallback:Qg,useContext:Zt,useEffect:Rf,useImperativeHandle:Yg,useInsertionEffect:Jg,useLayoutEffect:qg,useMemo:e0,useReducer:ru,useRef:Zg,useState:function(){return ru(no)},useDebugValue:If,useDeferredValue:function(t){var e=Jt();return t0(e,We.memoizedState,t)},useTransition:function(){var t=ru(no)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:$g,useSyncExternalStore:jg,useId:n0,unstable_isNewReconciler:!1},ok={readContext:Zt,useCallback:Qg,useContext:Zt,useEffect:Rf,useImperativeHandle:Yg,useInsertionEffect:Jg,useLayoutEffect:qg,useMemo:e0,useReducer:iu,useRef:Zg,useState:function(){return iu(no)},useDebugValue:If,useDeferredValue:function(t){var e=Jt();return We===null?e.memoizedState=t:t0(e,We.memoizedState,t)},useTransition:function(){var t=iu(no)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:$g,useSyncExternalStore:jg,useId:n0,unstable_isNewReconciler:!1};function ji(t,e){try{var n="",r=e;do n+=Dv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function su(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lk=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){zl||(zl=!0,Mc=r),yc(t,e)},n}function l0(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){yc(t,e),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sk.bind(null,t,e,n),e.then(t,t))}function yh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var ak=Hn.ReactCurrentOwner,Et=!1;function mt(t,e,n,r){e.child=t===null?Fg(e,null,n,r):Hi(e,t.child,n,r)}function wh(t,e,n,r,i){n=n.render;var s=e.ref;return Ai(e,i),r=Nf(t,e,n,r,s,i),n=Af(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fn(t,e,i)):(Ie&&n&&vf(e),e.flags|=1,mt(t,e,r,i),e.child)}function kh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,a0(t,e,s,r,i)):(t=cl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(o,r)&&t.ref===e.ref)return Fn(t,e,i)}return e.flags|=1,t=cr(s,r),t.ref=e.ref,t.return=e,e.child=t}function a0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Js(s,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Fn(t,e,i)}return vc(t,e,n,r,i)}function u0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ei,It),It|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Ei,It),It|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Ei,It),It|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Ei,It),It|=r;return mt(t,e,i,n),e.child}function c0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vc(t,e,n,r,i){var s=Mt(n)?Kr:ht.current;return s=Bi(e,s),Ai(e,i),n=Nf(t,e,n,r,s,i),r=Af(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fn(t,e,i)):(Ie&&r&&vf(e),e.flags|=1,mt(t,e,n,i),e.child)}function Sh(t,e,n,r,i){if(Mt(n)){var s=!0;_l(e)}else s=!1;if(Ai(e,i),e.stateNode===null)ll(t,e),Lg(e,n,r),gc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zt(u):(u=Mt(n)?Kr:ht.current,u=Bi(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&dh(e,o,r,u),Wn=!1;var d=e.memoizedState;o.state=d,Nl(e,r,o,i),a=e.memoizedState,l!==r||d!==a||Ct.current||Wn?(typeof c=="function"&&(mc(e,n,c,r),a=e.memoizedState),(l=Wn||fh(e,n,l,r,d,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:tn(e.type,l),o.props=u,f=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Zt(a):(a=Mt(n)?Kr:ht.current,a=Bi(e,a));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==a)&&dh(e,o,r,a),Wn=!1,d=e.memoizedState,o.state=d,Nl(e,r,o,i);var g=e.memoizedState;l!==f||d!==g||Ct.current||Wn?(typeof h=="function"&&(mc(e,n,h,r),g=e.memoizedState),(u=Wn||fh(e,n,u,r,d,g,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wc(t,e,n,r,s,i)}function wc(t,e,n,r,i,s){c0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&oh(e,n,!1),Fn(t,e,s);r=e.stateNode,ak.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,s),e.child=Hi(e,null,l,s)):mt(t,e,l,s),e.memoizedState=r.state,i&&oh(e,n,!0),e.child}function f0(t){var e=t.stateNode;e.pendingContext?sh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sh(t,e.context,!1),Cf(t,e.containerInfo)}function bh(t,e,n,r,i){return Fi(),kf(i),e.flags|=256,mt(t,e,n,r),e.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Sc(t){return{baseLanes:t,cachePool:null,transitions:null}}function d0(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ne(ze,i&1),t===null)return hc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=pa(o,r,0,null),t=Br(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sc(n),e.memoizedState=kc,t):Df(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return uk(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=cr(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=cr(l,s):(s=Br(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kc,r}return s=t.child,t=s.sibling,r=cr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Df(t,e){return e=pa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fo(t,e,n,r){return r!==null&&kf(r),Hi(e,t.child,null,n),t=Df(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function uk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=su(Error(se(422))),Fo(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=pa({mode:"visible",children:r.children},i,0,null),s=Br(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=Sc(o),e.memoizedState=kc,s);if(!(e.mode&1))return Fo(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(se(419)),r=su(s,r,void 0),Fo(t,e,o,r)}if(l=(o&t.childLanes)!==0,Et||l){if(r=Je,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bn(t,i),cn(r,t,i,-1))}return Hf(),r=su(Error(se(421))),Fo(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=or(i.nextSibling),zt=e,Ie=!0,rn=null,t!==null&&($t[jt++]=Rn,$t[jt++]=In,$t[jt++]=Gr,Rn=t.id,In=t.overflow,Gr=e),e=Df(e,r.children),e.flags|=4096,e)}function xh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pc(t.return,e,n)}function ou(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function h0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xh(t,n,e);else if(t.tag===19)xh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Al(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ou(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Al(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ou(e,!0,n,null,s);break;case"together":ou(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ll(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ck(t,e,n){switch(e.tag){case 3:f0(e),Fi();break;case 5:Hg(e);break;case 1:Mt(e.type)&&_l(e);break;case 4:Cf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ne(Tl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?d0(t,e,n):(Ne(ze,ze.current&1),t=Fn(t,e,n),t!==null?t.sibling:null);Ne(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return Fn(t,e,n)}var p0,bc,m0,g0;p0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bc=function(){};m0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ir(xn.current);var s=null;switch(n){case"input":i=Vu(t,i),r=Vu(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=Gu(t,i),r=Gu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xl)}Ju(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(js.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(js.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ae("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};g0=function(t,e,n,r){n!==r&&(e.flags|=4)};function ds(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fk(t,e,n){var r=e.pendingProps;switch(wf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Mt(e.type)&&El(),lt(e),null;case 3:return r=e.stateNode,$i(),Re(Ct),Re(ht),Tf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Nc(rn),rn=null))),bc(t,e),lt(e),null;case 5:Mf(e);var i=Ir(eo.current);if(n=e.type,t!==null&&e.stateNode!=null)m0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return lt(e),null}if(t=Ir(xn.current),Lo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vn]=e,r[Ys]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<_s.length;i++)Ae(_s[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Rd(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":Dd(r,s),Ae("invalid",r)}Ju(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Po(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Po(r.textContent,l,t),i=["children",""+l]):js.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":To(r),Id(r,s,!0);break;case"textarea":To(r),zd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vn]=e,t[Ys]=r,p0(t,e,!1,!1),e.stateNode=t;e:{switch(o=qu(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<_s.length;i++)Ae(_s[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":Rd(t,r),i=Vu(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":Dd(t,r),i=Gu(t,r),Ae("invalid",t);break;default:i=r}Ju(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Km(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Vm(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Us(t,a):typeof a=="number"&&Us(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(js.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ae("scroll",t):a!=null&&rf(t,s,a,o))}switch(n){case"input":To(t),Id(t,r,!1);break;case"textarea":To(t),zd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Ir(eo.current),Ir(xn.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(s=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Po(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Po(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return lt(e),null;case 13:if(Re(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&Dt!==null&&e.mode&1&&!(e.flags&128))Ig(),Fi(),e.flags|=98560,s=!1;else if(s=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[vn]=e}else Fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else rn!==null&&(Nc(rn),rn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?Ke===0&&(Ke=3):Hf())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return $i(),bc(t,e),t===null&&qs(e.stateNode.containerInfo),lt(e),null;case 10:return xf(e.type._context),lt(e),null;case 17:return Mt(e.type)&&El(),lt(e),null;case 19:if(Re(ze),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ds(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Al(t),o!==null){for(e.flags|=128,ds(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>Ui&&(e.flags|=128,r=!0,ds(s,!1),e.lanes=4194304)}else{if(!r)if(t=Al(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ds(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return lt(e),null}else 2*$e()-s.renderingStartTime>Ui&&n!==1073741824&&(e.flags|=128,r=!0,ds(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=ze.current,Ne(ze,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Ff(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?It&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function dk(t,e){switch(wf(e),e.tag){case 1:return Mt(e.type)&&El(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $i(),Re(Ct),Re(ht),Tf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mf(e),null;case 13:if(Re(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(ze),null;case 4:return $i(),null;case 10:return xf(e.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Ho=!1,ct=!1,hk=typeof WeakSet=="function"?WeakSet:Set,fe=null;function xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function xc(t,e,n){try{n()}catch(r){Be(t,e,r)}}var Eh=!1;function pk(t,e){if(oc=kl,t=kg(),yf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(lc={focusedElem:t,selectionRange:n},kl=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,S=g.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?p:tn(e.type,p),S);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(x){Be(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return g=Eh,Eh=!1,g}function zs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xc(e,n,s)}i=i.next}while(i!==r)}}function da(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ec(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y0(t){var e=t.alternate;e!==null&&(t.alternate=null,y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[Ys],delete e[cc],delete e[qw],delete e[Xw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v0(t){return t.tag===5||t.tag===3||t.tag===4}function _h(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xl));else if(r!==4&&(t=t.child,t!==null))for(_c(t,e,n),t=t.sibling;t!==null;)_c(t,e,n),t=t.sibling}function Cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cc(t,e,n),t=t.sibling;t!==null;)Cc(t,e,n),t=t.sibling}var tt=null,nn=!1;function $n(t,e,n){for(n=n.child;n!==null;)w0(t,e,n),n=n.sibling}function w0(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 5:ct||xi(n,e);case 6:var r=tt,i=nn;tt=null,$n(t,e,n),tt=r,nn=i,tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?Qa(t.parentNode,n):t.nodeType===1&&Qa(t,n),Gs(t)):Qa(tt,n.stateNode));break;case 4:r=tt,i=nn,tt=n.stateNode.containerInfo,nn=!0,$n(t,e,n),tt=r,nn=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xc(n,e,o),i=i.next}while(i!==r)}$n(t,e,n);break;case 1:if(!ct&&(xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,e,l)}$n(t,e,n);break;case 21:$n(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,$n(t,e,n),ct=r):$n(t,e,n);break;default:$n(t,e,n)}}function Ch(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hk),e.forEach(function(r){var i=xk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:tt=l.stateNode,nn=!1;break e;case 3:tt=l.stateNode.containerInfo,nn=!0;break e;case 4:tt=l.stateNode.containerInfo,nn=!0;break e}l=l.return}if(tt===null)throw Error(se(160));w0(s,o,i),tt=null,nn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k0(e,t),e=e.sibling}function k0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),mn(t),r&4){try{zs(3,t,t.return),da(3,t)}catch(p){Be(t,t.return,p)}try{zs(5,t,t.return)}catch(p){Be(t,t.return,p)}}break;case 1:qt(e,t),mn(t),r&512&&n!==null&&xi(n,n.return);break;case 5:if(qt(e,t),mn(t),r&512&&n!==null&&xi(n,n.return),t.flags&32){var i=t.stateNode;try{Us(i,"")}catch(p){Be(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&$m(i,s),qu(l,o);var u=qu(l,s);for(o=0;o<a.length;o+=2){var c=a[o],f=a[o+1];c==="style"?Km(i,f):c==="dangerouslySetInnerHTML"?Vm(i,f):c==="children"?Us(i,f):rf(i,c,f,u)}switch(l){case"input":Wu(i,s);break;case"textarea":jm(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Mi(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Mi(i,!!s.multiple,s.defaultValue,!0):Mi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ys]=s}catch(p){Be(t,t.return,p)}}break;case 6:if(qt(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Be(t,t.return,p)}}break;case 3:if(qt(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(e.containerInfo)}catch(p){Be(t,t.return,p)}break;case 4:qt(e,t),mn(t);break;case 13:qt(e,t),mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lf=$e())),r&4&&Ch(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(u=ct)||c,qt(e,t),ct=u):qt(e,t),mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(f=fe=c;fe!==null;){switch(d=fe,h=d.child,d.tag){case 0:case 11:case 14:case 15:zs(4,d,d.return);break;case 1:xi(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){Be(r,n,p)}}break;case 5:xi(d,d.return);break;case 22:if(d.memoizedState!==null){Th(f);continue}}h!==null?(h.return=d,fe=h):Th(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Wm("display",o))}catch(p){Be(t,t.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Be(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(e,t),mn(t),r&4&&Ch(t);break;case 21:break;default:qt(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v0(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Us(i,""),r.flags&=-33);var s=_h(t);Cc(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_h(t);_c(t,l,o);break;default:throw Error(se(161))}}catch(a){Be(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mk(t,e,n){fe=t,S0(t)}function S0(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ho;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||ct;l=Ho;var u=ct;if(Ho=o,(ct=a)&&!u)for(fe=i;fe!==null;)o=fe,a=o.child,o.tag===22&&o.memoizedState!==null?Oh(i):a!==null?(a.return=o,fe=a):Oh(i);for(;s!==null;)fe=s,S0(s),s=s.sibling;fe=i,Ho=l,ct=u}Mh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):Mh(t)}}function Mh(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||da(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ch(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ch(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Gs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}ct||e.flags&512&&Ec(e)}catch(d){Be(e,e.return,d)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Th(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function Oh(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{da(4,e)}catch(a){Be(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Be(e,i,a)}}var s=e.return;try{Ec(e)}catch(a){Be(e,s,a)}break;case 5:var o=e.return;try{Ec(e)}catch(a){Be(e,o,a)}}}catch(a){Be(e,e.return,a)}if(e===t){fe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,fe=l;break}fe=e.return}}var gk=Math.ceil,Dl=Hn.ReactCurrentDispatcher,zf=Hn.ReactCurrentOwner,Kt=Hn.ReactCurrentBatchConfig,xe=0,Je=null,Ue=null,it=0,It=0,Ei=kr(0),Ke=0,io=null,Jr=0,ha=0,Pf=0,Ps=null,xt=null,Lf=0,Ui=1/0,On=null,zl=!1,Mc=null,ar=null,$o=!1,Xn=null,Pl=0,Ls=0,Tc=null,al=-1,ul=0;function gt(){return xe&6?$e():al!==-1?al:al=$e()}function ur(t){return t.mode&1?xe&2&&it!==0?it&-it:Qw.transition!==null?(ul===0&&(ul=ig()),ul):(t=Me,t!==0||(t=window.event,t=t===void 0?16:fg(t.type)),t):1}function cn(t,e,n,r){if(50<Ls)throw Ls=0,Tc=null,Error(se(185));ko(t,n,r),(!(xe&2)||t!==Je)&&(t===Je&&(!(xe&2)&&(ha|=n),Ke===4&&Zn(t,it)),Tt(t,r),n===1&&xe===0&&!(e.mode&1)&&(Ui=$e()+500,ua&&Sr()))}function Tt(t,e){var n=t.callbackNode;Qv(t,e);var r=wl(t,t===Je?it:0);if(r===0)n!==null&&Bd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bd(n),e===1)t.tag===0?Yw(Nh.bind(null,t)):Ng(Nh.bind(null,t)),Zw(function(){!(xe&6)&&Sr()}),n=null;else{switch(sg(r)){case 1:n=uf;break;case 4:n=ng;break;case 16:n=vl;break;case 536870912:n=rg;break;default:n=vl}n=O0(n,b0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b0(t,e){if(al=-1,ul=0,xe&6)throw Error(se(327));var n=t.callbackNode;if(Ri()&&t.callbackNode!==n)return null;var r=wl(t,t===Je?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ll(t,r);else{e=r;var i=xe;xe|=2;var s=E0();(Je!==t||it!==e)&&(On=null,Ui=$e()+500,Lr(t,e));do try{wk();break}catch(l){x0(t,l)}while(1);bf(),Dl.current=s,xe=i,Ue!==null?e=0:(Je=null,it=0,e=Ke)}if(e!==0){if(e===2&&(i=tc(t),i!==0&&(r=i,e=Oc(t,i))),e===1)throw n=io,Lr(t,0),Zn(t,r),Tt(t,$e()),n;if(e===6)Zn(t,r);else{if(i=t.current.alternate,!(r&30)&&!yk(i)&&(e=Ll(t,r),e===2&&(s=tc(t),s!==0&&(r=s,e=Oc(t,s))),e===1))throw n=io,Lr(t,0),Zn(t,r),Tt(t,$e()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Tr(t,xt,On);break;case 3:if(Zn(t,r),(r&130023424)===r&&(e=Lf+500-$e(),10<e)){if(wl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=uc(Tr.bind(null,t,xt,On),e);break}Tr(t,xt,On);break;case 4:if(Zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gk(r/1960))-r,10<r){t.timeoutHandle=uc(Tr.bind(null,t,xt,On),r);break}Tr(t,xt,On);break;case 5:Tr(t,xt,On);break;default:throw Error(se(329))}}}return Tt(t,$e()),t.callbackNode===n?b0.bind(null,t):null}function Oc(t,e){var n=Ps;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=xt,xt=n,e!==null&&Nc(e)),t}function Nc(t){xt===null?xt=t:xt.push.apply(xt,t)}function yk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zn(t,e){for(e&=~Pf,e&=~ha,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function Nh(t){if(xe&6)throw Error(se(327));Ri();var e=wl(t,0);if(!(e&1))return Tt(t,$e()),null;var n=Ll(t,e);if(t.tag!==0&&n===2){var r=tc(t);r!==0&&(e=r,n=Oc(t,r))}if(n===1)throw n=io,Lr(t,0),Zn(t,e),Tt(t,$e()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,xt,On),Tt(t,$e()),null}function Bf(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(Ui=$e()+500,ua&&Sr())}}function qr(t){Xn!==null&&Xn.tag===0&&!(xe&6)&&Ri();var e=xe;xe|=1;var n=Kt.transition,r=Me;try{if(Kt.transition=null,Me=1,t)return t()}finally{Me=r,Kt.transition=n,xe=e,!(xe&6)&&Sr()}}function Ff(){It=Ei.current,Re(Ei)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gw(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(wf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&El();break;case 3:$i(),Re(Ct),Re(ht),Tf();break;case 5:Mf(r);break;case 4:$i();break;case 13:Re(ze);break;case 19:Re(ze);break;case 10:xf(r.type._context);break;case 22:case 23:Ff()}n=n.return}if(Je=t,Ue=t=cr(t.current,null),it=It=e,Ke=0,io=null,Pf=ha=Jr=0,xt=Ps=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Rr=null}return t}function x0(t,e){do{var n=Ue;try{if(bf(),sl.current=Il,Rl){for(var r=Pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rl=!1}if(Zr=0,Ze=We=Pe=null,Ds=!1,to=0,zf.current=null,n===null||n.return===null){Ke=1,io=e,Ue=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=it,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=yh(o);if(h!==null){h.flags&=-257,vh(h,o,l,s,e),h.mode&1&&gh(s,u,e),e=h,a=u;var g=e.updateQueue;if(g===null){var p=new Set;p.add(a),e.updateQueue=p}else g.add(a);break e}else{if(!(e&1)){gh(s,u,e),Hf();break e}a=Error(se(426))}}else if(Ie&&l.mode&1){var S=yh(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),vh(S,o,l,s,e),kf(ji(a,l));break e}}s=a=ji(a,l),Ke!==4&&(Ke=2),Ps===null?Ps=[s]:Ps.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=o0(s,a,e);uh(s,m);break e;case 1:l=a;var y=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ar===null||!ar.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=l0(s,l,e);uh(s,x);break e}}s=s.return}while(s!==null)}C0(n)}catch(_){e=_,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function E0(){var t=Dl.current;return Dl.current=Il,t===null?Il:t}function Hf(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(Jr&268435455)&&!(ha&268435455)||Zn(Je,it)}function Ll(t,e){var n=xe;xe|=2;var r=E0();(Je!==t||it!==e)&&(On=null,Lr(t,e));do try{vk();break}catch(i){x0(t,i)}while(1);if(bf(),xe=n,Dl.current=r,Ue!==null)throw Error(se(261));return Je=null,it=0,Ke}function vk(){for(;Ue!==null;)_0(Ue)}function wk(){for(;Ue!==null&&!Vv();)_0(Ue)}function _0(t){var e=T0(t.alternate,t,It);t.memoizedProps=t.pendingProps,e===null?C0(t):Ue=e,zf.current=null}function C0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dk(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ke=6,Ue=null;return}}else if(n=fk(n,e,It),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);Ke===0&&(Ke=5)}function Tr(t,e,n){var r=Me,i=Kt.transition;try{Kt.transition=null,Me=1,kk(t,e,n,r)}finally{Kt.transition=i,Me=r}return null}function kk(t,e,n,r){do Ri();while(Xn!==null);if(xe&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ew(t,s),t===Je&&(Ue=Je=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$o||($o=!0,O0(vl,function(){return Ri(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kt.transition,Kt.transition=null;var o=Me;Me=1;var l=xe;xe|=4,zf.current=null,pk(t,n),k0(n,t),Hw(lc),kl=!!oc,lc=oc=null,t.current=n,mk(n),Wv(),xe=l,Me=o,Kt.transition=s}else t.current=n;if($o&&($o=!1,Xn=t,Pl=i),s=t.pendingLanes,s===0&&(ar=null),Zv(n.stateNode),Tt(t,$e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,t=Mc,Mc=null,t;return Pl&1&&t.tag!==0&&Ri(),s=t.pendingLanes,s&1?t===Tc?Ls++:(Ls=0,Tc=t):Ls=0,Sr(),null}function Ri(){if(Xn!==null){var t=sg(Pl),e=Kt.transition,n=Me;try{if(Kt.transition=null,Me=16>t?16:t,Xn===null)var r=!1;else{if(t=Xn,Xn=null,Pl=0,xe&6)throw Error(se(331));var i=xe;for(xe|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:zs(8,c,s)}var f=c.child;if(f!==null)f.return=c,fe=f;else for(;fe!==null;){c=fe;var d=c.sibling,h=c.return;if(y0(c),c===u){fe=null;break}if(d!==null){d.return=h,fe=d;break}fe=h}}}var g=s.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var S=p.sibling;p.sibling=null,p=S}while(p!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zs(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,fe=m;break e}fe=s.return}}var y=t.current;for(fe=y;fe!==null;){o=fe;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,fe=k;else e:for(o=y;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:da(9,l)}}catch(_){Be(l,l.return,_)}if(l===o){fe=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,fe=x;break e}fe=l.return}}if(xe=i,Sr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(ia,t)}catch{}r=!0}return r}finally{Me=n,Kt.transition=e}}return!1}function Ah(t,e,n){e=ji(n,e),e=o0(t,e,1),t=lr(t,e,1),e=gt(),t!==null&&(ko(t,1,e),Tt(t,e))}function Be(t,e,n){if(t.tag===3)Ah(t,t,n);else for(;e!==null;){if(e.tag===3){Ah(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){t=ji(n,t),t=l0(e,t,1),e=lr(e,t,1),t=gt(),e!==null&&(ko(e,1,t),Tt(e,t));break}}e=e.return}}function Sk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(it&n)===n&&(Ke===4||Ke===3&&(it&130023424)===it&&500>$e()-Lf?Lr(t,0):Pf|=n),Tt(t,e)}function M0(t,e){e===0&&(t.mode&1?(e=Ao,Ao<<=1,!(Ao&130023424)&&(Ao=4194304)):e=1);var n=gt();t=Bn(t,e),t!==null&&(ko(t,e,n),Tt(t,n))}function bk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),M0(t,n)}function xk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),M0(t,n)}var T0;T0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,ck(t,e,n);Et=!!(t.flags&131072)}else Et=!1,Ie&&e.flags&1048576&&Ag(e,Ml,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ll(t,e),t=e.pendingProps;var i=Bi(e,ht.current);Ai(e,n),i=Nf(null,e,r,t,i,n);var s=Af();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,_l(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_f(e),i.updater=ca,e.stateNode=i,i._reactInternals=e,gc(e,r,t,n),e=wc(null,e,r,!0,s,n)):(e.tag=0,Ie&&s&&vf(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ll(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_k(r),t=tn(r,t),i){case 0:e=vc(null,e,r,t,n);break e;case 1:e=Sh(null,e,r,t,n);break e;case 11:e=wh(null,e,r,t,n);break e;case 14:e=kh(null,e,r,tn(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),vc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),Sh(t,e,r,i,n);case 3:e:{if(f0(e),t===null)throw Error(se(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zg(t,e),Nl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ji(Error(se(423)),e),e=bh(t,e,r,n,i);break e}else if(r!==i){i=ji(Error(se(424)),e),e=bh(t,e,r,n,i);break e}else for(Dt=or(e.stateNode.containerInfo.firstChild),zt=e,Ie=!0,rn=null,n=Fg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fi(),r===i){e=Fn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return Hg(e),t===null&&hc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ac(r,i)?o=null:s!==null&&ac(r,s)&&(e.flags|=32),c0(t,e),mt(t,e,o,n),e.child;case 6:return t===null&&hc(e),null;case 13:return d0(t,e,n);case 4:return Cf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),wh(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ne(Tl,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Ct.current){e=Fn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Dn(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pc(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),pc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ai(e,n),i=Zt(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=tn(r,e.pendingProps),i=tn(r.type,i),kh(t,e,r,i,n);case 15:return a0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tn(r,i),ll(t,e),e.tag=1,Mt(r)?(t=!0,_l(e)):t=!1,Ai(e,n),Lg(e,r,i),gc(e,r,i,n),wc(null,e,r,!0,t,n);case 19:return h0(t,e,n);case 22:return u0(t,e,n)}throw Error(se(156,e.tag))};function O0(t,e){return tg(t,e)}function Ek(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new Ek(t,e,n,r)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _k(t){if(typeof t=="function")return $f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===of)return 11;if(t===lf)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pi:return Br(n.children,i,s,e);case sf:o=8,i|=8;break;case Hu:return t=Wt(12,n,e,i|2),t.elementType=Hu,t.lanes=s,t;case $u:return t=Wt(13,n,e,i),t.elementType=$u,t.lanes=s,t;case ju:return t=Wt(19,n,e,i),t.elementType=ju,t.lanes=s,t;case Bm:return pa(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pm:o=10;break e;case Lm:o=9;break e;case of:o=11;break e;case lf:o=14;break e;case Vn:o=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Br(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function pa(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Bm,t.lanes=n,t.stateNode={isHidden:!1},t}function lu(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function au(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ck(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ja(0),this.expirationTimes=ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jf(t,e,n,r,i,s,o,l,a){return t=new Ck(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_f(s),t}function Mk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N0(t){if(!t)return yr;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Og(t,n,e)}return e}function A0(t,e,n,r,i,s,o,l,a){return t=jf(n,r,!0,t,i,s,o,l,a),t.context=N0(null),n=t.current,r=gt(),i=ur(n),s=Dn(r,i),s.callback=e??null,lr(n,s,i),t.current.lanes=i,ko(t,i,r),Tt(t,r),t}function ma(t,e,n,r){var i=e.current,s=gt(),o=ur(i);return n=N0(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(i,e,o),t!==null&&(cn(t,i,o,s),il(t,i,o)),o}function Bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uf(t,e){Rh(t,e),(t=t.alternate)&&Rh(t,e)}function Tk(){return null}var R0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vf(t){this._internalRoot=t}ga.prototype.render=Vf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));ma(t,e,null,null)};ga.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qr(function(){ma(null,t,null,null)}),e[Ln]=null}};function ga(t){this._internalRoot=t}ga.prototype.unstable_scheduleHydration=function(t){if(t){var e=ag();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gn.length&&e!==0&&e<Gn[n].priority;n++);Gn.splice(n,0,t),n===0&&cg(t)}};function Wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ih(){}function Ok(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Bl(o);s.call(u)}}var o=A0(e,r,t,0,null,!1,!1,"",Ih);return t._reactRootContainer=o,t[Ln]=o.current,qs(t.nodeType===8?t.parentNode:t),qr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Bl(a);l.call(u)}}var a=jf(t,0,!1,null,null,!1,!1,"",Ih);return t._reactRootContainer=a,t[Ln]=a.current,qs(t.nodeType===8?t.parentNode:t),qr(function(){ma(e,a,n,r)}),a}function va(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Bl(o);l.call(a)}}ma(e,o,t,i)}else o=Ok(n,e,t,i,r);return Bl(o)}og=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Es(e.pendingLanes);n!==0&&(cf(e,n|1),Tt(e,$e()),!(xe&6)&&(Ui=$e()+500,Sr()))}break;case 13:qr(function(){var r=Bn(t,1);if(r!==null){var i=gt();cn(r,t,1,i)}}),Uf(t,1)}};ff=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var n=gt();cn(e,t,134217728,n)}Uf(t,134217728)}};lg=function(t){if(t.tag===13){var e=ur(t),n=Bn(t,e);if(n!==null){var r=gt();cn(n,t,e,r)}Uf(t,e)}};ag=function(){return Me};ug=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Yu=function(t,e,n){switch(e){case"input":if(Wu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=aa(r);if(!i)throw Error(se(90));Hm(r),Wu(r,i)}}}break;case"textarea":jm(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};Jm=Bf;qm=qr;var Nk={usingClientEntryPoint:!1,Events:[bo,vi,aa,Gm,Zm,Bf]},hs={findFiberByHostInstance:Ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ak={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qm(t),t===null?null:t.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{ia=jo.inject(Ak),bn=jo}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(e))throw Error(se(200));return Mk(t,e,null,n)};Lt.createRoot=function(t,e){if(!Wf(t))throw Error(se(299));var n=!1,r="",i=R0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jf(t,1,!1,null,null,n,!1,r,i),t[Ln]=e.current,qs(t.nodeType===8?t.parentNode:t),new Vf(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=Qm(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return qr(t)};Lt.hydrate=function(t,e,n){if(!ya(e))throw Error(se(200));return va(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Wf(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=R0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=A0(e,null,t,1,n??null,i,!1,s,o),t[Ln]=e.current,qs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ga(e)};Lt.render=function(t,e,n){if(!ya(e))throw Error(se(200));return va(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!ya(t))throw Error(se(40));return t._reactRootContainer?(qr(function(){va(null,null,t,!1,function(){t._reactRootContainer=null,t[Ln]=null})}),!0):!1};Lt.unstable_batchedUpdates=Bf;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ya(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return va(t,e,n,!1,r)};Lt.version="18.2.0-next-9e3b772b8-20220608";function I0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I0)}catch(t){console.error(t)}}I0(),Am.exports=Lt;var Kf=Am.exports;const Rk=vo(Kf);var Dh=Kf;Bu.createRoot=Dh.createRoot,Bu.hydrateRoot=Dh.hydrateRoot;let Uo;const Ik=new Uint8Array(16);function Dk(){if(!Uo&&(Uo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Uo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uo(Ik)}const et=[];for(let t=0;t<256;++t)et.push((t+256).toString(16).slice(1));function zk(t,e=0){return(et[t[e+0]]+et[t[e+1]]+et[t[e+2]]+et[t[e+3]]+"-"+et[t[e+4]]+et[t[e+5]]+"-"+et[t[e+6]]+et[t[e+7]]+"-"+et[t[e+8]]+et[t[e+9]]+"-"+et[t[e+10]]+et[t[e+11]]+et[t[e+12]]+et[t[e+13]]+et[t[e+14]]+et[t[e+15]]).toLowerCase()}const Pk=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zh={randomUUID:Pk};function Ph(t,e,n){if(zh.randomUUID&&!e&&!t)return zh.randomUUID();t=t||{};const r=t.random||(t.rng||Dk)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return zk(r)}var D0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lh=je.createContext&&je.createContext(D0),fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fr.apply(this,arguments)},Lk=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function z0(t){return t&&t.map(function(e,n){return je.createElement(e.tag,fr({key:n},e.attr),z0(e.child))})}function bt(t){return function(e){return je.createElement(Bk,fr({attr:fr({},t.attr)},e),z0(t.child))}}function Bk(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Lk(t,["attr","size","title"]),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),je.createElement("svg",fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:fr(fr({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&je.createElement("title",null,s),t.children)};return Lh!==void 0?je.createElement(Lh.Consumer,null,function(n){return e(n)}):e(D0)}function Fk(t){return bt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}const Hk=({note:t,index:e,setCurrentNoteId:n,currentNoteId:r,setNotes:i,notes:s,setActiveNotes:o,activeNotes:l})=>{let{title:a,id:u}=t;const[c,f]=Oe.useState(!1),d=()=>{n(u)},h=g=>{const p=s.findIndex(m=>m.id===g),S=s.filter(m=>m.id!==g);if(!(p===0&&s.length<=1))if(p===0&&s.length>1){let m=p+1;n(s[m].id),u=s[m].id,i(S)}else{let m=p-1;n(s[m].id),u=s[m].id,i(S)}};return ge.jsxs("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>d(),className:u===r?"btn-container btn-selected":"btn-container",children:[ge.jsx("p",{className:"title-notelist",children:a||"Untitled"}),ge.jsx(Fk,{onClick:()=>h(u),className:c?"btn-close":"hidden"})]})};function $k(t){return bt({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(t)}const jk=({notes:t,addNote:e,setCurrentNoteId:n,currentNoteId:r,sidebarSize:i,setNotes:s,setActiveNotes:o,activeNotes:l})=>ge.jsx("div",{className:"sidebar",children:ge.jsxs("div",{className:"note-list",children:[ge.jsx($k,{className:"btn btn-add",onClick:()=>e()}),t.map((a,u)=>ge.jsx(Hk,{note:a,index:u,notes:t,setCurrentNoteId:n,currentNoteId:r,setNotes:s,sidebarSize:i,setActiveNotes:o,activeNotes:l},a.id))]})});function nt(t){this.content=t}nt.prototype={constructor:nt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new nt(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new nt(n)},addToStart:function(t,e){return new nt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new nt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new nt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=nt.from(t),t.size?new nt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=nt.from(t),t.size?new nt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=nt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};nt.from=function(t){if(t instanceof nt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new nt(e)};function P0(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=P0(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function L0(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),a=o.nodeSize;if(o==l){n-=a,r-=a;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let u=0,c=Math.min(o.text.length,l.text.length);for(;u<c&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let u=L0(o.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class ie{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let a=this.content[o],u=l+a.nodeSize;if(u>e&&r(a,i+l,s||null,o)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,a)=>{l.isText?(s+=l.text.slice(Math.max(e,a)-a,n-a),o=!r):l.isLeaf?(i?s+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(s+=l.type.spec.leafText(l)),o=!r):!o&&l.isBlock&&(s+=r,o=!0)},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ie(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=a}return new ie(r,i)}cutByIndex(e,n){return e==n?ie.empty:e==0&&n==this.content.length?this:new ie(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ie(i,s)}addToStart(e){return new ie([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ie(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return P0(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return L0(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Vo(0,e);if(e==this.size)return Vo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Vo(r+1,o):Vo(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ie.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ie(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ie.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new ie(n||e,r)}static from(e){if(!e)return ie.empty;if(e instanceof ie)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ie([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ie.empty=new ie([],0);const uu={index:0,offset:0};function Vo(t,e){return uu.index=t,uu.offset=e,uu}function Fl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Fl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Fl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Te=class Ac{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Fl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ac.none;if(e instanceof Ac)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Te.none=[];class Hl extends Error{}class ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=F0(this.content,e+this.openStart,n);return r&&new ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ce(B0(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ce.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ce(ie.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ce(e,r,i)}}ce.empty=new ce(ie.empty,0,0);function B0(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(B0(s.content,e-i-1,n-i-1)))}function F0(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=F0(o.content,e-s-1,n);return l&&t.replaceChild(i,o.copy(l))}function Uk(t,e,n){if(n.openStart>t.depth)throw new Hl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Hl("Inconsistent open depths");return H0(t,e,n,0)}function H0(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=H0(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return Hr(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Vk(n,t);return Hr(s,j0(t,o,l,e,r))}else return Hr(s,$l(t,e,r))}function $0(t,e){if(!e.type.compatibleContent(t.type))throw new Hl("Cannot join "+e.type.name+" onto "+t.type.name)}function Rc(t,e,n){let r=t.node(n);return $0(r,e.node(n)),r}function Fr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Bs(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Fr(t.nodeAfter,r),s++));for(let l=s;l<o;l++)Fr(i.child(l),r);e&&e.depth==n&&e.textOffset&&Fr(e.nodeBefore,r)}function Hr(t,e){return t.type.checkContent(e),t.copy(e)}function j0(t,e,n,r,i){let s=t.depth>i&&Rc(t,e,i+1),o=r.depth>i&&Rc(n,r,i+1),l=[];return Bs(null,t,i,l),s&&o&&e.index(i)==n.index(i)?($0(s,o),Fr(Hr(s,j0(t,e,n,r,i+1)),l)):(s&&Fr(Hr(s,$l(t,e,i+1)),l),Bs(e,n,i,l),o&&Fr(Hr(o,$l(n,r,i+1)),l)),Bs(r,null,i,l),new ie(l)}function $l(t,e,n){let r=[];if(Bs(null,t,n,r),t.depth>n){let i=Rc(t,e,n+1);Fr(Hr(i,$l(t,e,n+1)),r)}return Bs(e,null,n,r),new ie(r)}function Vk(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(ie.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class so{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Te.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new jl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(s),u=s-a;if(r.push(o,l,i+a),!u||(o=o.child(l),o.isText))break;s=u-1,i+=a+1}return new so(n,r,s)}static resolveCached(e,n){for(let i=0;i<cu.length;i++){let s=cu[i];if(s.pos==n&&s.doc==e)return s}let r=cu[fu]=so.resolve(e,n);return fu=(fu+1)%Wk,r}}let cu=[],fu=0,Wk=12;class jl{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Kk=Object.create(null);let $r=class Ic{constructor(e,n,r,i=Te.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ie.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Fl(this.attrs,n||e.defaultAttrs||Kk)&&Te.sameSet(this.marks,r||Te.none)}copy(e=null){return e==this.content?this:new Ic(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ic(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ce.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),u=i.node(o).content.cut(i.pos-l,s.pos-l);return new ce(u,i.depth-o,s.depth-o)}replace(e,n,r){return Uk(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return so.resolveCached(this,e)}resolveNoCache(e){return so.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),U0(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ie.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<s;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Te.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Te.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ie.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};$r.prototype.text=void 0;class Ul extends $r{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):U0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ul(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ul(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function U0(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Gk(e,n);if(r.next==null)return Xr.empty;let i=V0(r);r.next&&r.err("Unexpected trailing text");let s=eS(Qk(i));return tS(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let a=o.matchFragment(e,r);if(a&&(!n||a.validEnd))return ie.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:c,next:f}=o.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=s(f,l.concat(c));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:a}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Xr.empty=new Xr(!0);class Gk{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function V0(t){let e=[];do e.push(Zk(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Zk(t){let e=[];do e.push(Jk(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Jk(t){let e=Yk(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=qk(t,e);else break;return e}function Bh(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function qk(t,e){let n=Bh(t),r=n;return t.eat(",")&&(t.next!="}"?r=Bh(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Xk(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.groups.indexOf(e)>-1&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Yk(t){if(t.eat("(")){let e=V0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Xk(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Qk(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,l,a){let u={term:a,to:l};return e[o].push(u),u}function i(o,l){o.forEach(a=>a.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((a,u)=>a.concat(s(u,l)),[]);if(o.type=="seq")for(let a=0;;a++){let u=s(o.exprs[a],l);if(a==o.exprs.length-1)return u;i(u,l=n())}else if(o.type=="star"){let a=n();return r(l,a),i(s(o.expr,a),a),[r(a)]}else if(o.type=="plus"){let a=n();return i(s(o.expr,l),a),i(s(o.expr,a),a),[r(a)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let a=l;for(let u=0;u<o.min;u++){let c=n();i(s(o.expr,a),c),a=c}if(o.max==-1)i(s(o.expr,a),a);else for(let u=o.min;u<o.max;u++){let c=n();r(a,c),i(s(o.expr,a),c),a=c}return[r(a)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function W0(t,e){return e-t}function Fh(t,e){let n=[];return r(e),n.sort(W0);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:a}=s[o];!l&&n.indexOf(a)==-1&&r(a)}}}function eS(t){let e=Object.create(null);return n(Fh(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);Fh(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let s=e[r.join(",")]=new Xr(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(W0);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}function tS(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];o.push(a.name),s&&!(a.isText||a.hasRequiredAttrs())&&(s=!1),r.indexOf(u)==-1&&r.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function K0(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function G0(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Z0(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new nS(t[n]);return e}let Hh=class J0{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Z0(r.attrs),this.defaultAttrs=K0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:G0(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $r(this,this.computeAttrs(e),ie.from(n),Te.setFrom(r))}createChecked(e=null,n,r){return n=ie.from(n),this.checkContent(n),new $r(this,this.computeAttrs(e),n,Te.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ie.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(ie.empty,!0);return s?new $r(this,e,n.append(s),Te.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Te.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new J0(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class nS{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class wa{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Z0(i.attrs),this.excluded=null;let s=K0(this.attrs);this.instance=s?new Te(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Te(this,G0(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new wa(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class rS{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=nt.from(e.nodes),n.marks=nt.from(e.marks||{}),this.nodes=Hh.compile(this.spec.nodes,this),this.marks=wa.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;s.contentMatch=r[o]||(r[o]=Xr.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=l=="_"?null:l?$h(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:$h(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Hh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ul(r,r.defaultAttrs,e,Te.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return $r.fromJSON(this,e)}markFromJSON(e){return Te.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function $h(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Vi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Uh(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Uh(this,n,!0);return r.addAll(e,n.from,n.to),ce.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(oS(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Vh(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Vh(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Vi(e,Vi.schemaRules(e)))}}const q0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},iS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},X0={ol:!0,ul:!0},Vl=1,Wl=2,Fs=4;function jh(t,e,n){return e!=null?(e?Vl:0)|(e==="full"?Wl:0):t&&t.whitespace=="pre"?Vl|Wl:n&~Fs}class Wo{constructor(e,n,r,i,s,o,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=Te.none,this.stashMarks=[],this.match=o||(l&Fs?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ie.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Vl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=ie.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ie.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):aS(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!q0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Uh{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=jh(null,n.preserveWhitespace,0)|(r?Fs:0);i?s=new Wo(i.type,i.attrs,Te.none,Te.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Wo(null,null,Te.none,Te.none,!0,null,o):s=new Wo(e.schema.topNodeType,null,Te.none,Te.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(lS(n));if(!r)return;let[i,s]=r,o=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],o);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);this.addElement(e);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],o);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Wl||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Vl)r.options&Wl?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],s=e.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;X0.hasOwnProperty(r)&&this.parser.normalizeLists&&sS(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(s?s.ignore:iS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let o,l=this.top,a=this.needsBlock;if(q0.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),o&&this.sync(l),this.needsBlock=a}else this.addElementByRule(e,s,s.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Te.none,r=Te.none;for(let i=0;i<e.length;i+=2)for(let s=void 0;;){let o=this.parser.matchStyle(e[i],e[i+1],this,s);if(!o)break;if(o.ignore)return null;if(o.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{o.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)s=o;else break}return[n,r]}addElementByRule(e,n,r){let i,s,o;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):i=this.enter(s,n.attrs||null,n.preserveWhitespace)):(o=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(o));let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,n,r){let i=n||0;for(let s=n?e.childNodes[n]:e.firstChild,o=r==null?null:e.childNodes[r];s!=o;s=s.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(s);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let s=this.nodes[i],o=s.findWrapping(e);if(o&&(!n||n.length>o.length)&&(n=o,r=s,!o.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let o=jh(e,i,s.options);s.options&Fs&&s.content.length==0&&(o|=Fs),this.nodes.push(new Wo(e,n,s.activeMarks,s.pendingMarks,r,null,o)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=s;a--)if(o(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=s?r.node(a-s).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=uS(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let o=i.popFromStashMark(e);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==n)break}}}function sS(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&X0.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function oS(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function lS(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Vh(t){let e={};for(let n in t)e[n]=t[n];return e}function aS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||s.indexOf(c)<0&&o(c))return!0}};if(o(i.contentMatch))return!0}}function uS(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class kn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=du(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,a=0;for(;l<s.length&&a<o.marks.length;){let u=o.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<s.length;)i=s.pop()[1];for(;a<o.marks.length;){let u=o.marks[a++],c=this.serializeMark(u,o.isInline,n);c&&(s.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=kn.renderSpec(du(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&kn.renderSpec(du(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let o,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:h}=kn.renderSpec(e,f,r);if(l.appendChild(d),h){if(o)throw new RangeError("Multiple content holes");o=h}}}return{dom:l,contentDOM:o}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new kn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Wh(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Wh(e.marks)}}function Wh(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function du(t){return t.document||window.document}const Y0=65535,Q0=Math.pow(2,16);function cS(t,e){return t+e*Q0}function Kh(t){return t&Y0}function fS(t){return(t-(t&Y0))/Q0}const ey=1,ty=2,fl=4,ny=8;class Dc{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&ny)>0}get deletedBefore(){return(this.delInfo&(ey|fl))>0}get deletedAfter(){return(this.delInfo&(ty|fl))>0}get deletedAcross(){return(this.delInfo&fl)>0}}class Ut{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ut.empty)return Ut.empty}recover(e){let n=0,r=Kh(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+fS(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+s],c=this.ranges[l+o],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,h=a+i+(d<0?0:c);if(r)return h;let g=e==(n<0?a:f)?null:cS(l/3,e-a),p=e==a?ty:e==f?ey:fl;return(n<0?e!=a:e!=f)&&(p|=ny),new Dc(h,p,g)}i+=c-u}return r?e+i:new Dc(e+i,0,null)}touches(e,n){let r=0,i=Kh(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+s],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+o]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),a=o+(this.inverted?0:s),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),s+=c-u}}invert(){return new Ut(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ut.empty:new Ut(e<0?[0,-e,0]:[0,0,e])}}Ut.empty=new Ut([]);class Ii{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Ii(this.maps,this.mirror,e,n)}copy(){return new Ii(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Ii;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(s);if(a!=null&&a>s&&a<this.to){s=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Dc(e,i,null)}}const hu=Object.create(null);class At{getMap(){return Ut.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=hu[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in hu)throw new RangeError("Duplicate use of step JSON ID "+e);return hu[e]=n,n.prototype.jsonID=e,n}}class Ge{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ge(e,null)}static fail(e){return new Ge(null,e)}static fromReplace(e,n,r,i){try{return Ge.ok(e.replace(n,r,i))}catch(s){if(s instanceof Hl)return Ge.fail(s.message);throw s}}}function Gf(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Gf(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return ie.fromArray(r)}class Yn extends At{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ce(Gf(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Ge.fromReplace(e,this.from,this.to,s)}invert(){return new Sn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Yn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Yn(n.from,n.to,e.markFromJSON(n.mark))}}At.jsonID("addMark",Yn);class Sn extends At{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ce(Gf(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ge.fromReplace(e,this.from,this.to,r)}invert(){return new Yn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Sn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Sn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Sn(n.from,n.to,e.markFromJSON(n.mark))}}At.jsonID("removeMark",Sn);class Qn extends At{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ge.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ge.fromReplace(e,this.pos,this.pos+1,new ce(ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Qn(this.pos,n.marks[i]);return new Qn(this.pos,this.mark)}}return new Wi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Qn(n.pos,e.markFromJSON(n.mark))}}At.jsonID("addNodeMark",Qn);class Wi extends At{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ge.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ge.fromReplace(e,this.pos,this.pos+1,new ce(ie.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Qn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wi(n.pos,e.markFromJSON(n.mark))}}At.jsonID("removeNodeMark",Wi);class ft extends At{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&zc(e,this.from,this.to)?Ge.fail("Structure replace would overwrite content"):Ge.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ut([this.from,this.to-this.from,this.slice.size])}invert(e){return new ft(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ft(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ft)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ft(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ft(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ft(n.from,n.to,ce.fromJSON(e,n.slice),!!n.structure)}}At.jsonID("replace",ft);class qe extends At{constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(zc(e,this.from,this.gapFrom)||zc(e,this.gapTo,this.to)))return Ge.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ge.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ge.fromReplace(e,this.from,this.to,r):Ge.fail("Content does not fit in gap")}getMap(){return new Ut([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new qe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new qe(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new qe(n.from,n.to,n.gapFrom,n.gapTo,ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}At.jsonID("replaceAround",qe);function zc(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function dS(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+a.nodeSize,n),g=r.addToSet(f);for(let p=0;p<f.length;p++)f[p].isInSet(g)||(o&&o.to==d&&o.mark.eq(f[p])?o.to=h:i.push(o=new Sn(d,h,f[p])));l&&l.to==d?l.to=h:s.push(l=new Yn(d,h,r))}}),i.forEach(a=>t.step(a)),s.forEach(a=>t.step(a))}function hS(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let a=null;if(r instanceof wa){let u=o.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(o.marks)&&(a=[r]):a=o.marks;if(a&&a.length){let u=Math.min(l+o.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let h=0;h<i.length;h++){let g=i[h];g.step==s-1&&f.eq(i[h].style)&&(d=g)}d?(d.to=u,d.step=s):i.push({style:f,from:Math.max(l,e),to:u,step:s})}}}),i.forEach(o=>t.step(new Sn(o.from,o.to,o.style)))}function pS(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),s=[],o=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=o+a.nodeSize,c=r.matchType(a.type);if(!c)s.push(new ft(o,u,ce.empty));else{r=c;for(let f=0;f<a.marks.length;f++)n.allowsMarkType(a.marks[f].type)||t.step(new Sn(o,u,a.marks[f]))}o=u}if(!r.validEnd){let l=r.fillBefore(ie.empty,!0);t.replace(o,o,new ce(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function mS(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ts(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!mS(i,s,o))break}return null}function gS(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),a=o,u=l,c=ie.empty,f=0;for(let g=s,p=!1;g>n;g--)p||r.index(g)>0?(p=!0,c=ie.from(r.node(g).copy(c)),f++):a--;let d=ie.empty,h=0;for(let g=s,p=!1;g>n;g--)p||i.after(g+1)<i.end(g)?(p=!0,d=ie.from(i.node(g).copy(d)),h++):u++;t.step(new qe(a,u,o,l,new ce(c.append(d),f,h),c.size-f,!0))}function Zf(t,e,n=null,r=t){let i=yS(t,e),s=i&&vS(r,e);return s?i.map(Gh).concat({type:e,attrs:n}).concat(s.map(Gh)):null}function Gh(t){return{type:t,attrs:null}}function yS(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function vS(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:o}function wS(t,e,n){let r=ie.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ie.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new qe(i,s,i,s,new ce(r,0,0),n.length,!0))}function kS(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{if(o.isTextblock&&!o.hasMarkup(r,i)&&SS(t.doc,t.mapping.slice(s).map(l),r)){t.clearIncompatible(t.mapping.slice(s).map(l,1),r);let a=t.mapping.slice(s),u=a.map(l,1),c=a.map(l+o.nodeSize,1);return t.step(new qe(u,c,u+1,c-1,new ce(ie.from(r.create(i,null,o.marks)),0,0),1,!0)),!1}})}function SS(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function bS(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new qe(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ce(ie.from(o),0,0),1,!0))}function Di(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>s;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),g=r&&r[c+1];g&&(h=h.replaceChild(0,g.type.create(g.attrs)));let p=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!p.type.validContent(h))return!1}let l=i.indexAfter(s),a=r&&r[0];return i.node(s).canReplaceWith(l,l,a?a.type:i.node(s+1).type)}function xS(t,e,n=1,r){let i=t.doc.resolve(e),s=ie.empty,o=ie.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){s=ie.from(i.node(l).copy(s));let c=r&&r[u];o=ie.from(c?c.type.create(c.attrs,o):i.node(l).copy(o))}t.step(new ft(e,e,new ce(s.append(o),n,n),!0))}function br(t,e){let n=t.resolve(e),r=n.index();return ry(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function ry(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function iy(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&ry(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function ES(t,e,n){let r=new ft(e-n,e+n,ce.empty,!0);t.step(r)}function _S(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function sy(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,a=r.index(o)+(l>0?1:0),u=r.node(o),c=!1;if(s==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}function Jf(t,e,n=e,r=ce.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return oy(i,s,r)?new ft(e,n,r):new CS(i,s,r).fit()}function oy(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class CS{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ie.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ie.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let a=new ce(s,o,l);return e>-1?new qe(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new ft(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=pu(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,f=null;if(n==1&&(o?u.matchType(o.type)||(f=u.fillBefore(ie.from(o),!1)):s&&a.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:f};if(n==2&&o&&(c=u.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:c};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=pu(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ce(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=pu(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new ce(Cs(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new ce(Cs(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let p=0;p<s.length;p++)this.openFrontierNode(s[p]);let o=this.unplaced,l=r?r.content:o.content,a=o.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let p=0;p<i.childCount;p++)c.push(i.child(p));f=f.matchFragment(i)}let h=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let p=l.child(u),S=f.matchType(p.type);if(!S)break;u++,(u>1||a==0||p.content.size)&&(f=S,c.push(ly(p.mark(d.allowedMarks(p.marks)),u==1?a:0,u==l.childCount?h:-1)))}let g=u==l.childCount;g||(h=-1),this.placed=Ms(this.placed,n,ie.from(c)),this.frontier[n].match=f,g&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,S=l;p<h;p++){let m=S.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),S=m.content}this.unplaced=g?e==0?ce.empty:new ce(Cs(o.content,e-1,1),e-1,h<0?o.openEnd:e-1):new ce(Cs(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!mu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=mu(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=mu(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ms(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ms(this.placed,this.depth,ie.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ie.empty,!0);n.childCount&&(this.placed=Ms(this.placed,this.frontier.length,n))}}function Cs(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Cs(t.firstChild.content,e-1,n)))}function Ms(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ms(t.lastChild.content,e-1,n)))}function pu(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function ly(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,ly(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ie.empty,!0)))),t.copy(r)}function mu(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!MS(n,s.content,o)?l:null}function MS(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function TS(t){return t.spec.defining||t.spec.definingForContent}function OS(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(oy(i,s,r))return t.step(new ft(e,n,r));let o=uy(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let g=i.node(d).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(d)>-1?l=d:i.before(d)==h&&o.splice(1,0,-d)}let a=o.indexOf(l),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let g=d.firstChild;if(u.push(g),h==r.openStart)break;d=g.content}for(let d=c-1;d>=0;d--){let h=u[d].type,g=TS(h);if(g&&i.node(a).type!=h)c=d;else if(g||!h.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),g=u[h];if(g)for(let p=0;p<o.length;p++){let S=o[(p+a)%o.length],m=!0;S<0&&(m=!1,S=-S);let y=i.node(S-1),k=i.index(S-1);if(y.canReplaceWith(k,k,g.type,g.marks))return t.replace(i.before(S),m?s.after(S):n,new ce(ay(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=o.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=o[d];h<0||(e=i.before(h),n=s.after(h))}}function ay(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(ay(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(ie.empty,!0))}return t}function NS(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=_S(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ce(ie.from(r),0,0))}function AS(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=uy(r,i);for(let o=0;o<s.length;o++){let l=s[o],a=o==s.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}function uy(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class zi extends At{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ge.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ge.fromReplace(e,this.pos,this.pos+1,new ce(ie.from(i),0,n.isLeaf?0:1))}getMap(){return Ut.empty}invert(e){return new zi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new zi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new zi(n.pos,n.attr,n.value)}}At.jsonID("attr",zi);let Ki=class extends Error{};Ki=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Ki.prototype=Object.create(Error.prototype);Ki.prototype.constructor=Ki;Ki.prototype.name="TransformError";class RS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ii}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Ki(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ce.empty){let i=Jf(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ce(ie.from(r),0,0))}delete(e,n){return this.replace(e,n,ce.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return OS(this,e,n,r),this}replaceRangeWith(e,n,r){return NS(this,e,n,r),this}deleteRange(e,n){return AS(this,e,n),this}lift(e,n){return gS(this,e,n),this}join(e,n=1){return ES(this,e,n),this}wrap(e,n){return wS(this,e,n),this}setBlockType(e,n=e,r,i=null){return kS(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return bS(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new zi(e,n,r)),this}addNodeMark(e,n){return this.step(new Qn(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Te)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Wi(e,n)),this}split(e,n=1,r){return xS(this,e,n,r),this}addMark(e,n,r){return dS(this,e,n,r),this}removeMark(e,n,r){return hS(this,e,n,r),this}clearIncompatible(e,n,r){return pS(this,e,n,r),this}}const gu=Object.create(null);class ve{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new IS(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ce.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:u}=o[l],c=e.mapping.slice(s);e.replaceRange(c.map(a.pos),c.map(u.pos),l?ce.empty:n),l==0&&qh(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],a=e.mapping.slice(r),u=a.map(o.pos),c=a.map(l.pos);s?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),qh(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new we(e):fi(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?fi(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):fi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new fn(e.node(0))}static atStart(e){return fi(e,e,0,0,1)||new fn(e)}static atEnd(e){return fi(e,e,e.content.size,e.childCount,-1)||new fn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=gu[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in gu)throw new RangeError("Duplicate use of selection JSON ID "+e);return gu[e]=n,n.prototype.jsonID=e,n}getBookmark(){return we.between(this.$anchor,this.$head).getBookmark()}}ve.prototype.visible=!0;class IS{constructor(e,n){this.$from=e,this.$to=n}}let Zh=!1;function Jh(t){!Zh&&!t.parent.inlineContent&&(Zh=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class we extends ve{constructor(e,n=e){Jh(e),Jh(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ve.near(r);let i=e.resolve(n.map(this.anchor));return new we(i.parent.inlineContent?i:r,r)}replace(e,n=ce.empty){if(super.replace(e,n),n==ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof we&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ka(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new we(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=ve.findFrom(n,r,!0)||ve.findFrom(n,-r,!0);if(s)n=s.$head;else return ve.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ve.findFrom(e,-r,!0)||ve.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new we(e,n)}}ve.jsonID("text",we);class ka{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ka(e.map(this.anchor),e.map(this.head))}resolve(e){return we.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends ve{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?ve.near(s):new he(s)}content(){return new ce(ie.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qf(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(n.anchor))}static create(e,n){return new he(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;ve.jsonID("node",he);class qf{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ka(r,r):new qf(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&he.isSelectable(r)?new he(n):ve.near(n)}}class fn extends ve{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ce.empty){if(n==ce.empty){e.delete(0,e.doc.content.size);let r=ve.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new fn(e)}map(e){return new fn(e)}eq(e){return e instanceof fn}getBookmark(){return DS}}ve.jsonID("all",fn);const DS={map(){return this},resolve(t){return new fn(t)}};function fi(t,e,n,r,i,s=!1){if(e.inlineContent)return we.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&he.isSelectable(l))return he.create(t,n-(i<0?l.nodeSize:0))}else{let a=fi(t,l,n+i,i<0?l.childCount:0,i,s);if(a)return a}n+=l.nodeSize*i}return null}function qh(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ft||i instanceof qe))return;let s=t.mapping.maps[r],o;s.forEach((l,a,u,c)=>{o==null&&(o=c)}),t.setSelection(ve.near(t.doc.resolve(o),n))}const Xh=1,Ko=2,Yh=4;class zS extends RS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Xh)&~Ko,this.storedMarks=null,this}get selectionSet(){return(this.updated&Xh)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ko,this}ensureMarks(e){return Te.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ko)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ko,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Te.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(ve.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Yh,this}get scrolledIntoView(){return(this.updated&Yh)>0}}function Qh(t,e){return!e||!t?t:t.bind(e)}class Ts{constructor(e,n,r){this.name=e,this.init=Qh(n.init,r),this.apply=Qh(n.apply,r)}}const PS=[new Ts("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ts("selection",{init(t,e){return t.selection||ve.atStart(e.doc)},apply(t){return t.selection}}),new Ts("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ts("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class yu{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=PS.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ts(r.key,r.spec.state,r))})}}class _i{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=i?i[o].n:0,u=i?i[o].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new _i(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new zS(this)}static create(e){let n=new yu(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new _i(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new yu(this.schema,e.plugins),r=n.fields,i=new _i(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new yu(e.schema,e.plugins),s=new _i(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=$r.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=ve.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=u.fromJSON.call(a,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function cy(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=cy(i,e,{})),n[r]=i}return n}class Rt{constructor(e){this.spec=e,this.props={},e.props&&cy(e.props,this,this.props),this.key=e.key?e.key.key:fy("plugin")}getState(e){return e[this.key]}}const vu=Object.create(null);function fy(t){return t in vu?t+"$"+ ++vu[t]:(vu[t]=0,t+"$")}class Cn{constructor(e="key"){this.key=fy(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Vt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},oo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ep=null;const Nn=function(t,e,n){let r=ep||(ep=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Yr=function(t,e,n,r){return n&&(tp(t,e,n,r,-1)||tp(t,e,n,r,1))},LS=/^(img|br|input|textarea|hr)$/i;function tp(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:wn(t))){let s=t.parentNode;if(!s||s.nodeType!=1||FS(t)||LS.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vt(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?wn(t):0}else return!1}}function wn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function BS(t,e,n){for(let r=e==0,i=e==wn(t);r||i;){if(t==n)return!0;let s=Vt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==wn(t)}}function FS(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Sa=function(t){return t.focusNode&&Yr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Or(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function HS(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function $S(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const En=typeof navigator<"u"?navigator:null,np=typeof document<"u"?document:null,xr=En&&En.userAgent||"",Pc=/Edge\/(\d+)/.exec(xr),dy=/MSIE \d/.exec(xr),Lc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xr),Ot=!!(dy||Lc||Pc),dr=dy?document.documentMode:Lc?+Lc[1]:Pc?+Pc[1]:0,hn=!Ot&&/gecko\/(\d+)/i.test(xr);hn&&+(/Firefox\/(\d+)/.exec(xr)||[0,0])[1];const Bc=!Ot&&/Chrome\/(\d+)/.exec(xr),dt=!!Bc,jS=Bc?+Bc[1]:0,yt=!Ot&&!!En&&/Apple Computer/.test(En.vendor),Gi=yt&&(/Mobile\/\w+/.test(xr)||!!En&&En.maxTouchPoints>2),Ht=Gi||(En?/Mac/.test(En.platform):!1),US=En?/Win/.test(En.platform):!1,sn=/Android \d/.test(xr),ba=!!np&&"webkitFontSmoothing"in np.documentElement.style,VS=ba?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function WS(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function jn(t,e){return typeof t=="number"?t:t[e]}function KS(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function rp(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=oo(o)){if(o.nodeType!=1)continue;let l=o,a=l==s.body,u=a?WS(s):KS(l),c=0,f=0;if(e.top<u.top+jn(r,"top")?f=-(u.top-e.top+jn(i,"top")):e.bottom>u.bottom-jn(r,"bottom")&&(f=e.bottom-u.bottom+jn(i,"bottom")),e.left<u.left+jn(r,"left")?c=-(u.left-e.left+jn(i,"left")):e.right>u.right-jn(r,"right")&&(c=e.right-u.right+jn(i,"right")),c||f)if(a)s.defaultView.scrollBy(c,f);else{let d=l.scrollLeft,h=l.scrollTop;f&&(l.scrollTop+=f),c&&(l.scrollLeft+=c);let g=l.scrollLeft-d,p=l.scrollTop-h;e={left:e.left-g,top:e.top-p,right:e.right-g,bottom:e.bottom-p}}if(a)break}}function GS(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:hy(t.dom)}}function hy(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=oo(r));return e}function ZS({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;py(n,r==0?0:r-e)}function py(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ai=null;function JS(t){if(t.setActive)return t.setActive();if(ai)return t.focus(ai);let e=hy(t);t.focus(ai==null?{get preventScroll(){return ai={preventScroll:!0},!0}}:void 0),ai||(ai=!1,py(e,0))}function my(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,a,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Nn(c).getClientRects();else continue;for(let h=0;h<d.length;h++){let g=d[h];if(g.top<=o&&g.bottom>=l){o=Math.max(g.bottom,o),l=Math.min(g.top,l);let p=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(p<r){n=c,r=p,i=p&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,c.nodeType==1&&p&&(s=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!a&&g.left<=e.left&&g.right>=e.left&&(a=c,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=f+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?qS(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:my(n,i)}function qS(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Un(r,1);if(s.top!=s.bottom&&Xf(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Xf(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function XS(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function YS(t,e,n){let{node:r,offset:i}=my(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function QS(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!o||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!o&&(o=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function gy(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Xf(e,u))return gy(o,e,u)}}if((s=(s+1)%r)==i)break}return t}function eb(t,e){let n=t.dom.ownerDocument,r,i=0,s=$S(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!Xf(e,u)||(o=gy(t.dom,e,u),!o))return null}if(yt)for(let u=o;r&&u;u=oo(u))u.draggable&&(r=void 0);if(o=XS(o,e),r){if(hn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],c;u.nodeName=="IMG"&&(c=u.getBoundingClientRect()).right<=e.left&&c.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=QS(t,r,i,e))}l==null&&(l=YS(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function ip(t){return t.top<t.bottom||t.left<t.right}function Un(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ip(r))return r}return Array.prototype.find.call(n,ip)||t.getBoundingClientRect()}const tb=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yy(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=ba||hn;if(r.nodeType==3)if(o&&(tb.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Un(Nn(r,i,i),n);if(hn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Un(Nn(r,i-1,i-1),-1);if(u.top==a.top){let c=Un(Nn(r,i,i+1),-1);if(c.top!=a.top)return ps(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,ps(Un(Nn(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==wn(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return wu(a.getBoundingClientRect(),!1)}if(s==null&&i<wn(r)){let a=r.childNodes[i];if(a.nodeType==1)return wu(a.getBoundingClientRect(),!0)}return wu(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==wn(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Nn(a,wn(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return ps(Un(u,1),!1)}if(s==null&&i<wn(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Nn(a,0,o?0:1):a.nodeType==1?a:null:null;if(u)return ps(Un(u,-1),!0)}return ps(Un(r.nodeType==3?Nn(r):r,-n),n>=0)}function ps(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function wu(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function vy(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function nb(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return vy(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=yy(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Nn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?o.top-c.top>(c.bottom-o.top)*2:c.bottom-o.bottom>(o.bottom-c.top)*2))return!1}}return!0})}const rb=/[\u0590-\u08ac]/;function ib(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return!rb.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:vy(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:p}=t.domSelectionRange(),S=g&&!h.contains(g.nodeType==1?g:g.parentNode)||a==g&&u==p;try{l.collapse(c,f),a&&(a!=c||u!=f)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),S})}let sp=null,op=null,lp=!1;function sb(t,e,n){return sp==e&&op==n?lp:(sp=e,op=n,lp=n=="up"||n=="down"?nb(t,e,n):ib(t,e,n))}const Gt=0,ap=1,Dr=2,_n=3;class Eo{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Gt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Vt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof ky){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof wy&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Vt(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Vt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let a=this.children[l],u=o+a.size;if(i==-1&&e<=u){let c=o+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=o;for(let f=l;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Vt(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Vt(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let d=0,h=0;d<this.children.length;d++){let g=this.children[d],p=h+g.size;if(s>h&&o<p)return g.setSelection(e-h-g.border,n-h-g.border,r,i);h=p}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((hn||yt)&&e==n){let{node:d,offset:h}=l;if(d.nodeType==3)c=!!(h&&d.nodeValue[h-1]==`
`);else{let g=d.childNodes[h-1];c=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(hn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&yt)&&Yr(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Yr(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let h=l;l=a,a=h}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,a=o-s.border;if(e>=l&&n<=a){this.dirty=e==r||n==o?Dr:ap,e==l&&n==a&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=_n:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Dr:_n}r=o}this.dirty=Dr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Dr:ap;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class wy extends Eo{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Gt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ob extends Eo{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qr extends Eo{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=kn.renderSpec(document,n.type.spec.toDOM(n,r))),new Qr(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&_n||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=_n&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Gt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Gt}}slice(e,n,r){let i=Qr.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=$c(s,n,o,r)),e>0&&(s=$c(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}}class hr extends Eo{constructor(e,n,r,i,s,o,l,a,u){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],a,u=l&&l(n,s,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=kn.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=xy(c,r,n),u?a=new lb(e,n,r,i,c,f||null,d,u,s,o+1):n.isText?new xa(e,n,r,i,c,d,s):new hr(e,n,r,i,c,f||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ie.empty)}return e}matchesNode(e,n,r){return this.dirty==Gt&&e.eq(this.node)&&Hc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,a=new ub(this,o&&o.node,e);db(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?Te.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let h;a.findNodeMatch(u,c,f,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=a.findIndexWithChild(s.node))>-1&&a.updateNodeAt(u,c,f,h,e)||a.updateNextNode(u,c,f,e,d,i)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Dr)&&(o&&this.protectLocalComposition(e,o),Sy(this.contentDOM,this.children,e),Gi&&hb(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof we)||r<n||i>n+this.node.content.size)return null;let s=e.domSelectionRange(),o=pb(s.focusNode,s.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,a=mb(this.node.content,l,r-n,i-n);return a<0?null:{node:o,pos:a,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new ob(this,s,n,i);e.input.compositionNodes.push(o),this.children=$c(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==_n||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Gt}updateOuterDeco(e){if(Hc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=by(this.dom,this.nodeDOM,Fc(this.outerDeco,this.node,n),Fc(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function up(t,e,n,r,i){xy(r,e,t);let s=new hr(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class xa extends hr{constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==_n||this.dirty!=Gt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Gt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Gt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new xa(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=_n)}get domAtom(){return!1}}class ky extends Eo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Gt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lb extends hr{constructor(e,n,r,i,s,o,l,a,u,c){super(e,n,r,i,s,o,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==_n)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Sy(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=cp(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof Qr){let a=r?r.previousSibling:t.lastChild;Sy(o.contentDOM,o.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=cp(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Hs=function(t){t&&(this.nodeName=t)};Hs.prototype=Object.create(null);const zr=[new Hs];function Fc(t,e,n){if(t.length==0)return zr;let r=n?zr[0]:new Hs,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Hs(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&i.length==1&&i.push(r=new Hs(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function by(t,e,n,r){if(n==zr&&r==zr)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let a;l&&l.nodeName==o.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=zr[0]),i=a}ab(i,l||zr[0],o)}return i}function ab(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function xy(t,e,n){return by(t,t,zr,Fc(e,n,t.nodeType!=1))}function Hc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function cp(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ub{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cb(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Gt,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Qr.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==_n&&o.dom==o.contentDOM&&(o.dirty=Dr),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof hr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=s)return!1;let c=a.dom,f,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=_n&&Hc(n,a.outerDeco));if(!d&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,i,o)))return this.top.children[this.index]=f,f.dirty=Dr,f.updateChildren(i,o+1),f.dirty=Gt,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=hr.create(this.top,n,r,i,s,o);if(!l.contentDOM)return null;l.children=e.children,e.children=[],e.destroy();for(let a of l.children)a.parent=l;return l}addNode(e,n,r,i,s){let o=hr.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new wy(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Qr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof xa)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((yt||dt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new ky(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function cb(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Qr)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}function fb(t,e){return t.type.side-e.type.side}function db(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(s,c),u),s+=c.nodeSize}return}let o=0,l=[],a=null;for(let u=0;;){if(o<i.length&&i[o].to==s){let g=i[o++],p;for(;o<i.length&&i[o].to==s;)(p||(p=[g])).push(i[o++]);if(p){p.sort(fb);for(let S=0;S<p.length;S++)n(p[S],u,!!a)}else n(g,u,!!a)}let c,f;if(a)f=-1,c=a,a=null;else if(u<t.childCount)f=u,c=t.child(u++);else break;for(let g=0;g<l.length;g++)l[g].to<=s&&l.splice(g--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let d=s+c.nodeSize;if(c.isText){let g=d;o<i.length&&i[o].from<g&&(g=i[o].from);for(let p=0;p<l.length;p++)l[p].to<g&&(g=l[p].to);g<d&&(a=c.cut(g-s),c=c.cut(0,g-s),d=g,f=-1)}let h=c.isInline&&!c.isLeaf?l.filter(g=>!g.inline):l.slice();r(c,h,e.forChild(s,c),f),s=d}}function hb(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function pb(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=wn(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function mb(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let a=o.text;for(;i<t.childCount;){let u=t.child(i++);if(s+=u.nodeSize,!u.isText)break;a+=u.text}if(s>=n){let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function $c(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],u=l,c=l+=a.size;u>=n||c<=e?s.push(a):(u<e&&s.push(a.slice(0,e-u,r)),i&&(s.push(i),i=void 0),c>n&&s.push(a.slice(n-u,a.size,r)))}return s}function Yf(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),a,u;if(Sa(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&he.isSelectable(c)&&i.parent&&!(c.isInline&&BS(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new he(o==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=Qf(t,a,l,c)}return u}function Ey(t){return t.editable?t.hasFocus():Cy(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zn(t,e=!1){let n=t.state.selection;if(_y(t,n),!!Ey(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&dt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Yr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)yb(t);else{let{anchor:r,head:i}=n,s,o;fp&&!(n instanceof we)&&(n.$from.parent.inlineContent||(s=dp(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=dp(t,n.to))),t.docView.setSelection(r,i,t.root,e),fp&&(s&&hp(s),o&&hp(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gb(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const fp=yt||dt&&jS<63;function dp(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(yt&&i&&i.contentEditable=="false")return ku(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return ku(i);if(s)return ku(s)}}function ku(t){return t.contentEditable="true",yt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function hp(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function gb(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ey(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function yb(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Vt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ot&&dr<=11&&(r.disabled=!0,r.disabled=!1)}function _y(t,e){if(e instanceof he){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(pp(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else pp(t)}function pp(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Qf(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||we.between(e,n,r)}function mp(t){return t.editable&&!t.hasFocus()?!1:Cy(t)}function Cy(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vb(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Yr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function jc(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&ve.findFrom(s,e)}function Nr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function gp(t,e,n){let r=t.state.selection;if(r instanceof we){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=jc(t.state,e);return i&&i instanceof he?Nr(t,i):!1}else if(!(Ht&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?he.isSelectable(s)?Nr(t,new he(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):ba?Nr(t,new we(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else{if(r instanceof he&&r.node.isInline)return Nr(t,new we(e>0?r.$to:r.$from));{let i=jc(t.state,e);return i?Nr(t,i):!1}}}function Kl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $s(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function ms(t,e){return e<0?wb(t):My(t)}function wb(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(hn&&n.nodeType==1&&r<Kl(n)&&$s(n.childNodes[r])&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if($s(l))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(Ty(n))break;{let l=n.previousSibling;for(;l&&$s(l);)i=n.parentNode,s=Vt(l),l=l.previousSibling;if(l)n=l,r=Kl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Uc(t,n,r):i&&Uc(t,i,s)}function My(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Kl(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if($s(l))s=n,o=++r;else break}else{if(Ty(n))break;{let l=n.nextSibling;for(;l&&$s(l);)s=l.parentNode,o=Vt(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Kl(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Uc(t,s,o)}function Ty(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Uc(t,e,n){let r=t.domSelection();if(Sa(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&zn(t)},50)}function yp(t,e){let n=t.state.doc.resolve(e);if(!(dt||US)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function vp(t,e,n){let r=t.state.selection;if(r instanceof we&&!r.empty||n.indexOf("s")>-1||Ht&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=jc(t.state,e);if(o&&o instanceof he)return Nr(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof fn?ve.near(o,e):ve.findFrom(o,e);return l?Nr(t,l):!1}return!1}function wp(t,e){if(!(t.state.selection instanceof we))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function kp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kb(t){if(!yt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;kp(t,r,"true"),setTimeout(()=>kp(t,r,"false"),20)}return!1}function Sb(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function bb(t,e){let n=e.keyCode,r=Sb(e);if(n==8||Ht&&n==72&&r=="c")return wp(t,-1)||ms(t,-1);if(n==46||Ht&&n==68&&r=="c")return wp(t,1)||ms(t,1);if(n==13||n==27)return!0;if(n==37||Ht&&n==66&&r=="c"){let i=n==37?yp(t,t.state.selection.from)=="ltr"?-1:1:-1;return gp(t,i,r)||ms(t,i)}else if(n==39||Ht&&n==70&&r=="c"){let i=n==39?yp(t,t.state.selection.from)=="ltr"?1:-1:1;return gp(t,i,r)||ms(t,i)}else{if(n==38||Ht&&n==80&&r=="c")return vp(t,-1,r)||ms(t,-1);if(n==40||Ht&&n==78&&r=="c")return kb(t)||vp(t,1,r)||My(t);if(r==(Ht?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Oy(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let o=t.someProp("clipboardSerializer")||kn.fromSchema(t.state.schema),l=zy(),a=l.createElement("div");a.appendChild(o.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Dy[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let g=l.createElement(c[h]);for(;a.firstChild;)g.appendChild(a.firstChild);a.appendChild(g),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function Ny(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(r||s||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,s||r,t)}),s)return e?new ce(ie.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ce.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)l=f;else{let d=i.marks(),{schema:h}=t.state,g=kn.fromSchema(h);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(p=>{let S=o.appendChild(document.createElement("p"));p&&S.appendChild(g.serializeNode(h.text(p,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=_b(n),ba&&Cb(o);let u=o&&o.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Vi.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!xb.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=Mb(Sp(l,+c[1],+c[2]),c[4]);else if(l=ce.maxOpen(Eb(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let h=l.content.firstChild;f<l.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=l.content.lastChild;d<l.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);l=Sp(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const xb=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Eb(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let a=i.findWrapping(l.type),u;if(!a)return o=null;if(u=o.length&&s.length&&Ry(a,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=Iy(o[o.length-1],s.length));let c=Ay(l,a);o.push(c),i=i.matchType(c.type),s=a}}),o)return ie.from(o)}return t}function Ay(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ie.from(t));return t}function Ry(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=Ry(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ie.from(Ay(n,t,i+1))))}}function Iy(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Iy(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ie.empty,!0);return t.copy(n.append(r))}function Vc(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=Vc(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(ie.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function Sp(t,e,n){return e<t.openStart&&(t=new ce(Vc(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ce(Vc(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Dy={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bp=null;function zy(){return bp||(bp=document.implementation.createHTMLDocument("title"))}function _b(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=zy().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Dy[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Cb(t){let e=t.querySelectorAll(dt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Mb(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=ie.from(a.create(r[l+1],i)),s++,o++}return new ce(i,s,o)}const vt={},wt={},Tb={touchstart:!0,touchmove:!0};class Ob{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Nb(t){for(let e in vt){let n=vt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Rb(t,r)&&!ed(t,r)&&(t.editable||!(r.type in wt))&&n(t,r)},Tb[e]?{passive:!0}:void 0)}yt&&t.dom.addEventListener("input",()=>null),Wc(t)}function er(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Ab(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Wc(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>ed(t,r))})}function ed(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Rb(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Ib(t,e){!ed(t,e)&&vt[e.type]&&(t.editable||!(e.type in wt))&&vt[e.type](t,e)}wt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Ly(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(sn&&dt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Gi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Or(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||bb(t,n)?n.preventDefault():er(t,"key")};wt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};wt.keypress=(t,e)=>{let n=e;if(Ly(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ht&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof we)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Ea(t){return{left:t.clientX,top:t.clientY}}function Db(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function td(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Pi(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function zb(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&he.isSelectable(r)?(Pi(t,new he(n),"pointer"),!0):!1}function Pb(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof he&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(he.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Pi(t,he.create(t.state.doc,i),"pointer"),!0):!1}function Lb(t,e,n,r,i){return td(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Pb(t,n):zb(t,n))}function Bb(t,e,n,r){return td(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Fb(t,e,n,r){return td(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Hb(t,n,r)}function Hb(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Pi(t,we.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)Pi(t,we.create(r,l+1,l+1+o.content.size),"pointer");else if(he.isSelectable(o))Pi(t,he.create(r,l),"pointer");else continue;return!0}}function nd(t){return Gl(t)}const Py=Ht?"metaKey":"ctrlKey";vt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=nd(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Db(n,t.input.lastClick)&&!n[Py]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Ea(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new $b(t,o,n,!!r)):(s=="doubleClick"?Bb:Fb)(t,o.pos,o.inside,n)?n.preventDefault():er(t,"pointer"))};class $b{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Py],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let c=e.state.doc.resolve(n.pos);s=c.parent,o=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof he&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),er(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>zn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Ea(e))),this.updateAllowDefault(e),this.allowDefault||!n?er(this.view,"pointer"):Lb(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||yt&&this.mightDrag&&!this.mightDrag.node.isAtom||dt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Pi(this.view,ve.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):er(this.view,"pointer")}move(e){this.updateAllowDefault(e),er(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}vt.touchstart=t=>{t.input.lastTouch=Date.now(),nd(t),er(t,"pointer")};vt.touchmove=t=>{t.input.lastTouch=Date.now(),er(t,"pointer")};vt.contextmenu=t=>nd(t);function Ly(t,e){return t.composing?!0:yt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jb=sn?5e3:-1;wt.compositionstart=wt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Gl(t,!0),t.markCursor=null;else if(Gl(t),hn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){t.domSelection().collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}By(t,jb)};wt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionID++,By(t,20))};function By(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gl(t),e))}function Fy(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Ub());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Ub(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gl(t,e=!1){if(!(sn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Fy(t),e||t.docView&&t.docView.dirty){let n=Yf(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Vb(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Zi=Ot&&dr<15||Gi&&VS<604;vt.copy=wt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Zi?null:n.clipboardData,o=r.content(),{dom:l,text:a}=Oy(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",a)):Vb(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Wb(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Kb(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?lo(t,r.value,null,t.input.shiftKey,e):lo(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function lo(t,e,n,r,i){let s=Ny(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,s||ce.empty)))return!0;if(!s)return!1;let o=Wb(s),l=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}wt.paste=(t,e)=>{let n=e;if(t.composing&&!sn)return;let r=Zi?null:n.clipboardData;r&&lo(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():Kb(t,n)};class Gb{constructor(e,n){this.slice=e,this.move=n}}const Hy=Ht?"altKey":"ctrlKey";vt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Ea(n));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof he?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(he.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(he.create(t.state.doc,u.posBefore)))}}let o=t.state.selection.content(),{dom:l,text:a}=Oy(t,o);n.dataTransfer.clearData(),n.dataTransfer.setData(Zi?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Zi||n.dataTransfer.setData("text/plain",a),t.dragging=new Gb(o,!n[Hy])};vt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};wt.dragover=wt.dragenter=(t,e)=>e.preventDefault();wt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Ea(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",g=>{o=g(o,t)}):o=Ny(t,n.dataTransfer.getData(Zi?"Text":"text/plain"),Zi?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[Hy]);if(t.someProp("handleDrop",g=>g(t,n,o||ce.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?sy(t.state.doc,s.pos,o):s.pos;a==null&&(a=s.pos);let u=t.state.tr;l&&u.deleteSelection();let c=u.mapping.map(a),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,o.content.firstChild):u.replaceRange(c,c,o),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&he.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new he(h));else{let g=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((p,S,m,y)=>g=y),u.setSelection(Qf(t,h,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};vt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&zn(t)},20))};vt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};vt.beforeinput=(t,e)=>{if(dt&&sn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Or(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in wt)vt[t]=wt[t];function ao(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class rd{constructor(e,n){this.toDOM=e,this.spec=n||jr,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new _t(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof rd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ao(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class pr{constructor(e,n){this.attrs=e,this.spec=n||jr}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new _t(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof pr&&ao(this.attrs,e.attrs)&&ao(this.spec,e.spec)}static is(e){return e.type instanceof pr}destroy(){}}class id{constructor(e,n){this.attrs=e,this.spec=n||jr}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new _t(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof id&&ao(this.attrs,e.attrs)&&ao(this.spec,e.spec)}destroy(){}}class _t{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new _t(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new _t(e,e,new rd(n,r))}static inline(e,n,r,i){return new _t(e,n,new pr(r,i))}static node(e,n,r,i){return new _t(e,n,new id(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof pr}}const di=[],jr={};class He{constructor(e,n){this.local=e.length?e:di,this.children=n.length?n:di}static create(e,n){return n.length?Zl(n,e,0,jr):ut}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==ut||e.maps.length==0?this:this.mapInner(e,n,0,0,r||jr)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(o||(o=[])).push(a):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?Zb(this.children,o||[],e,n,r,i,s):o?new He(o.sort(Ur),di):ut}add(e,n){return n.length?this==ut?He.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,a)=>{let u=a+r,c;if(c=jy(n,l,u)){for(i||(i=this.children.slice());s<i.length&&i[s]<a;)s+=3;i[s]==a?i[s+2]=i[s+2].addInner(l,c,u+1):i.splice(s,0,a,a+l.nodeSize,Zl(c,l,u+1,jr)),s+=3}});let o=$y(s?Uy(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new He(o.length?this.local.concat(o).sort(Ur):this.local,i||this.children)}remove(e){return e.length==0||this==ut?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,a=r[s+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let u=r[s+2].removeInner(o,l+1);u!=ut?r[s+2]=u:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new He(i,r):ut}forChild(e,n){if(this==ut)return this;if(n.isLeaf)return He.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>s&&a.type instanceof pr){let u=Math.max(s,a.from)-s,c=Math.min(o,a.to)-s;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new He(i.sort(Ur),di);return r?new Jn([l,r]):l}return r||ut}eq(e){if(this==e)return!0;if(!(e instanceof He)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sd(this.localsInner(e))}localsInner(e){if(this==ut)return di;if(e.inlineContent||!this.local.some(pr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof pr||n.push(this.local[r]);return n}}He.empty=new He([],[]);He.removeOverlap=sd;const ut=He.empty;class Jn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,jr));return Jn.from(r)}forChild(e,n){if(n.isLeaf)return He.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=ut&&(s instanceof Jn?r=r.concat(s.members):r.push(s))}return Jn.from(r)}eq(e){if(!(e instanceof Jn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?sd(r?n:n.sort(Ur)):di}static from(e){switch(e.length){case 0:return ut;case 1:return e[0];default:return new Jn(e.every(n=>n instanceof He)?e:e.reduce((n,r)=>n.concat(r instanceof He?r:r.members),[]))}}}function Zb(t,e,n,r,i,s,o){let l=t.slice();for(let u=0,c=s;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,g,p)=>{let S=p-g-(h-d);for(let m=0;m<l.length;m+=3){let y=l[m+1];if(y<0||d>y+c-f)continue;let k=l[m]+c-f;h>=k?l[m+1]=d<=k?-2:-1:g>=i&&S&&(l[m]+=S,l[m+1]+=S)}f+=S}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+s),f=c-i;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[u+1]+s,-1),h=d-i,{index:g,offset:p}=r.content.findIndex(f),S=r.maybeChild(g);if(S&&p==f&&p+S.nodeSize==h){let m=l[u+2].mapInner(n,S,c+1,t[u]+s+1,o);m!=ut?(l[u]=f,l[u+1]=h,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=Jb(l,t,e,n,i,s,o),c=Zl(u,r,0,o);e=c.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<l.length&&l[d]<h;)d+=3;l.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new He(e.sort(Ur),l)}function $y(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new _t(i.from+e,i.to+e,i.type))}return n}function Jb(t,e,n,r,i,s,o){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):o.onRemove&&o.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+s+1);return n}function jy(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function Uy(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Zl(t,e,n,r){let i=[],s=!1;e.forEach((l,a)=>{let u=jy(t,l,a+n);if(u){s=!0;let c=Zl(u,l,n+a+1,r);c!=ut&&i.push(a,a+l.nodeSize,c)}});let o=$y(s?Uy(t):t,-n).sort(Ur);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new He(o,i):ut}function Ur(t,e){return t.from-e.from||t.to-e.to}function sd(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),xp(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),xp(e,i,r.copy(s.from,r.to)));break}}}return e}function xp(t,e,n){for(;e<t.length&&Ur(n,t[e])>0;)e++;t.splice(e,0,n)}function Su(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ut&&e.push(r)}),t.cursorWrapper&&e.push(He.create(t.state.doc,[t.cursorWrapper.deco])),Jn.from(e)}const qb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Xb=Ot&&dr<=11;class Yb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Qb{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Yb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ot&&dr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Xb&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qb)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mp(this.view)){if(this.suppressingSelectionUpdates)return zn(this.view);if(Ot&&dr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Yr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=oo(s))n.add(s);for(let s=e.anchorNode;s;s=oo(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mp(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],a);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(l=!0))}if(hn&&a.length>1){let c=a.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Sa(r)&&(u=Yf(e))&&u.eq(ve.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,zn(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),ex(e)),this.handleDOMChange(s,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||zn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Ot&&dr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=i&&i.parentNode==e.target?Vt(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),a=s&&s.parentNode==e.target?Vt(s):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Ep=new WeakMap,_p=!1;function ex(t){if(!Ep.has(t)&&(Ep.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=hn,_p)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_p=!0}}function tx(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,s=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Yr(l.node,l.offset,s,o)&&([r,i,s,o]=[s,o,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:o}}function nx(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Sa(a)||u.push({node:a.focusNode,offset:a.focusOffset})),dt&&t.input.lastKeyCode===8)for(let S=s;S>i;S--){let m=r.childNodes[S-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){s=S;break}if(!y||y.size)break}let f=t.state.doc,d=t.someProp("domParser")||Vi.fromSchema(t.state.schema),h=f.resolve(o),g=null,p=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:s,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:rx,context:h});if(u&&u[0].pos!=null){let S=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=S),g={anchor:S+o,head:m+o}}return{doc:p,sel:g,from:o,to:l}}function rx(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(yt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||yt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ix=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sx(t,e,n,r,i){if(e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,H=Yf(t,A);if(H&&!t.state.selection.eq(H)){if(dt&&sn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",j=>j(t,Or(13,"Enter"))))return;let N=t.state.tr.setSelection(H);A=="pointer"?N.setMeta("pointer",!0):A=="key"&&N.scrollIntoView(),t.composing&&N.setMeta("composition",t.input.compositionID),t.dispatch(N)}return}let s=t.state.doc.resolve(e),o=s.sharedDepth(n);e=s.before(o+1),n=t.state.doc.resolve(n).after(o+1);let l=t.state.selection,a=nx(t,e,n),u=t.state.doc,c=u.slice(a.from,a.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let h=ax(c.content,a.doc.content,a.from,f,d);if((Gi&&t.input.lastIOSEnter>Date.now()-225||sn)&&i.some(A=>A.nodeType==1&&!ix.test(A.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",A=>A(t,Or(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof we&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(a.sel&&a.sel.anchor!=a.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(a.sel){let A=Cp(t,t.state.doc,a.sel);if(A&&!A.eq(t.state.selection)){let H=t.state.tr.setSelection(A);t.composing&&H.setMeta("composition",t.input.compositionID),t.dispatch(H)}}return}if(dt&&t.cursorWrapper&&a.sel&&a.sel.anchor==t.cursorWrapper.deco.from&&a.sel.head==a.sel.anchor){let A=h.endB-h.start;a.sel={anchor:a.sel.anchor+A,head:a.sel.anchor+A}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof we&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=a.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=a.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),Ot&&dr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>a.from&&a.doc.textBetween(h.start-a.from-1,h.start-a.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let g=a.doc.resolveNoCache(h.start-a.from),p=a.doc.resolveNoCache(h.endB-a.from),S=u.resolve(h.start),m=g.sameParent(p)&&g.parent.inlineContent&&S.end()>=h.endA,y;if((Gi&&t.input.lastIOSEnter>Date.now()-225&&(!m||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!m&&g.pos<a.doc.content.size&&(y=ve.findFrom(a.doc.resolve(g.pos+1),1,!0))&&y.head==p.pos)&&t.someProp("handleKeyDown",A=>A(t,Or(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&lx(u,h.start,h.endA,g,p)&&t.someProp("handleKeyDown",A=>A(t,Or(8,"Backspace")))){sn&&dt&&t.domObserver.suppressSelectionUpdates();return}dt&&sn&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),sn&&!m&&g.start()!=p.start()&&p.parentOffset==0&&g.depth==p.depth&&a.sel&&a.sel.anchor==a.sel.head&&a.sel.head==h.endA&&(h.endB-=2,p=a.doc.resolveNoCache(h.endB-a.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Or(13,"Enter"))})},20));let k=h.start,x=h.endA,_,P,z;if(m){if(g.pos==p.pos)Ot&&dr<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>zn(t),20)),_=t.state.tr.delete(k,x),P=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(z=ox(g.parent.content.cut(g.parentOffset,p.parentOffset),S.parent.content.cut(S.parentOffset,h.endA-S.start()))))_=t.state.tr,z.type=="add"?_.addMark(k,x,z.mark):_.removeMark(k,x,z.mark);else if(g.parent.child(g.index()).isText&&g.index()==p.index()-(p.textOffset?0:1)){let A=g.parent.textBetween(g.parentOffset,p.parentOffset);if(t.someProp("handleTextInput",H=>H(t,k,x,A)))return;_=t.state.tr.insertText(A,k,x)}}if(_||(_=t.state.tr.replace(k,x,a.doc.slice(h.start-a.from,h.endB-a.from))),a.sel){let A=Cp(t,_.doc,a.sel);A&&!(dt&&sn&&t.composing&&A.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==k||A.head==_.mapping.map(x)-1)||Ot&&A.empty&&A.head==k)&&_.setSelection(A)}P&&_.ensureMarks(P),t.composing&&_.setMeta("composition",t.input.compositionID),t.dispatch(_.scrollIntoView())}function Cp(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Qf(t,e.resolve(n.anchor),e.resolve(n.head))}function ox(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)s=n[c].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&s.length==1)l=s[0],o="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(ie.from(u).eq(t))return{mark:l,type:o}}function lx(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||bu(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(bu(s,!0,!0));return!o.parent.isTextblock||o.pos>n||bu(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function bu(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function ax(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,s-Math.min(o,l));r-=o+a-s}if(o<s&&t.size<e.size){let a=r<=s&&r>=o?s-r:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=r<=s&&r>=l?s-r:0;s-=a,o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}class ux{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ob,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Ap),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Op(this),Tp(this),this.nodeViews=Np(this),this.docView=up(this.state.doc,Mp(this),Su(this),this.dom,this),this.domObserver=new Qb(this,(r,i,s,o)=>sx(this,r,i,s,o)),this.domObserver.start(),Nb(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Wc(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Ap),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,s=!1;e.storedMarks&&this.composing&&(Fy(this),s=!0),this.state=e;let o=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(o||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=Np(this);fx(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(o||n.handleDOMEvents!=this._props.handleDOMEvents)&&Wc(this),this.editable=Op(this),Tp(this);let l=Su(this),a=Mp(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,a,l);(c||!e.selection.eq(r.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&GS(this);if(s){this.domObserver.stop();let d=c&&(Ot||dt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&cx(r.selection,e.selection);if(c){let h=dt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,a,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=up(e.doc,a,l,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vb(this))?zn(this,d):(_y(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&ZS(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof he){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&rp(this,n.getBoundingClientRect(),e)}else rp(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(Ot){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&JS(this.dom),zn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return eb(this,e)}coordsAtPos(e,n=1){return yy(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return sb(this,n||this.state,e)}pasteHTML(e,n){return lo(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return lo(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Ab(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Su(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Ib(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return yt&&this.root.nodeType===11&&HS(this.dom.ownerDocument)==this.dom?tx(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Mp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[_t.node(0,t.state.doc.content.size,e)]}function Tp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:_t.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Op(t){return!t.someProp("editable",e=>e(t.state)===!1)}function cx(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Np(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function fx(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Ap(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var vr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jl={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dx=typeof navigator<"u"&&/Mac/.test(navigator.platform),hx=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var rt=0;rt<10;rt++)vr[48+rt]=vr[96+rt]=String(rt);for(var rt=1;rt<=24;rt++)vr[rt+111]="F"+rt;for(var rt=65;rt<=90;rt++)vr[rt]=String.fromCharCode(rt+32),Jl[rt]=String.fromCharCode(rt);for(var xu in vr)Jl.hasOwnProperty(xu)||(Jl[xu]=vr[xu]);function px(t){var e=dx&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||hx&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Jl:vr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const mx=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function gx(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))mx?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function yx(t){let e=Object.create(null);for(let n in t)e[gx(n)]=t[n];return e}function Eu(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function vx(t){return new Rt({props:{handleKeyDown:Vy(t)}})}function Vy(t){let e=yx(t);return function(n,r){let i=px(r),s,o=e[Eu(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Eu(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=vr[r.keyCode])&&s!=i){let l=e[Eu(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const wx=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function kx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Sx=(t,e,n)=>{let r=kx(t,n);if(!r)return!1;let i=Wy(r);if(!i){let o=r.blockRange(),l=o&&ts(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&Zy(t,i,e))return!0;if(r.parent.content.size==0&&(Ji(s,"end")||he.isSelectable(s))){let o=Jf(t.doc,r.before(),r.after(),ce.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ji(s,"end")?ve.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):he.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ji(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const bx=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Wy(r)}let o=s&&s.nodeBefore;return!o||!he.isSelectable(o)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Wy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function xx(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Ex=(t,e,n)=>{let r=xx(t,n);if(!r)return!1;let i=Ky(r);if(!i)return!1;let s=i.nodeAfter;if(Zy(t,i,e))return!0;if(r.parent.content.size==0&&(Ji(s,"start")||he.isSelectable(s))){let o=Jf(t.doc,r.before(),r.after(),ce.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Ji(s,"start")?ve.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):he.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},_x=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Ky(r)}let o=s&&s.nodeAfter;return!o||!he.isSelectable(o)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,s.pos)).scrollIntoView()),!0)};function Ky(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Cx=(t,e)=>{let n=t.selection,r=n instanceof he,i;if(r){if(n.node.isTextblock||!br(t.doc,n.from))return!1;i=n.from}else if(i=iy(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(he.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Mx=(t,e)=>{let n=t.selection,r;if(n instanceof he){if(n.node.isTextblock||!br(t.doc,n.to))return!1;r=n.to}else if(r=iy(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Tx=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&ts(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Ox=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Gy(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Nx=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Gy(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(ve.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Ax=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof fn||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Gy(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(we.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},Rx=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(Di(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&ts(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Ix=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(he.create(t.doc,i))),!0)};function Dx(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||br(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function Zy(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s,o;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Dx(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(s=(o=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&o.matchType(s[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=ie.empty;for(let p=s.length-1;p>=0;p--)d=ie.from(s[p].create(null,d));d=ie.from(r.copy(d));let h=t.tr.step(new qe(e.pos-1,f,e.pos,f,new ce(d,1,0),s.length,!0)),g=f+2*s.length;br(h.doc,g)&&h.join(g),n(h.scrollIntoView())}return!0}let a=ve.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&ts(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Ji(i,"start",!0)&&Ji(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,g=1;for(;!h.isTextblock;h=h.firstChild)g++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(n){let p=ie.empty;for(let m=d.length-1;m>=0;m--)p=ie.from(d[m].copy(p));let S=t.tr.step(new qe(e.pos-d.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new ce(p,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function Jy(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(we.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const zx=Jy(-1),Px=Jy(1);function Lx(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&Zf(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function Rp(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),f=c.index();i=c.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];s.setBlockType(l,a,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Bx(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let c=n.doc.resolve(o.start-2);a=new jl(c,c,o.depth),o.endIndex<o.parent.childCount&&(o=new jl(i,n.doc.resolve(s.end(o.depth)),o.depth)),l=!0}let u=Zf(a,t,e,o);return u?(r&&r(Fx(n.tr,o,u,l,t).scrollIntoView()),!0):!1}}function Fx(t,e,n,r,i){let s=ie.empty;for(let c=n.length-1;c>=0;c--)s=ie.from(n[c].type.create(n[c].attrs,s));t.step(new qe(e.start-(r?2:0),e.end,e.start,e.end,new ce(s,0,0),n.length,!0));let o=0;for(let c=0;c<n.length;c++)n[c].type==i&&(o=c+1);let l=n.length-o,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&Di(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function Hx(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?$x(e,n,t,s):jx(e,n,s):!0:!1}}function $x(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new qe(s-1,o,s,o,new ce(ie.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new jl(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=ts(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(s,-1)-1;return br(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function jx(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,g=n.endIndex-1,p=n.startIndex;g>p;g--)h-=i.child(g).nodeSize,r.delete(h-1,h+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=s.node(-1),c=s.index(-1);if(!u.canReplace(c+(l?0:1),c+1,o.content.append(a?ie.empty:ie.from(i))))return!1;let f=s.pos,d=f+o.nodeSize;return r.step(new qe(f-(l?1:0),d+(a?1:0),f+1,d-1,new ce((l?ie.empty:ie.from(i.copy(ie.empty))).append(a?ie.empty:ie.from(i.copy(ie.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function Ux(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=ie.from(u?t.create():null),f=new ce(ie.from(t.create(null,ie.from(l.type.create(null,c)))),u?3:1,0),d=s.start,h=s.end;n(e.tr.step(new qe(d-(u?3:1),h,d,h,f,1,!0)).scrollIntoView())}return!0}}function _a(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Ca{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const f=a(...c)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,l=[],a=!!e,u=e||s.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(u),l.every(d=>d===!0)),f={...Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...p)=>{const S=this.buildProps(u,n),m=h(...p)(S);return l.push(m),f}])),run:c};return f}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i;s.storedMarks&&e.setStoredMarks(s.storedMarks);const l={tr:e,editor:i,view:o,state:_a({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class Vx{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function de(t,e,n){return t.config[e]===void 0&&t.parent?de(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?de(t.parent,e,n):null}):t.config[e]}function Ma(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function qy(t){const e=[],{nodeExtensions:n,markExtensions:r}=Ma(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=de(o,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,h])=>{e.push({type:f,name:d,attribute:{...s,...h}})})})})}),i.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=de(o,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,f])=>{const d={...s,...f};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:c,attribute:d})})}),e}function Ye(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ve(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}i==="class"?r[i]=[r[i],s].join(" "):i==="style"?r[i]=[r[i],s].join("; "):r[i]=s}),r},{})}function Kc(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ve(n,r),{})}function Xy(t){return typeof t=="function"}function ye(t,e=void 0,...n){return Xy(t)?e?t.bind(e)(...n):t(...n):t}function Wx(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Kx(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Ip(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):Kx(n.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...r,...i}}}}function Dp(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Wx(n)?!1:n!=null))}function Gx(t,e){var n;const r=qy(t),{nodeExtensions:i,markExtensions:s}=Ma(t),o=(n=i.find(u=>de(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((m,y)=>{const k=de(y,"extendNodeSchema",f);return{...m,...k?k(u):{}}},{}),h=Dp({...d,content:ye(de(u,"content",f)),marks:ye(de(u,"marks",f)),group:ye(de(u,"group",f)),inline:ye(de(u,"inline",f)),atom:ye(de(u,"atom",f)),selectable:ye(de(u,"selectable",f)),draggable:ye(de(u,"draggable",f)),code:ye(de(u,"code",f)),defining:ye(de(u,"defining",f)),isolating:ye(de(u,"isolating",f)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),g=ye(de(u,"parseHTML",f));g&&(h.parseDOM=g.map(m=>Ip(m,c)));const p=de(u,"renderHTML",f);p&&(h.toDOM=m=>p({node:m,HTMLAttributes:Kc(m,c)}));const S=de(u,"renderText",f);return S&&(h.toText=S),[u.name,h]})),a=Object.fromEntries(s.map(u=>{const c=r.filter(S=>S.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},d=t.reduce((S,m)=>{const y=de(m,"extendMarkSchema",f);return{...S,...y?y(u):{}}},{}),h=Dp({...d,inclusive:ye(de(u,"inclusive",f)),excludes:ye(de(u,"excludes",f)),group:ye(de(u,"group",f)),spanning:ye(de(u,"spanning",f)),code:ye(de(u,"code",f)),attrs:Object.fromEntries(c.map(S=>{var m;return[S.name,{default:(m=S==null?void 0:S.attribute)===null||m===void 0?void 0:m.default}]}))}),g=ye(de(u,"parseHTML",f));g&&(h.parseDOM=g.map(S=>Ip(S,c)));const p=de(u,"renderHTML",f);return p&&(h.toDOM=S=>p({mark:S,HTMLAttributes:Kc(S,c)})),[u.name,h]}));return new rS({topNode:o,nodes:l,marks:a})}function _u(t,e){return e.nodes[t]||e.marks[t]||null}function zp(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const Zx=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:s,parent:o,index:l}))||i.textContent||"%leaf%";n+=c.slice(0,Math.max(0,r-s))}),n};function od(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Ta{constructor(e){this.find=e.find,this.handler=e.handler}}const Jx=(t,e)=>{if(od(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Cu(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let c=!1;const f=Zx(u)+s;return o.forEach(d=>{if(c)return;const h=Jx(f,d.find);if(!h)return;const g=a.state.tr,p=_a({state:a.state,transaction:g}),S={from:r-(h[0].length-s.length),to:i},{commands:m,chain:y,can:k}=new Ca({editor:n,state:p});d.handler({state:p,range:S,match:h,commands:m,chain:y,can:k})===null||!g.steps.length||(g.setMeta(l,{transform:g,from:r,to:i,text:s}),a.dispatch(g),c=!0)}),c}function qx(t){const{editor:e,rules:n}=t,r=new Rt({state:{init(){return null},apply(i,s){const o=i.getMeta(r);return o||(i.selectionSet||i.docChanged?null:s)}},props:{handleTextInput(i,s,o,l){return Cu({editor:e,from:s,to:o,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Cu({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Cu({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Xx(t){return typeof t=="number"}class Yx{constructor(e){this.find=e.find,this.handler=e.handler}}const Qx=(t,e)=>{if(od(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function eE(t){const{editor:e,state:n,from:r,to:i,rule:s}=t,{commands:o,chain:l,can:a}=new Ca({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(f,d)=>{if(!f.isTextblock||f.type.spec.code)return;const h=Math.max(r,d),g=Math.min(i,d+f.content.size),p=f.textBetween(h-d,g-d,void 0,"￼");Qx(p,s.find).forEach(m=>{if(m.index===void 0)return;const y=h+m.index+1,k=y+m[0].length,x={from:n.tr.mapping.map(y),to:n.tr.mapping.map(k)},_=s.handler({state:n,range:x,match:m,commands:o,chain:l,can:a});u.push(_)})}),u.every(f=>f!==null)}function tE(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1;return n.map(l=>new Rt({view(a){const u=c=>{var f;r=!((f=a.dom.parentElement)===null||f===void 0)&&f.contains(c.target)?a.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:a=>(s=r===a.dom.parentElement,!1),paste:(a,u)=>{var c;const f=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(a,u,c)=>{const f=a[0],d=f.getMeta("uiEvent")==="paste"&&!i,h=f.getMeta("uiEvent")==="drop"&&!s;if(!d&&!h)return;const g=u.doc.content.findDiffStart(c.doc.content),p=u.doc.content.findDiffEnd(c.doc.content);if(!Xx(g)||!p||g===p.b)return;const S=c.tr,m=_a({state:c,transaction:S});if(!(!eE({editor:e,state:m,from:Math.max(g-1,0),to:p.b-1,rule:l})||!S.steps.length))return S}}))}function nE(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Ci{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Ci.resolve(e),this.schema=Gx(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:_u(r.name,this.schema)};r.type==="mark"&&(!((i=ye(de(r,"keepOnSplit",s)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const o=de(r,"onBeforeCreate",s);o&&this.editor.on("beforeCreate",o);const l=de(r,"onCreate",s);l&&this.editor.on("create",l);const a=de(r,"onUpdate",s);a&&this.editor.on("update",a);const u=de(r,"onSelectionUpdate",s);u&&this.editor.on("selectionUpdate",u);const c=de(r,"onTransaction",s);c&&this.editor.on("transaction",c);const f=de(r,"onFocus",s);f&&this.editor.on("focus",f);const d=de(r,"onBlur",s);d&&this.editor.on("blur",d);const h=de(r,"onDestroy",s);h&&this.editor.on("destroy",h)})}static resolve(e){const n=Ci.sort(Ci.flatten(e)),r=nE(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=de(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=de(r,"priority")||100,o=de(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:_u(n.name,this.schema)},i=de(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Ci.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:_u(o.name,this.schema)},a=[],u=de(o,"addKeyboardShortcuts",l);let c={};if(o.type==="mark"&&o.config.exitable&&(c.ArrowRight=()=>pn.handleExit({editor:e,mark:o})),u){const p=Object.fromEntries(Object.entries(u()).map(([S,m])=>[S,()=>m({editor:e})]));c={...c,...p}}const f=vx(c);a.push(f);const d=de(o,"addInputRules",l);zp(o,e.options.enableInputRules)&&d&&r.push(...d());const h=de(o,"addPasteRules",l);zp(o,e.options.enablePasteRules)&&h&&i.push(...h());const g=de(o,"addProseMirrorPlugins",l);if(g){const p=g();a.push(...p)}return a}).flat();return[qx({editor:e,rules:r}),...tE({editor:e,rules:i}),...s]}get attributes(){return qy(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Ma(this.extensions);return Object.fromEntries(n.filter(r=>!!de(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ye(r.name,this.schema)},o=de(r,"addNodeView",s);if(!o)return[];const l=(a,u,c,f)=>{const d=Kc(a,i);return o()({editor:e,node:a,getPos:c,decorations:f,HTMLAttributes:d,extension:r})};return[r.name,l]}))}}function rE(t){return Object.prototype.toString.call(t).slice(8,-1)}function Mu(t){return rE(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Oa(t,e){const n={...t};return Mu(t)&&Mu(e)&&Object.keys(e).forEach(r=>{Mu(e[r])?r in t?n[r]=Oa(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Nt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(de(this,"addOptions",{name:this.name}))),this.storage=ye(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const n=this.extend();return n.options=Oa(this.options,e),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Nt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(de(n,"addOptions",{name:n.name})),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}}function Yy(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let l="",a=!0;return t.nodesBetween(r,i,(u,c,f,d)=>{var h;const g=o==null?void 0:o[u.type.name];g?(u.isBlock&&!a&&(l+=s,a=!0),f&&(l+=g({node:u,pos:c,parent:f,index:d,range:e}))):u.isText?(l+=(h=u==null?void 0:u.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c),a=!1):u.isBlock&&!a&&(l+=s,a=!0)}),l}function Qy(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const iE=Nt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Rt({key:new Cn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(c=>c.$from.pos)),l=Math.max(...s.map(c=>c.$to.pos)),a=Qy(n);return Yy(r,{from:o,to:l},{textSerializers:a})}}})]}}),sE=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),oE=(t=!1)=>({commands:e})=>e.setContent("",t),lE=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(a)),d=u.resolve(c.map(a+l.nodeSize)),h=f.blockRange(d);if(!h)return;const g=ts(h);if(l.type.isTextblock){const{defaultType:p}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(h.start,p)}(g||g===0)&&e.lift(h,g)})}),!0},aE=t=>e=>t(e),uE=()=>({state:t,dispatch:e})=>Ax(t,e),cE=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const l=i.before(s),a=i.after(s);t.delete(l,a).scrollIntoView()}return!0}return!1},fE=t=>({tr:e,state:n,dispatch:r})=>{const i=Ye(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const a=s.before(o),u=s.after(o);e.delete(a,u).scrollIntoView()}return!0}return!1},dE=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},hE=()=>({state:t,dispatch:e})=>wx(t,e),pE=()=>({commands:t})=>t.keyboardShortcut("Enter"),mE=()=>({state:t,dispatch:e})=>Nx(t,e);function ql(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:od(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Gc(t,e,n={}){return t.find(r=>r.type===e&&ql(r.attrs,n))}function gE(t,e,n={}){return!!Gc(t,e,n)}function ld(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Gc([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,l=s+1,a=o+r.node.nodeSize;for(Gc([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&gE([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function Er(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const yE=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=Er(t,r.schema),{doc:o,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const f=ld(a,s,e);if(f&&f.from<=u&&f.to>=c){const d=we.create(o,f.from,f.to);n.setSelection(d)}}return!0},vE=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function e1(t){return t instanceof we}function Pr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function t1(t,e=null){if(!e)return null;const n=ve.atStart(t),r=ve.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?we.create(t,Pr(0,i,s),Pr(t.content.size,i,s)):we.create(t,Pr(e,i,s),Pr(e,i,s))}function ad(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const wE=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{ad()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!e1(n.state.selection))return o(),!0;const l=t1(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return s&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},kE=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),SE=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function Pp(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Xl(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?ie.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Xl("",e,n)}if(typeof t=="string"){const r=Vi.fromSchema(e);return n.slice?r.parseSlice(Pp(t),n.parseOptions).content:r.parse(Pp(t),n.parseOptions)}return Xl("",e,n)}function bE(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof ft||i instanceof qe))return;const s=t.mapping.maps[r];let o=0;s.forEach((l,a,u,c)=>{o===0&&(o=c)}),t.setSelection(ve.near(t.doc.resolve(o),n))}const xE=t=>t.toString().startsWith("<"),EE=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const o=Xl(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(o.toString()==="<>")return!0;let{from:l,to:a}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((xE(o)?o:[o]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),l===a&&c){const{parent:d}=r.doc.resolve(l);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(l-=1,a+=1)}u?Array.isArray(e)?r.insertText(e.map(d=>d.text||"").join(""),l,a):typeof e=="object"&&e&&e.text?r.insertText(e.text,l,a):r.insertText(e,l,a):r.replaceWith(l,a,o),n.updateSelection&&bE(r,r.steps.length-1,-1)}return!0},_E=()=>({state:t,dispatch:e})=>Cx(t,e),CE=()=>({state:t,dispatch:e})=>Mx(t,e),ME=()=>({state:t,dispatch:e})=>Sx(t,e),TE=()=>({state:t,dispatch:e})=>Ex(t,e);function n1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function OE(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))s=!0;else if(/^mod$/i.test(a))ad()||n1()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const NE=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=OE(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function uo(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?Ye(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const h=Math.max(r,d),g=Math.min(i,d+f.nodeSize);l.push({node:f,from:h,to:g})});const a=i-r,u=l.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>ql(f.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=a}const AE=(t,e={})=>({state:n,dispatch:r})=>{const i=Ye(t,n.schema);return uo(n,i,e)?Tx(n,r):!1},RE=()=>({state:t,dispatch:e})=>Rx(t,e),IE=t=>({state:e,dispatch:n})=>{const r=Ye(t,e.schema);return Hx(r)(e,n)},DE=()=>({state:t,dispatch:e})=>Ox(t,e);function Na(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Lp(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const zE=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Na(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Ye(t,r.schema)),l==="mark"&&(o=Er(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{s&&s===u.type&&n.setNodeMarkup(c,void 0,Lp(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(f=>{o===f.type&&n.addMark(c,c+u.nodeSize,o.create(Lp(f.attrs,e)))})})}),!0):!1},PE=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),LE=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),BE=()=>({state:t,dispatch:e})=>bx(t,e),FE=()=>({state:t,dispatch:e})=>_x(t,e),HE=()=>({state:t,dispatch:e})=>Ix(t,e),$E=()=>({state:t,dispatch:e})=>Px(t,e),jE=()=>({state:t,dispatch:e})=>zx(t,e);function r1(t,e,n={}){return Xl(t,e,{slice:!1,parseOptions:n})}const UE=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:s})=>{const{doc:o}=r,l=r1(t,i.schema,n);return s&&r.replaceWith(0,o.content.size,l).setMeta("preventUpdate",!e),!0};function VE(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Zc(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function WE(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function ud(t){return e=>WE(e.$from,t)}function KE(t,e){const n=kn.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function GE(t,e){const n={from:0,to:t.content.size};return Yy(t,n,e)}function Aa(t,e){const n=Er(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function ZE(t,e){const n=Ye(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function JE(t,e){const n=Na(typeof e=="string"?e:e.name,t.schema);return n==="node"?ZE(t,e):n==="mark"?Aa(t,e):{}}function i1(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t-1),o=ld(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function dl(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Jc(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?Er(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>ql(f.attrs,n,{strict:!1}));let o=0;const l=[];if(i.forEach(({$from:f,$to:d})=>{const h=f.pos,g=d.pos;t.doc.nodesBetween(h,g,(p,S)=>{if(!p.isText&&!p.marks.length)return;const m=Math.max(h,S),y=Math.min(g,S+p.nodeSize),k=y-m;o+=k,l.push(...p.marks.map(x=>({mark:x,from:m,to:y})))})}),o===0)return!1;const a=l.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>ql(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=l.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,d)=>f+d.to-d.from,0);return(a>0?a+u:a)>=o}function qE(t,e,n={}){if(!e)return uo(t,null,n)||Jc(t,null,n);const r=Na(e,t.schema);return r==="node"?uo(t,e,n):r==="mark"?Jc(t,e,n):!1}function Bp(t,e){const{nodeExtensions:n}=Ma(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=ye(de(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function XE(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function YE(t,e,n){var r;const{selection:i}=e;let s=null;if(e1(i)&&(s=i.$cursor),s){const l=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,f,d)=>{if(u)return!1;if(c.isInline){const h=!d||d.type.allowsMarkType(n),g=!!n.isInSet(c.marks)||!c.marks.some(p=>p.type.excludes(n));u=h&&g}return!u}),u})}const QE=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:l}=s,a=Er(t,r.schema);if(i)if(o){const u=Aa(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(c,f,(d,h)=>{const g=Math.max(h,c),p=Math.min(h+d.nodeSize,f);d.marks.find(m=>m.type===a)?d.marks.forEach(m=>{a===m.type&&n.addMark(g,p,a.create({...m.attrs,...e}))}):n.addMark(g,p,a.create(e))})});return YE(r,n,a)},e_=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),t_=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=Ye(t,n.schema);return s.isTextblock?i().command(({commands:o})=>Rp(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>Rp(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},n_=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Pr(t,0,r.content.size),s=he.create(r,i);e.setSelection(s)}return!0},r_=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=we.atStart(r).from,l=we.atEnd(r).to,a=Pr(i,o,l),u=Pr(s,o,l),c=we.create(r,a,u);e.setSelection(c)}return!0},i_=t=>({state:e,dispatch:n})=>{const r=Ye(t,e.schema);return Ux(r)(e,n)};function Fp(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const s_=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:l,$to:a}=s,u=i.extensionManager.attributes,c=dl(u,l.node().type.name,l.node().attrs);if(s instanceof he&&s.node.isBlock)return!l.parentOffset||!Di(o,l.pos)?!1:(r&&(t&&Fp(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(r){const f=a.parentOffset===a.parent.content.size;s instanceof we&&e.deleteSelection();const d=l.depth===0?void 0:VE(l.node(-1).contentMatchAt(l.indexAfter(-1)));let h=f&&d?[{type:d,attrs:c}]:void 0,g=Di(e.doc,e.mapping.map(l.pos),1,h);if(!h&&!g&&Di(e.doc,e.mapping.map(l.pos),1,d?[{type:d}]:void 0)&&(g=!0,h=d?[{type:d,attrs:c}]:void 0),g&&(e.split(e.mapping.map(l.pos),1,h),d&&!f&&!l.parentOffset&&l.parent.type!==d)){const p=e.mapping.map(l.before()),S=e.doc.resolve(p);l.node(-1).canReplaceWith(S.index(),S.index()+1,d)&&e.setNodeMarkup(e.mapping.map(l.before()),d)}t&&Fp(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},o_=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var s;const o=Ye(t,n.schema),{$from:l,$to:a}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(a))return!1;const c=l.node(-1);if(c.type!==o)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==o||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let S=ie.empty;const m=l.index(-1)?1:l.index(-2)?2:3;for(let z=l.depth-m;z>=l.depth-3;z-=1)S=ie.from(l.node(z).copy(S));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=dl(f,l.node().type.name,l.node().attrs),x=((s=o.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;S=S.append(ie.from(o.createAndFill(null,x)||void 0));const _=l.before(l.depth-(m-1));e.replace(_,l.after(-y),new ce(S,4-m,0));let P=-1;e.doc.nodesBetween(_,e.doc.content.size,(z,A)=>{if(P>-1)return!1;z.isTextblock&&z.content.size===0&&(P=A+1)}),P>-1&&e.setSelection(we.near(e.doc.resolve(P))),e.scrollIntoView()}return!0}const d=a.pos===l.end()?c.contentMatchAt(0).defaultType:null,h=dl(f,c.type.name,c.attrs),g=dl(f,l.node().type.name,l.node().attrs);e.delete(l.pos,a.pos);const p=d?[{type:o,attrs:h},{type:d,attrs:g}]:[{type:o,attrs:h}];if(!Di(e.doc,l.pos,2))return!1;if(r){const{selection:S,storedMarks:m}=n,{splittableMarks:y}=i.extensionManager,k=m||S.$to.parentOffset&&S.$from.marks();if(e.split(l.pos,2,p).scrollIntoView(),!k||!r)return!0;const x=k.filter(_=>y.includes(_.type.name));e.ensureMarks(x)}return!0},Tu=(t,e)=>{const n=ud(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&br(t.doc,n.pos)&&t.join(n.pos),!0},Ou=(t,e)=>{const n=ud(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&br(t.doc,r)&&t.join(r),!0},l_=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:f,splittableMarks:d}=i.extensionManager,h=Ye(t,o.schema),g=Ye(e,o.schema),{selection:p,storedMarks:S}=o,{$from:m,$to:y}=p,k=m.blockRange(y),x=S||p.$to.parentOffset&&p.$from.marks();if(!k)return!1;const _=ud(P=>Bp(P.type.name,f))(p);if(k.depth>=1&&_&&k.depth-_.depth<=1){if(_.node.type===h)return u.liftListItem(g);if(Bp(_.node.type.name,f)&&h.validContent(_.node.content)&&l)return a().command(()=>(s.setNodeMarkup(_.pos,h),!0)).command(()=>Tu(s,h)).command(()=>Ou(s,h)).run()}return!n||!x||!l?a().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>Tu(s,h)).command(()=>Ou(s,h)).run():a().command(()=>{const P=c().wrapInList(h,r),z=x.filter(A=>d.includes(A.type.name));return s.ensureMarks(z),P?!0:u.clearNodes()}).wrapInList(h,r).command(()=>Tu(s,h)).command(()=>Ou(s,h)).run()},a_=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=Er(t,r.schema);return Jc(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},u_=(t,e,n={})=>({state:r,commands:i})=>{const s=Ye(t,r.schema),o=Ye(e,r.schema);return uo(r,s,n)?i.setNode(o):i.setNode(s,n)},c_=(t,e={})=>({state:n,commands:r})=>{const i=Ye(t,n.schema);return uo(n,i,e)?r.lift(i):r.wrapIn(i,e)},f_=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,l=s.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(s.text){const a=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,a))}else o.delete(s.from,s.to)}return!0}}return!1},d_=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},h_=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=Er(t,r.schema),{$from:u,empty:c,ranges:f}=l;if(!i)return!0;if(c&&o){let{from:d,to:h}=l;const g=(s=u.marks().find(S=>S.type===a))===null||s===void 0?void 0:s.attrs,p=ld(u,a,g);p&&(d=p.from,h=p.to),n.removeMark(d,h,a)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,a)});return n.removeStoredMark(a),!0},p_=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const l=Na(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(s=Ye(t,r.schema)),l==="mark"&&(o=Er(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{s&&s===f.type&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),o&&f.marks.length&&f.marks.forEach(h=>{if(o===h.type){const g=Math.max(d,u),p=Math.min(d+f.nodeSize,c);n.addMark(g,p,o.create({...h.attrs,...e}))}})})}),!0):!1},m_=(t,e={})=>({state:n,dispatch:r})=>{const i=Ye(t,n.schema);return Lx(i,e)(n,r)},g_=(t,e={})=>({state:n,dispatch:r})=>{const i=Ye(t,n.schema);return Bx(i,e)(n,r)};var y_=Object.freeze({__proto__:null,blur:sE,clearContent:oE,clearNodes:lE,command:aE,createParagraphNear:uE,deleteCurrentNode:cE,deleteNode:fE,deleteRange:dE,deleteSelection:hE,enter:pE,exitCode:mE,extendMarkRange:yE,first:vE,focus:wE,forEach:kE,insertContent:SE,insertContentAt:EE,joinUp:_E,joinDown:CE,joinBackward:ME,joinForward:TE,keyboardShortcut:NE,lift:AE,liftEmptyBlock:RE,liftListItem:IE,newlineInCode:DE,resetAttributes:zE,scrollIntoView:PE,selectAll:LE,selectNodeBackward:BE,selectNodeForward:FE,selectParentNode:HE,selectTextblockEnd:$E,selectTextblockStart:jE,setContent:UE,setMark:QE,setMeta:e_,setNode:t_,setNodeSelection:n_,setTextSelection:r_,sinkListItem:i_,splitBlock:s_,splitListItem:o_,toggleList:l_,toggleMark:a_,toggleNode:u_,toggleWrap:c_,undoInputRule:f_,unsetAllMarks:d_,unsetMark:h_,updateAttributes:p_,wrapIn:m_,wrapInList:g_});const v_=Nt.create({name:"commands",addCommands(){return{...y_}}}),w_=Nt.create({name:"editable",addProseMirrorPlugins(){return[new Rt({key:new Cn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),k_=Nt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Rt({key:new Cn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),S_=Nt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:f}=a,{pos:d,parent:h}=f,g=ve.atStart(u).from===d;return!c||!g||!h.type.isTextblock||h.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ad()||n1()?s:i},addProseMirrorPlugins(){return[new Rt({key:new Cn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(g=>g.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:s,to:o}=e.selection,l=ve.atStart(e.doc).from,a=ve.atEnd(e.doc).to;if(i||!(s===l&&o===a)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const f=n.tr,d=_a({state:n,transaction:f}),{commands:h}=new Ca({editor:this.editor,state:d});if(h.clearNodes(),!!f.steps.length)return f}})]}}),b_=Nt.create({name:"tabindex",addProseMirrorPlugins(){return[new Rt({key:new Cn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var x_=Object.freeze({__proto__:null,ClipboardTextSerializer:iE,Commands:v_,Editable:w_,FocusEvents:k_,Keymap:S_,Tabindex:b_});const E_=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function __(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let C_=class extends Vx{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=__(E_,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=Xy(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(x_):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Ci(n,this)}createCommandManager(){this.commandManager=new Ca({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=r1(this.options.content,this.schema,this.options.parseOptions),n=t1(e,this.options.autofocus);this.view=new ux(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:_i.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return JE(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return qE(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return KE(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return GE(this.state.doc,{blockSeparator:n,textSerializers:{...Qy(this.schema),...r}})}get isEmpty(){return XE(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function ei(t){return new Ta({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ye(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),c=n.from+l.indexOf(o),f=c+o.length;if(i1(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(p=>p===t.type&&p!==h.mark.type)).filter(h=>h.to>c).length)return null;f<n.to&&s.delete(f,n.to),c>n.from&&s.delete(n.from+u,c),a=n.from+u+o.length,s.addMark(n.from+u,a,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function M_(t){return new Ta({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ye(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let l=n.to;if(r[1]){const a=r[0].lastIndexOf(r[1]);let u=o+a;u>l?u=l:l=u+r[1].length;const c=r[0][r[0].length-1];s.insertText(c,o+r[0].length-1),s.replaceWith(u,l,t.type.create(i))}else r[0]&&s.replaceWith(o,l,t.type.create(i))}})}function qc(t){return new Ta({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=ye(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function co(t){return new Ta({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=ye(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),u=a&&Zf(a,t.type,s);if(!u)return null;if(o.wrap(a,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:d}=e,{splittableMarks:h}=t.editor.extensionManager,g=d||f.$to.parentOffset&&f.$from.marks();if(g){const p=g.filter(S=>h.includes(S.type.name));o.ensureMarks(p)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const c=o.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&br(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&o.join(n.from-1)}})}class pn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(de(this,"addOptions",{name:this.name}))),this.storage=ye(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new pn(e)}configure(e={}){const n=this.extend();return n.options=Oa(this.options,e),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new pn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(de(n,"addOptions",{name:n.name})),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=o.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class pt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ye(de(this,"addOptions",{name:this.name}))),this.storage=ye(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new pt(e)}configure(e={}){const n=this.extend();return n.options=Oa(this.options,e),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new pt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=ye(de(n,"addOptions",{name:n.name})),n.storage=ye(de(n,"addStorage",{name:n.name,options:n.options})),n}}function ti(t){return new Yx({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ye(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],l=r[0];let a=n.to;if(o){const u=l.search(/\S/),c=n.from+l.indexOf(o),f=c+o.length;if(i1(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(p=>p===t.type&&p!==h.mark.type)).filter(h=>h.to>c).length)return null;f<n.to&&s.delete(f,n.to),c>n.from&&s.delete(n.from+u,c),a=n.from+u+o.length,s.addMark(n.from+u,a,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}class T_ extends C_{constructor(){super(...arguments),this.contentComponent=null}}const O_=({renderers:t})=>je.createElement(je.Fragment,null,Object.entries(t).map(([e,n])=>Rk.createPortal(n.reactElement,n.element,e)));class N_ extends je.Component{constructor(e){super(e),this.editorContentRef=je.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?Kf.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return je.createElement(je.Fragment,null,je.createElement("div",{ref:this.editorContentRef,...n}),je.createElement(O_,{renderers:this.state.renderers}))}}const A_=je.memo(N_),R_=Oe.createContext({onDragStart:void 0}),I_=()=>Oe.useContext(R_);je.forwardRef((t,e)=>{const{onDragStart:n}=I_(),r=t.as||"div";return je.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function D_(){const[,t]=Oe.useState(0);return()=>t(e=>e+1)}const z_=(t={},e=[])=>{const[n,r]=Oe.useState(null),i=D_(),{onBeforeCreate:s,onBlur:o,onCreate:l,onDestroy:a,onFocus:u,onSelectionUpdate:c,onTransaction:f,onUpdate:d}=t,h=Oe.useRef(s),g=Oe.useRef(o),p=Oe.useRef(l),S=Oe.useRef(a),m=Oe.useRef(u),y=Oe.useRef(c),k=Oe.useRef(f),x=Oe.useRef(d);return Oe.useEffect(()=>{n&&(s&&(n.off("beforeCreate",h.current),n.on("beforeCreate",s),h.current=s),o&&(n.off("blur",g.current),n.on("blur",o),g.current=o),l&&(n.off("create",p.current),n.on("create",l),p.current=l),a&&(n.off("destroy",S.current),n.on("destroy",a),S.current=a),u&&(n.off("focus",m.current),n.on("focus",u),m.current=u),c&&(n.off("selectionUpdate",y.current),n.on("selectionUpdate",c),y.current=c),f&&(n.off("transaction",k.current),n.on("transaction",f),k.current=f),d&&(n.off("update",x.current),n.on("update",d),x.current=d))},[s,o,l,a,u,c,f,d,n]),Oe.useEffect(()=>{let _=!0;const P=new T_(t);return r(P),P.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{_&&i()})})}),()=>{P.destroy(),_=!1}},e),n},P_=/^\s*>\s$/,L_=pt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[co({find:P_,type:this.type})]}}),B_=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,F_=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,H_=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,$_=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,j_=pn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ei({find:B_,type:this.type}),ei({find:H_,type:this.type})]},addPasteRules(){return[ti({find:F_,type:this.type}),ti({find:$_,type:this.type})]}}),U_=pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ve(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Hp=pn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Aa(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),$p=/^\s*([-+*])\s$/,V_=pt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(U_.name,this.editor.getAttributes(Hp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=co({find:$p,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=co({find:$p,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Hp.name),editor:this.editor})),[t]}}),W_=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,K_=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,G_=pn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ei({find:W_,type:this.type})]},addPasteRules(){return[ti({find:K_,type:this.type})]}}),Z_=/^```([a-z]+)?[\s\n]$/,J_=/^~~~([a-z]+)?[\s\n]$/,s1=pt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ve(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0||r.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[qc({find:Z_,type:this.type,getAttributes:t=>({language:t[1]})}),qc({find:J_,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Rt({key:new Cn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o}=t.state;return o.replaceSelectionWith(this.type.create({language:s})),o.setSelection(we.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.insertText(n.replace(/\r\n?/g,`
`)),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),o1=pt.create({name:"doc",topNode:!0,content:"block+"});function q_(t={}){return new Rt({view(e){return new X_(e,t)}})}class X_{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),f=l?c.bottom:c.top;l&&a&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=sy(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Y_=Nt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[q_(this.options)]}});class Fe extends ve{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Fe.valid(r)?new Fe(r):ve.near(r)}content(){return ce.empty}eq(e){return e instanceof Fe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fe(e.resolve(n.pos))}getBookmark(){return new cd(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Q_(e)||!eC(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Fe.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let a=e.doc.resolve(i);if(Fe.valid(a))return a}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!he.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(Fe.valid(l))return l}return null}}}Fe.prototype.visible=!1;Fe.findFrom=Fe.findGapCursorFrom;ve.jsonID("gapcursor",Fe);class cd{constructor(e){this.pos=e}map(e){return new cd(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Fe.valid(n)?new Fe(n):ve.near(n)}}function Q_(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eC(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tC(){return new Rt({props:{decorations:sC,createSelectionBetween(t,e,n){return e.pos==n.pos&&Fe.valid(n)?new Fe(n):null},handleClick:rC,handleKeyDown:nC,handleDOMEvents:{beforeinput:iC}}})}const nC=Vy({ArrowLeft:Go("horiz",-1),ArrowRight:Go("horiz",1),ArrowUp:Go("vert",-1),ArrowDown:Go("vert",1)});function Go(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof we){if(!s.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=Fe.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new Fe(u))),!0):!1}}function rC(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Fe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&he.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Fe(r))),!0)}function iC(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Fe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ie.empty;for(let o=r.length-1;o>=0;o--)i=ie.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new ce(i,0,0));return s.setSelection(we.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function sC(t){if(!(t.selection instanceof Fe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",He.create(t.doc,[_t.widget(t.selection.head,e,{key:"gapcursor"})])}const oC=Nt.create({name:"gapCursor",addProseMirrorPlugins(){return[tC()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ye(de(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),lC=pt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ve(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=r.extensionManager,a=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&o){const f=a.filter(d=>l.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),aC=pt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ve(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>qc({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Yl=200,Xe=function(){};Xe.prototype.append=function(e){return e.length?(e=Xe.from(e),!this.length&&e||e.length<Yl&&this.leafAppend(e)||this.length<Yl&&e.leafPrepend(this)||this.appendInner(e)):this};Xe.prototype.prepend=function(e){return e.length?Xe.from(e).append(this):this};Xe.prototype.appendInner=function(e){return new uC(this,e)};Xe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Xe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Xe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Xe.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Xe.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};Xe.from=function(e){return e instanceof Xe?e:e&&e.length?new l1(e):Xe.empty};var l1=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,l){for(var a=s;a<o;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,l){for(var a=s-1;a>=o;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Yl)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Yl)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Xe);Xe.empty=new l1([]);var uC=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Xe);const cC=500;class ln{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,a,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),s=i.maps.length),s--,c.push(f);return}if(i){c.push(new yn(f.map));let h=f.step.map(i.slice(s)),g;h&&o.maybeStep(h).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],u.push(new yn(g,void 0,void 0,u.length+c.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(s)):f.selection,a=new ln(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new yn(e.mapping.maps[c],f,n),h;(h=a&&a.merge(d))&&(d=h,c?s.pop():l=l.slice(0,l.length-1)),s.push(d),n&&(o++,n=void 0),i||(a=d)}let u=o-r.depth;return u>dC&&(l=fC(l,u),o-=u),new ln(l.append(s),o)}remapping(e,n){let r=new Ii;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ln(this.items.append(e.map(n=>new yn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let a=n;this.items.forEach(d=>{let h=s.getMirror(--a);if(h==null)return;o=Math.min(o,h);let g=s.maps[h];if(d.step){let p=e.steps[h].invert(e.docs[h]),S=d.selection&&d.selection.map(s.slice(a+1,h));S&&l++,r.push(new yn(g,p,S))}else r.push(new yn(g))},i);let u=[];for(let d=n;d<o;d++)u.push(new yn(s.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new ln(c,l);return f.emptyItemCount()>cC&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let a=o.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=o.selection&&o.selection.map(n.slice(r));c&&s++;let f=new yn(u.invert(),a,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else o.map&&r--},this.items.length,0),new ln(Xe.from(i.reverse()),s)}}ln.empty=new ln(Xe.empty,0);function fC(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class yn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new yn(n.getMap().invert(),n,this.selection)}}}class Kn{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const dC=20;function hC(t,e,n,r){let i=n.getMeta(mr),s;if(i)return i.historyState;n.getMeta(mC)&&(t=new Kn(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(mr))return o.getMeta(mr).redo?new Kn(t.done.addTransform(n,void 0,r,hl(e)),t.undone,jp(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new Kn(t.done,t.undone.addTransform(n,void 0,r,hl(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!pC(n,t.prevRanges)),u=o?Nu(t.prevRanges,n.mapping):jp(n.mapping.maps[n.steps.length-1]);return new Kn(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,hl(e)),ln.empty,u,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new Kn(t.done.rebased(n,s),t.undone.rebased(n,s),Nu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Kn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Nu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function pC(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function jp(t){let e=[];return t.forEach((n,r,i,s)=>e.push(i,s)),e}function Nu(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function a1(t,e,n,r){let i=hl(e),s=mr.get(e).spec.config,o=(r?t.undone:t.done).popEvent(e,i);if(!o)return;let l=o.selection.resolve(o.transform.doc),a=(r?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,i),u=new Kn(r?a:o.remaining,r?o.remaining:a,null,0,-1);n(o.transform.setSelection(l).setMeta(mr,{redo:r,historyState:u}).scrollIntoView())}let Au=!1,Up=null;function hl(t){let e=t.plugins;if(Up!=e){Au=!1,Up=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Au=!0;break}}return Au}const mr=new Cn("history"),mC=new Cn("closeHistory");function gC(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Rt({key:mr,state:{init(){return new Kn(ln.empty,ln.empty,null,0,-1)},apply(e,n,r){return hC(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?u1:r=="historyRedo"?c1:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const u1=(t,e)=>{let n=mr.getState(t);return!n||n.done.eventCount==0?!1:(e&&a1(n,t,e,!1),!0)},c1=(t,e)=>{let n=mr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&a1(n,t,e,!0),!0)},yC=Nt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>u1(t,e),redo:()=>({state:t,dispatch:e})=>c1(t,e)}},addProseMirrorPlugins(){return[gC(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),vC=pt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ve(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,s=i.end();if(i.nodeAfter)e.setSelection(we.create(e.doc,i.pos));else{const o=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();o&&(e.insert(s,o),e.setSelection(we.create(e.doc,s)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[M_({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),wC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,kC=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,SC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,bC=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,xC=pn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ei({find:wC,type:this.type}),ei({find:SC,type:this.type})]},addPasteRules(){return[ti({find:kC,type:this.type}),ti({find:bC,type:this.type})]}}),EC=pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ve(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_C=pt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ve(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Vp=pn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Aa(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),Wp=/^(\d+)\.\s$/,CC=pt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ve(this.options.HTMLAttributes,n),0]:["ol",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_C.name,this.editor.getAttributes(Vp.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=co({find:Wp,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=co({find:Wp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Vp.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),MC=pt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),TC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,OC=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,NC=pn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ei({find:TC,type:this.type})]},addPasteRules(){return[ti({find:OC,type:this.type})]}}),AC=pt.create({name:"text",group:"inline"}),RC=Nt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,l,a,u,c,f,d,h,g,p,S,m;const y=[];return this.options.blockquote!==!1&&y.push(L_.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&y.push(j_.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&y.push(V_.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(G_.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&y.push(s1.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&y.push(o1.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&y.push(Y_.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&y.push(oC.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&y.push(lC.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&y.push(aC.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&y.push(yC.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&y.push(vC.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&y.push(xC.configure((d=this.options)===null||d===void 0?void 0:d.italic)),this.options.listItem!==!1&&y.push(EC.configure((h=this.options)===null||h===void 0?void 0:h.listItem)),this.options.orderedList!==!1&&y.push(CC.configure((g=this.options)===null||g===void 0?void 0:g.orderedList)),this.options.paragraph!==!1&&y.push(MC.configure((p=this.options)===null||p===void 0?void 0:p.paragraph)),this.options.strike!==!1&&y.push(NC.configure((S=this.options)===null||S===void 0?void 0:S.strike)),this.options.text!==!1&&y.push(AC.configure((m=this.options)===null||m===void 0?void 0:m.text)),y}}),IC=Nt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Rt({key:new Cn("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=t.type.createAndFill(),o=(s==null?void 0:s.sameMarkup(t))&&s.content.findDiffStart(t.content)===null;return t.descendants((l,a)=>{const u=r>=a&&r<=a+l.nodeSize,c=!l.isLeaf&&!l.childCount;if((u||!this.options.showOnlyCurrent)&&c){const f=[this.options.emptyNodeClass];o&&f.push(this.options.emptyEditorClass);const d=_t.node(a,a+l.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:a,hasAnchor:u}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),He.create(t,i)}}})]}});var fd={exports:{}};function dd(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];typeof n=="object"&&!Object.isFrozen(n)&&dd(n)}),t}fd.exports=dd;fd.exports.default=dd;let Kp=class{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function f1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function tr(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const DC="</span>",Gp=t=>!!t.scope||t.sublanguage&&t.language,zC=(t,{prefix:e})=>{if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`};let PC=class{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=f1(e)}openNode(e){if(!Gp(e))return;let n="";e.sublanguage?n=`language-${e.language}`:n=zC(e.scope,{prefix:this.classPrefix}),this.span(n)}closeNode(e){Gp(e)&&(this.buffer+=DC)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}};const Zp=(t={})=>{const e={children:[]};return Object.assign(e,t),e};let LC=class d1{constructor(){this.rootNode=Zp(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=Zp({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{d1._collapse(n)}))}},BC=class extends LC{constructor(e){super(),this.options=e}addKeyword(e,n){e!==""&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){e!==""&&this.add(e)}addSublanguage(e,n){const r=e.root;r.sublanguage=!0,r.language=n,this.add(r)}toHTML(){return new PC(this,this.options).value()}finalize(){return!0}};function fo(t){return t?typeof t=="string"?t:t.source:null}function h1(t){return ii("(?=",t,")")}function FC(t){return ii("(?:",t,")*")}function HC(t){return ii("(?:",t,")?")}function ii(...t){return t.map(n=>fo(n)).join("")}function $C(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function hd(...t){return"("+($C(t).capture?"":"?:")+t.map(r=>fo(r)).join("|")+")"}function p1(t){return new RegExp(t.toString()+"|").exec("").length-1}function jC(t,e){const n=t&&t.exec(e);return n&&n.index===0}const UC=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function pd(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const i=n;let s=fo(r),o="";for(;s.length>0;){const l=UC.exec(s);if(!l){o+=s;break}o+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?o+="\\"+String(Number(l[1])+i):(o+=l[0],l[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const VC=/\b\B/,m1="[a-zA-Z]\\w*",md="[a-zA-Z_]\\w*",g1="\\b\\d+(\\.\\d+)?",y1="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",v1="\\b(0b[01]+)",WC="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",KC=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=ii(e,/.*\b/,t.binary,/\b.*/)),tr({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},ho={begin:"\\\\[\\s\\S]",relevance:0},GC={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ho]},ZC={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ho]},JC={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ra=function(t,e,n={}){const r=tr({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=hd("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:ii(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},qC=Ra("//","$"),XC=Ra("/\\*","\\*/"),YC=Ra("#","$"),QC={scope:"number",begin:g1,relevance:0},e2={scope:"number",begin:y1,relevance:0},t2={scope:"number",begin:v1,relevance:0},n2={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ho,{begin:/\[/,end:/\]/,relevance:0,contains:[ho]}]}]},r2={scope:"title",begin:m1,relevance:0},i2={scope:"title",begin:md,relevance:0},s2={begin:"\\.\\s*"+md,relevance:0},o2=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var Zo=Object.freeze({__proto__:null,MATCH_NOTHING_RE:VC,IDENT_RE:m1,UNDERSCORE_IDENT_RE:md,NUMBER_RE:g1,C_NUMBER_RE:y1,BINARY_NUMBER_RE:v1,RE_STARTERS_RE:WC,SHEBANG:KC,BACKSLASH_ESCAPE:ho,APOS_STRING_MODE:GC,QUOTE_STRING_MODE:ZC,PHRASAL_WORDS_MODE:JC,COMMENT:Ra,C_LINE_COMMENT_MODE:qC,C_BLOCK_COMMENT_MODE:XC,HASH_COMMENT_MODE:YC,NUMBER_MODE:QC,C_NUMBER_MODE:e2,BINARY_NUMBER_MODE:t2,REGEXP_MODE:n2,TITLE_MODE:r2,UNDERSCORE_TITLE_MODE:i2,METHOD_GUARD:s2,END_SAME_AS_BEGIN:o2});function l2(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function a2(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function u2(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=l2,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function c2(t,e){Array.isArray(t.illegal)&&(t.illegal=hd(...t.illegal))}function f2(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function d2(t,e){t.relevance===void 0&&(t.relevance=1)}const h2=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=ii(n.beforeMatch,h1(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},p2=["of","and","for","in","not","or","if","then","parent","list","value"],m2="keyword";function w1(t,e,n=m2){const r=Object.create(null);return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,w1(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(l=>l.toLowerCase())),o.forEach(function(l){const a=l.split("|");r[a[0]]=[s,g2(a[0],a[1])]})}}function g2(t,e){return e?Number(e):y2(t)?0:1}function y2(t){return p2.includes(t.toLowerCase())}const Jp={},Vr=t=>{console.error(t)},qp=(t,...e)=>{console.log(`WARN: ${t}`,...e)},ui=(t,e)=>{Jp[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),Jp[`${t}/${e}`]=!0)},Ql=new Error;function k1(t,e,{key:n}){let r=0;const i=t[n],s={},o={};for(let l=1;l<=e.length;l++)o[l+r]=i[l],s[l+r]=!0,r+=p1(e[l-1]);t[n]=o,t[n]._emit=s,t[n]._multi=!0}function v2(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Vr("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Ql;if(typeof t.beginScope!="object"||t.beginScope===null)throw Vr("beginScope must be object"),Ql;k1(t,t.begin,{key:"beginScope"}),t.begin=pd(t.begin,{joinWith:""})}}function w2(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Vr("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Ql;if(typeof t.endScope!="object"||t.endScope===null)throw Vr("endScope must be object"),Ql;k1(t,t.end,{key:"endScope"}),t.end=pd(t.end,{joinWith:""})}}function k2(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function S2(t){k2(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),v2(t),w2(t)}function b2(t){function e(o,l){return new RegExp(fo(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,a){a.position=this.position++,this.matchIndexes[this.matchAt]=a,this.regexes.push([a,l]),this.matchAt+=p1(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(a=>a[1]);this.matcherRe=e(pd(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const a=this.matcherRe.exec(l);if(!a)return null;const u=a.findIndex((f,d)=>d>0&&f!==void 0),c=this.matchIndexes[u];return a.splice(0,u),Object.assign(a,c)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const a=new n;return this.rules.slice(l).forEach(([u,c])=>a.addRule(u,c)),a.compile(),this.multiRegexes[l]=a,a}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,a){this.rules.push([l,a]),a.type==="begin"&&this.count++}exec(l){const a=this.getMatcher(this.regexIndex);a.lastIndex=this.lastIndex;let u=a.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){const l=new r;return o.contains.forEach(a=>l.addRule(a.begin,{rule:a,type:"begin"})),o.terminatorEnd&&l.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&l.addRule(o.illegal,{type:"illegal"}),l}function s(o,l){const a=o;if(o.isCompiled)return a;[a2,f2,S2,h2].forEach(c=>c(o,l)),t.compilerExtensions.forEach(c=>c(o,l)),o.__beforeBegin=null,[u2,c2,d2].forEach(c=>c(o,l)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=w1(o.keywords,t.case_insensitive)),a.keywordPatternRe=e(u,!0),l&&(o.begin||(o.begin=/\B|\b/),a.beginRe=e(a.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(a.endRe=e(a.end)),a.terminatorEnd=fo(a.end)||"",o.endsWithParent&&l.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+l.terminatorEnd)),o.illegal&&(a.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return x2(c==="self"?o:c)})),o.contains.forEach(function(c){s(c,a)}),o.starts&&s(o.starts,l),a.matcher=i(a),a}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=tr(t.classNameAliases||{}),s(t)}function S1(t){return t?t.endsWithParent||S1(t.starts):!1}function x2(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return tr(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:S1(t)?tr(t,{starts:t.starts?tr(t.starts):null}):Object.isFrozen(t)?tr(t):t}var E2="11.6.0";let _2=class extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}};const Ru=f1,Xp=tr,Yp=Symbol("nomatch"),C2=7,M2=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:BC};function a($){return l.noHighlightRe.test($)}function u($){let M=$.className+" ";M+=$.parentNode?$.parentNode.className:"";const R=l.languageDetectRe.exec(M);if(R){const T=H(R[1]);return T||(qp(s.replace("{}",R[1])),qp("Falling back to no-highlight mode for this block.",$)),T?R[1]:"no-highlight"}return M.split(/\s+/).find(T=>a(T)||H(T))}function c($,M,R){let T="",U="";typeof M=="object"?(T=$,R=M.ignoreIllegals,U=M.language):(ui("10.7.0","highlight(lang, code, ...args) has been deprecated."),ui("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),U=$,T=M),R===void 0&&(R=!0);const D={code:T,language:U};w("before:highlight",D);const I=D.result?D.result:f(D.language,D.code,R);return I.code=D.code,w("after:highlight",I),I}function f($,M,R,T){const U=Object.create(null);function D(V,Y){return V.keywords[Y]}function I(){if(!E.keywords){O.addText(G);return}let V=0;E.keywordPatternRe.lastIndex=0;let Y=E.keywordPatternRe.exec(G),K="";for(;Y;){K+=G.substring(V,Y.index);const X=v.case_insensitive?Y[0].toLowerCase():Y[0],ue=D(E,X);if(ue){const[me,_e]=ue;if(O.addText(K),K="",U[X]=(U[X]||0)+1,U[X]<=C2&&(q+=_e),me.startsWith("_"))K+=Y[0];else{const Qe=v.classNameAliases[me]||me;O.addKeyword(Y[0],Qe)}}else K+=Y[0];V=E.keywordPatternRe.lastIndex,Y=E.keywordPatternRe.exec(G)}K+=G.substring(V),O.addText(K)}function oe(){if(G==="")return;let V=null;if(typeof E.subLanguage=="string"){if(!e[E.subLanguage]){O.addText(G);return}V=f(E.subLanguage,G,!0,C[E.subLanguage]),C[E.subLanguage]=V._top}else V=h(G,E.subLanguage.length?E.subLanguage:null);E.relevance>0&&(q+=V.relevance),O.addSublanguage(V._emitter,V.language)}function ee(){E.subLanguage!=null?oe():I(),G=""}function Q(V,Y){let K=1;const X=Y.length-1;for(;K<=X;){if(!V._emit[K]){K++;continue}const ue=v.classNameAliases[V[K]]||V[K],me=Y[K];ue?O.addKeyword(me,ue):(G=me,I(),G=""),K++}}function pe(V,Y){return V.scope&&typeof V.scope=="string"&&O.openNode(v.classNameAliases[V.scope]||V.scope),V.beginScope&&(V.beginScope._wrap?(O.addKeyword(G,v.classNameAliases[V.beginScope._wrap]||V.beginScope._wrap),G=""):V.beginScope._multi&&(Q(V.beginScope,Y),G="")),E=Object.create(V,{parent:{value:E}}),E}function Ee(V,Y,K){let X=jC(V.endRe,K);if(X){if(V["on:end"]){const ue=new Kp(V);V["on:end"](Y,ue),ue.isMatchIgnored&&(X=!1)}if(X){for(;V.endsParent&&V.parent;)V=V.parent;return V}}if(V.endsWithParent)return Ee(V.parent,Y,K)}function te(V){return E.matcher.regexIndex===0?(G+=V[0],1):(le=!0,0)}function Z(V){const Y=V[0],K=V.rule,X=new Kp(K),ue=[K.__beforeBegin,K["on:begin"]];for(const me of ue)if(me&&(me(V,X),X.isMatchIgnored))return te(Y);return K.skip?G+=Y:(K.excludeBegin&&(G+=Y),ee(),!K.returnBegin&&!K.excludeBegin&&(G=Y)),pe(K,V),K.returnBegin?0:Y.length}function ne(V){const Y=V[0],K=M.substring(V.index),X=Ee(E,V,K);if(!X)return Yp;const ue=E;E.endScope&&E.endScope._wrap?(ee(),O.addKeyword(Y,E.endScope._wrap)):E.endScope&&E.endScope._multi?(ee(),Q(E.endScope,V)):ue.skip?G+=Y:(ue.returnEnd||ue.excludeEnd||(G+=Y),ee(),ue.excludeEnd&&(G=Y));do E.scope&&O.closeNode(),!E.skip&&!E.subLanguage&&(q+=E.relevance),E=E.parent;while(E!==X.parent);return X.starts&&pe(X.starts,V),ue.returnEnd?0:Y.length}function ae(){const V=[];for(let Y=E;Y!==v;Y=Y.parent)Y.scope&&V.unshift(Y.scope);V.forEach(Y=>O.openNode(Y))}let be={};function ke(V,Y){const K=Y&&Y[0];if(G+=V,K==null)return ee(),0;if(be.type==="begin"&&Y.type==="end"&&be.index===Y.index&&K===""){if(G+=M.slice(Y.index,Y.index+1),!i){const X=new Error(`0 width match regex (${$})`);throw X.languageName=$,X.badRule=be.rule,X}return 1}if(be=Y,Y.type==="begin")return Z(Y);if(Y.type==="illegal"&&!R){const X=new Error('Illegal lexeme "'+K+'" for mode "'+(E.scope||"<unnamed>")+'"');throw X.mode=E,X}else if(Y.type==="end"){const X=ne(Y);if(X!==Yp)return X}if(Y.type==="illegal"&&K==="")return 1;if(re>1e5&&re>Y.index*3)throw new Error("potential infinite loop, way more iterations than matches");return G+=K,K.length}const v=H($);if(!v)throw Vr(s.replace("{}",$)),new Error('Unknown language: "'+$+'"');const J=b2(v);let W="",E=T||J;const C={},O=new l.__emitter(l);ae();let G="",q=0,F=0,re=0,le=!1;try{for(E.matcher.considerAll();;){re++,le?le=!1:E.matcher.considerAll(),E.matcher.lastIndex=F;const V=E.matcher.exec(M);if(!V)break;const Y=M.substring(F,V.index),K=ke(Y,V);F=V.index+K}return ke(M.substring(F)),O.closeAllNodes(),O.finalize(),W=O.toHTML(),{language:$,value:W,relevance:q,illegal:!1,_emitter:O,_top:E}}catch(V){if(V.message&&V.message.includes("Illegal"))return{language:$,value:Ru(M),illegal:!0,relevance:0,_illegalBy:{message:V.message,index:F,context:M.slice(F-100,F+100),mode:V.mode,resultSoFar:W},_emitter:O};if(i)return{language:$,value:Ru(M),illegal:!1,relevance:0,errorRaised:V,_emitter:O,_top:E};throw V}}function d($){const M={value:Ru($),illegal:!1,relevance:0,_top:o,_emitter:new l.__emitter(l)};return M._emitter.addText($),M}function h($,M){M=M||l.languages||Object.keys(e);const R=d($),T=M.filter(H).filter(j).map(ee=>f(ee,$,!1));T.unshift(R);const U=T.sort((ee,Q)=>{if(ee.relevance!==Q.relevance)return Q.relevance-ee.relevance;if(ee.language&&Q.language){if(H(ee.language).supersetOf===Q.language)return 1;if(H(Q.language).supersetOf===ee.language)return-1}return 0}),[D,I]=U,oe=D;return oe.secondBest=I,oe}function g($,M,R){const T=M&&n[M]||R;$.classList.add("hljs"),$.classList.add(`language-${T}`)}function p($){let M=null;const R=u($);if(a(R))return;if(w("before:highlightElement",{el:$,language:R}),$.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn($)),l.throwUnescapedHTML))throw new _2("One of your code blocks includes unescaped HTML.",$.innerHTML);M=$;const T=M.textContent,U=R?c(T,{language:R,ignoreIllegals:!0}):h(T);$.innerHTML=U.value,g($,R,U.language),$.result={language:U.language,re:U.relevance,relevance:U.relevance},U.secondBest&&($.secondBest={language:U.secondBest.language,relevance:U.secondBest.relevance}),w("after:highlightElement",{el:$,result:U,text:T})}function S($){l=Xp(l,$)}const m=()=>{x(),ui("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function y(){x(),ui("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let k=!1;function x(){if(document.readyState==="loading"){k=!0;return}document.querySelectorAll(l.cssSelector).forEach(p)}function _(){k&&x()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",_,!1);function P($,M){let R=null;try{R=M(t)}catch(T){if(Vr("Language definition for '{}' could not be registered.".replace("{}",$)),i)Vr(T);else throw T;R=o}R.name||(R.name=$),e[$]=R,R.rawDefinition=M.bind(null,t),R.aliases&&N(R.aliases,{languageName:$})}function z($){delete e[$];for(const M of Object.keys(n))n[M]===$&&delete n[M]}function A(){return Object.keys(e)}function H($){return $=($||"").toLowerCase(),e[$]||e[n[$]]}function N($,{languageName:M}){typeof $=="string"&&($=[$]),$.forEach(R=>{n[R.toLowerCase()]=M})}function j($){const M=H($);return M&&!M.disableAutodetect}function b($){$["before:highlightBlock"]&&!$["before:highlightElement"]&&($["before:highlightElement"]=M=>{$["before:highlightBlock"](Object.assign({block:M.el},M))}),$["after:highlightBlock"]&&!$["after:highlightElement"]&&($["after:highlightElement"]=M=>{$["after:highlightBlock"](Object.assign({block:M.el},M))})}function L($){b($),r.push($)}function w($,M){const R=$;r.forEach(function(T){T[R]&&T[R](M)})}function B($){return ui("10.7.0","highlightBlock will be removed entirely in v12.0"),ui("10.7.0","Please use highlightElement now."),p($)}Object.assign(t,{highlight:c,highlightAuto:h,highlightAll:x,highlightElement:p,highlightBlock:B,configure:S,initHighlighting:m,initHighlightingOnLoad:y,registerLanguage:P,unregisterLanguage:z,listLanguages:A,getLanguage:H,registerAliases:N,autoDetection:j,inherit:Xp,addPlugin:L}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=E2,t.regex={concat:ii,lookahead:h1,either:hd,optional:HC,anyNumberOfTimes:FC};for(const $ in Zo)typeof Zo[$]=="object"&&fd.exports(Zo[$]);return Object.assign(t,Zo),t};var po=M2({}),T2=po;po.HighlightJS=po;po.default=po;var O2=T2;function b1(t,e=[]){return t.map(n=>{const r=[...e,...n.properties?n.properties.className:[]];return n.children?b1(n.children,r):{text:n.value,classes:r}}).flat()}function Qp(t){return t.value||t.children||[]}function N2(t){return!!O2.getLanguage(t)}function em({doc:t,name:e,lowlight:n,defaultLanguage:r}){const i=[];return Zc(t,s=>s.type.name===e).forEach(s=>{let o=s.pos+1;const l=s.node.attrs.language||r,a=n.listLanguages(),u=l&&(a.includes(l)||N2(l))?Qp(n.highlight(l,s.node.textContent)):Qp(n.highlightAuto(s.node.textContent));b1(u).forEach(c=>{const f=o+c.text.length;if(c.classes.length){const d=_t.inline(o,f,{class:c.classes.join(" ")});i.push(d)}o=f})}),He.create(t,i)}function A2(t){return typeof t=="function"}function R2({name:t,lowlight:e,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every(i=>A2(e[i])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new Rt({key:new Cn("lowlight"),state:{init:(i,{doc:s})=>em({doc:s,name:t,lowlight:e,defaultLanguage:n}),apply:(i,s,o,l)=>{const a=o.selection.$head.parent.type.name,u=l.selection.$head.parent.type.name,c=Zc(o.doc,d=>d.type.name===t),f=Zc(l.doc,d=>d.type.name===t);return i.docChanged&&([a,u].includes(t)||f.length!==c.length||i.steps.some(d=>d.from!==void 0&&d.to!==void 0&&c.some(h=>h.pos>=d.from&&h.pos+h.node.nodeSize<=d.to)))?em({doc:i.doc,name:t,lowlight:e,defaultLanguage:n}):s.map(i.mapping,i.doc)}},props:{decorations(i){return r.getState(i)}}});return r}const I2=s1.extend({addOptions(){var t;return{...(t=this.parent)===null||t===void 0?void 0:t.call(this),lowlight:{},defaultLanguage:null}},addProseMirrorPlugins(){var t;return[...((t=this.parent)===null||t===void 0?void 0:t.call(this))||[],R2({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});var gd={},x1={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,n,r,i,s,o,l,a,u,c,f,d,h,g,p,S,m,y,k,x,_,P,z;(function(A){var H=typeof on=="object"?on:typeof self=="object"?self:typeof this=="object"?this:{};A(N(H,N(t.exports)));function N(j,b){return j!==H&&(typeof Object.create=="function"?Object.defineProperty(j,"__esModule",{value:!0}):j.__esModule=!0),function(L,w){return j[L]=b?b(L,w):w}}})(function(A){var H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,j){N.__proto__=j}||function(N,j){for(var b in j)j.hasOwnProperty(b)&&(N[b]=j[b])};e=function(N,j){H(N,j);function b(){this.constructor=N}N.prototype=j===null?Object.create(j):(b.prototype=j.prototype,new b)},n=Object.assign||function(N){for(var j,b=1,L=arguments.length;b<L;b++){j=arguments[b];for(var w in j)Object.prototype.hasOwnProperty.call(j,w)&&(N[w]=j[w])}return N},r=function(N,j){var b={};for(var L in N)Object.prototype.hasOwnProperty.call(N,L)&&j.indexOf(L)<0&&(b[L]=N[L]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,L=Object.getOwnPropertySymbols(N);w<L.length;w++)j.indexOf(L[w])<0&&Object.prototype.propertyIsEnumerable.call(N,L[w])&&(b[L[w]]=N[L[w]]);return b},i=function(N,j,b,L){var w=arguments.length,B=w<3?j:L===null?L=Object.getOwnPropertyDescriptor(j,b):L,$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,j,b,L);else for(var M=N.length-1;M>=0;M--)($=N[M])&&(B=(w<3?$(B):w>3?$(j,b,B):$(j,b))||B);return w>3&&B&&Object.defineProperty(j,b,B),B},s=function(N,j){return function(b,L){j(b,L,N)}},o=function(N,j){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,j)},l=function(N,j,b,L){function w(B){return B instanceof b?B:new b(function($){$(B)})}return new(b||(b=Promise))(function(B,$){function M(U){try{T(L.next(U))}catch(D){$(D)}}function R(U){try{T(L.throw(U))}catch(D){$(D)}}function T(U){U.done?B(U.value):w(U.value).then(M,R)}T((L=L.apply(N,j||[])).next())})},a=function(N,j){var b={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},L,w,B,$;return $={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&($[Symbol.iterator]=function(){return this}),$;function M(T){return function(U){return R([T,U])}}function R(T){if(L)throw new TypeError("Generator is already executing.");for(;b;)try{if(L=1,w&&(B=T[0]&2?w.return:T[0]?w.throw||((B=w.return)&&B.call(w),0):w.next)&&!(B=B.call(w,T[1])).done)return B;switch(w=0,B&&(T=[T[0]&2,B.value]),T[0]){case 0:case 1:B=T;break;case 4:return b.label++,{value:T[1],done:!1};case 5:b.label++,w=T[1],T=[0];continue;case 7:T=b.ops.pop(),b.trys.pop();continue;default:if(B=b.trys,!(B=B.length>0&&B[B.length-1])&&(T[0]===6||T[0]===2)){b=0;continue}if(T[0]===3&&(!B||T[1]>B[0]&&T[1]<B[3])){b.label=T[1];break}if(T[0]===6&&b.label<B[1]){b.label=B[1],B=T;break}if(B&&b.label<B[2]){b.label=B[2],b.ops.push(T);break}B[2]&&b.ops.pop(),b.trys.pop();continue}T=j.call(N,b)}catch(U){T=[6,U],w=0}finally{L=B=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},z=function(N,j,b,L){L===void 0&&(L=b),N[L]=j[b]},u=function(N,j){for(var b in N)b!=="default"&&!j.hasOwnProperty(b)&&(j[b]=N[b])},c=function(N){var j=typeof Symbol=="function"&&Symbol.iterator,b=j&&N[j],L=0;if(b)return b.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&L>=N.length&&(N=void 0),{value:N&&N[L++],done:!N}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(N,j){var b=typeof Symbol=="function"&&N[Symbol.iterator];if(!b)return N;var L=b.call(N),w,B=[],$;try{for(;(j===void 0||j-- >0)&&!(w=L.next()).done;)B.push(w.value)}catch(M){$={error:M}}finally{try{w&&!w.done&&(b=L.return)&&b.call(L)}finally{if($)throw $.error}}return B},d=function(){for(var N=[],j=0;j<arguments.length;j++)N=N.concat(f(arguments[j]));return N},h=function(){for(var N=0,j=0,b=arguments.length;j<b;j++)N+=arguments[j].length;for(var L=Array(N),w=0,j=0;j<b;j++)for(var B=arguments[j],$=0,M=B.length;$<M;$++,w++)L[w]=B[$];return L},g=function(N){return this instanceof g?(this.v=N,this):new g(N)},p=function(N,j,b){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=b.apply(N,j||[]),w,B=[];return w={},$("next"),$("throw"),$("return"),w[Symbol.asyncIterator]=function(){return this},w;function $(I){L[I]&&(w[I]=function(oe){return new Promise(function(ee,Q){B.push([I,oe,ee,Q])>1||M(I,oe)})})}function M(I,oe){try{R(L[I](oe))}catch(ee){D(B[0][3],ee)}}function R(I){I.value instanceof g?Promise.resolve(I.value.v).then(T,U):D(B[0][2],I)}function T(I){M("next",I)}function U(I){M("throw",I)}function D(I,oe){I(oe),B.shift(),B.length&&M(B[0][0],B[0][1])}},S=function(N){var j,b;return j={},L("next"),L("throw",function(w){throw w}),L("return"),j[Symbol.iterator]=function(){return this},j;function L(w,B){j[w]=N[w]?function($){return(b=!b)?{value:g(N[w]($)),done:w==="return"}:B?B($):$}:B}},m=function(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j=N[Symbol.asyncIterator],b;return j?j.call(N):(N=typeof c=="function"?c(N):N[Symbol.iterator](),b={},L("next"),L("throw"),L("return"),b[Symbol.asyncIterator]=function(){return this},b);function L(B){b[B]=N[B]&&function($){return new Promise(function(M,R){$=N[B]($),w(M,R,$.done,$.value)})}}function w(B,$,M,R){Promise.resolve(R).then(function(T){B({value:T,done:M})},$)}},y=function(N,j){return Object.defineProperty?Object.defineProperty(N,"raw",{value:j}):N.raw=j,N},k=function(N){if(N&&N.__esModule)return N;var j={};if(N!=null)for(var b in N)Object.hasOwnProperty.call(N,b)&&(j[b]=N[b]);return j.default=N,j},x=function(N){return N&&N.__esModule?N:{default:N}},_=function(N,j){if(!j.has(N))throw new TypeError("attempted to get private field on non-instance");return j.get(N)},P=function(N,j,b){if(!j.has(N))throw new TypeError("attempted to set private field on non-instance");return j.set(N,b),b},A("__extends",e),A("__assign",n),A("__rest",r),A("__decorate",i),A("__param",s),A("__metadata",o),A("__awaiter",l),A("__generator",a),A("__exportStar",u),A("__createBinding",z),A("__values",c),A("__read",f),A("__spread",d),A("__spreadArrays",h),A("__await",g),A("__asyncGenerator",p),A("__asyncDelegator",S),A("__asyncValues",m),A("__makeTemplateObject",y),A("__importStar",k),A("__importDefault",x),A("__classPrivateFieldGet",_),A("__classPrivateFieldSet",P)})})(x1);var Ia=x1.exports,qi={},Da={},yd={},_r={},tm;function D2(){return tm||(tm=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.documentTemplate=_r.defaultMargins=void 0,_r.defaultMargins={top:1440,right:1440,bottom:1440,left:1440,header:720,footer:720,gutter:0},_r.documentTemplate=function(t,e,n,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<w:document
  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"
  xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"
  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"
  xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing"
  xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"
  xmlns:ns6="http://schemas.openxmlformats.org/schemaLibrary/2006/main"
  xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"
  xmlns:ns8="http://schemas.openxmlformats.org/drawingml/2006/chartDrawing"
  xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram"
  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"
  xmlns:ns11="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"
  xmlns:dsp="http://schemas.microsoft.com/office/drawing/2008/diagram"
  xmlns:ns13="urn:schemas-microsoft-com:office:excel"
  xmlns:o="urn:schemas-microsoft-com:office:office"
  xmlns:v="urn:schemas-microsoft-com:vml"
  xmlns:w10="urn:schemas-microsoft-com:office:word"
  xmlns:ns17="urn:schemas-microsoft-com:office:powerpoint"
  xmlns:odx="http://opendope.org/xpaths"
  xmlns:odc="http://opendope.org/conditions"
  xmlns:odq="http://opendope.org/questions"
  xmlns:odi="http://opendope.org/components"
  xmlns:odgm="http://opendope.org/SmartArt/DataHierarchy"
  xmlns:ns24="http://schemas.openxmlformats.org/officeDocument/2006/bibliography"
  xmlns:ns25="http://schemas.openxmlformats.org/drawingml/2006/compatibility"
  xmlns:ns26="http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas">
  <w:body>
    <w:altChunk r:id="htmlChunk" />
    <w:sectPr>
      <w:pgSz w:w="`+t+'" w:h="'+e+'" w:orient="'+n+`" />
      <w:pgMar w:top="`+r.top+`"
               w:right="`+r.right+`"
               w:bottom="`+r.bottom+`"
               w:left="`+r.left+`"
               w:header="`+r.header+`"
               w:footer="`+r.footer+`"
               w:gutter="`+r.gutter+`"/>
    </w:sectPr>
  </w:body>
</w:document>
`}),_r}var gs={},nm;function z2(){return nm||(nm=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.mhtDocumentTemplate=void 0,gs.mhtDocumentTemplate=function(t,e){return`MIME-Version: 1.0
Content-Type: multipart/related;
    type="text/html";
    boundary="----=mhtDocumentPart"


------=mhtDocumentPart
Content-Type: text/html;
    charset="utf-8"
Content-Transfer-Encoding: quoted-printable
Content-Location: file:///C:/fake/document.html

`+t+`

`+e+`

------=mhtDocumentPart--
`}),gs}var ys={},rm;function P2(){return rm||(rm=1,Object.defineProperty(ys,"__esModule",{value:!0}),ys.mhtPartTemplate=void 0,ys.mhtPartTemplate=function(t,e,n,r){return`------=mhtDocumentPart
Content-Type: `+t+`
Content-Transfer-Encoding: `+e+`
Content-Location: `+n+`

`+r+`
`}),ys}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ia;e.__exportStar(D2(),t),e.__exportStar(z2(),t),e.__exportStar(P2(),t)})(yd);Object.defineProperty(Da,"__esModule",{value:!0});Da.getMHTdocument=void 0;var E1=yd;function L2(t){var e=B2(t),n=e.imageContentParts.join(`
`);return t=e.htmlSource.replace(/\=/g,"=3D"),E1.mhtDocumentTemplate(t,n)}Da.getMHTdocument=L2;function B2(t){var e=[],n=/"data:(\w+\/\w+);(\w+),(\S+)"/g,r=function(i,s,o,l){var a=e.length,u=s.split("/")[1],c="file:///C:/fake/image"+a+"."+u;return e.push(E1.mhtPartTemplate(s,o,c,l)),'"'+c+'"'};return/<img/g.test(t)?(t=t.replace(n,r),{htmlSource:t,imageContentParts:e}):{htmlSource:t,imageContentParts:e}}var _1={},vs={},im;function F2(){return im||(im=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.contentTypesXml=void 0,vs.contentTypesXml=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">
  <Default Extension="rels" ContentType=
    "application/vnd.openxmlformats-package.relationships+xml" />
  <Override PartName="/word/document.xml" ContentType=
    "application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"/>
  <Override PartName="/word/afchunk.mht" ContentType="message/rfc822"/>
</Types>
`),vs}var ws={},sm;function H2(){return sm||(sm=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.documentXmlRels=void 0,ws.documentXmlRels=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"
    Target="/word/afchunk.mht" Id="htmlChunk" />
</Relationships>
`),ws}var ks={},om;function $2(){return om||(om=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.relsXml=void 0,ks.relsXml=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
  <Relationship
      Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"
      Target="/word/document.xml" Id="R09c83fafc067488e" />
</Relationships>
`),ks}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ia;e.__exportStar(F2(),t),e.__exportStar(H2(),t),e.__exportStar($2(),t)})(_1);var ns={};Object.defineProperty(ns,"__esModule",{value:!0});var j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U2=typeof window<"u"&&typeof window.document<"u",V2=(typeof self>"u"?"undefined":j2(self))==="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",W2=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,K2=function(){return typeof window<"u"&&window.name==="nodejs"||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")};ns.isBrowser=U2;ns.isWebWorker=V2;ns.isNode=W2;ns.isJsDom=K2;Object.defineProperty(qi,"__esModule",{value:!0});qi.addFiles=qi.generateDocument=void 0;var ea=Ia,G2=Da,Iu=_1,lm=yd,C1=ns,Z2={orientation:"portrait",margins:{}};function M1(t,e){return ea.__assign(ea.__assign({},t),e)}function J2(t){return ea.__awaiter(this,void 0,void 0,function(){var e;return ea.__generator(this,function(n){switch(n.label){case 0:return[4,t.generateAsync({type:"arraybuffer"})];case 1:return e=n.sent(),C1.isBrowser?[2,new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})]:[2,new Buffer(new Uint8Array(e))]}})})}qi.generateDocument=J2;function Du(t){return C1.isBrowser?new Blob([t]):new Buffer(t,"utf-8")}function q2(t){var e=t.orientation,n=t.margins,r=M1(lm.defaultMargins,n),i=0,s=0;return e==="landscape"?(s=12240,i=15840):(i=12240,s=15840),lm.documentTemplate(i,s,e,r)}function X2(t,e,n){var r=M1(Z2,n);return t.file("[Content_Types].xml",Du(Iu.contentTypesXml),{createFolders:!1}),t.folder("_rels").file(".rels",Du(Iu.relsXml),{createFolders:!1}),t.folder("word").file("document.xml",q2(r),{createFolders:!1}).file("afchunk.mht",G2.getMHTdocument(e),{createFolders:!1}).folder("_rels").file("document.xml.rels",Du(Iu.documentXmlRels),{createFolders:!1})}qi.addFiles=X2;function Jo(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof Jo=="function"&&Jo;if(!c&&f)return f(u,!0);if(l)return l(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[u]={exports:{}};r[u][0].call(h.exports,function(g){var p=r[u][1][g];return o(p||g)},h,h.exports,n,r,i,s)}return i[u].exports}for(var l=typeof Jo=="function"&&Jo,a=0;a<s.length;a++)o(s[a]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(a){for(var u,c,f,d,h,g,p,S=[],m=0,y=a.length,k=y,x=s.getTypeOf(a)!=="string";m<a.length;)k=y-m,f=x?(u=a[m++],c=m<y?a[m++]:0,m<y?a[m++]:0):(u=a.charCodeAt(m++),c=m<y?a.charCodeAt(m++):0,m<y?a.charCodeAt(m++):0),d=u>>2,h=(3&u)<<4|c>>4,g=1<k?(15&c)<<2|f>>6:64,p=2<k?63&f:64,S.push(l.charAt(d)+l.charAt(h)+l.charAt(g)+l.charAt(p));return S.join("")},i.decode=function(a){var u,c,f,d,h,g,p=0,S=0,m="data:";if(a.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,k=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===l.charAt(64)&&k--,a.charAt(a.length-2)===l.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=o.uint8array?new Uint8Array(0|k):new Array(0|k);p<a.length;)u=l.indexOf(a.charAt(p++))<<2|(d=l.indexOf(a.charAt(p++)))>>4,c=(15&d)<<4|(h=l.indexOf(a.charAt(p++)))>>2,f=(3&h)<<6|(g=l.indexOf(a.charAt(p++))),y[S++]=u,h!==64&&(y[S++]=c),g!==64&&(y[S++]=f);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),a=n("./stream/DataLengthProbe");function u(c,f,d,h,g){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=h,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new l).pipe(new a("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new a("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var l,a=[],u=0;u<256;u++){l=u;for(var c=0;c<8;c++)l=1&l?3988292384^l>>>1:l>>>1;a[u]=l}return a}();r.exports=function(l,a){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(u,c,f,d){var h=o,g=d+f;u^=-1;for(var p=d;p<g;p++)u=u>>>8^h[255&(u^c[p])];return-1^u}(0|a,l,l.length,0):function(u,c,f,d){var h=o,g=d+f;u^=-1;for(var p=d;p<g;p++)u=u>>>8^h[255&(u^c.charCodeAt(p))];return-1^u}(0|a,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),a=n("./stream/GenericWorker"),u=s?"uint8array":"array";function c(f,d){a.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",l.inherits(c,a),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(h,g){var p,S="";for(p=0;p<g;p++)S+=String.fromCharCode(255&h),h>>>=8;return S}function o(h,g,p,S,m,y){var k,x,_=h.file,P=h.compression,z=y!==u.utf8encode,A=l.transformTo("string",y(_.name)),H=l.transformTo("string",u.utf8encode(_.name)),N=_.comment,j=l.transformTo("string",y(N)),b=l.transformTo("string",u.utf8encode(N)),L=H.length!==_.name.length,w=b.length!==N.length,B="",$="",M="",R=_.dir,T=_.date,U={crc32:0,compressedSize:0,uncompressedSize:0};g&&!p||(U.crc32=h.crc32,U.compressedSize=h.compressedSize,U.uncompressedSize=h.uncompressedSize);var D=0;g&&(D|=8),z||!L&&!w||(D|=2048);var I=0,oe=0;R&&(I|=16),m==="UNIX"?(oe=798,I|=function(Q,pe){var Ee=Q;return Q||(Ee=pe?16893:33204),(65535&Ee)<<16}(_.unixPermissions,R)):(oe=20,I|=function(Q){return 63&(Q||0)}(_.dosPermissions)),k=T.getUTCHours(),k<<=6,k|=T.getUTCMinutes(),k<<=5,k|=T.getUTCSeconds()/2,x=T.getUTCFullYear()-1980,x<<=4,x|=T.getUTCMonth()+1,x<<=5,x|=T.getUTCDate(),L&&($=s(1,1)+s(c(A),4)+H,B+="up"+s($.length,2)+$),w&&(M=s(1,1)+s(c(j),4)+b,B+="uc"+s(M.length,2)+M);var ee="";return ee+=`
\0`,ee+=s(D,2),ee+=P.magic,ee+=s(k,2),ee+=s(x,2),ee+=s(U.crc32,4),ee+=s(U.compressedSize,4),ee+=s(U.uncompressedSize,4),ee+=s(A.length,2),ee+=s(B.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ee+A+B,dirRecord:f.CENTRAL_FILE_HEADER+s(oe,2)+ee+s(j.length,2)+"\0\0\0\0"+s(I,4)+s(S,4)+A+B+j}}var l=n("../utils"),a=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function d(h,g,p,S){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=p,this.encodeFileName=S,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(d,a),d.prototype.push=function(h){var g=h.meta.percent||0,p=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,a.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:p?(g+100*(p-S-1))/p:100}}))},d.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var g=this.streamFiles&&!h.file.dir;if(g){var p=o(h,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(h){this.accumulate=!1;var g=this.streamFiles&&!h.file.dir,p=o(h,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),g)this.push({data:function(S){return f.DATA_DESCRIPTOR+s(S.crc32,4)+s(S.compressedSize,4)+s(S.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var h=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var p=this.bytesWritten-h,S=function(m,y,k,x,_){var P=l.transformTo("string",_(x));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(m,2)+s(m,2)+s(y,4)+s(k,4)+s(P.length,2)+P}(this.dirRecords.length,p,h,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(h){this._sources.push(h);var g=this;return h.on("data",function(p){g.processChunk(p)}),h.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),h.on("error",function(p){g.error(p)}),this},d.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(h){var g=this._sources;if(!a.prototype.error.call(this,h))return!1;for(var p=0;p<g.length;p++)try{g[p].error(h)}catch{}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var h=this._sources,g=0;g<h.length;g++)h[g].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(l,a,u){var c=new o(a.streamFiles,u,a.platform,a.encodeFileName),f=0;try{l.forEach(function(d,h){f++;var g=function(y,k){var x=y||k,_=s[x];if(!_)throw new Error(x+" is not a valid compression method !");return _}(h.options.compression,a.compression),p=h.options.compressionOptions||a.compressionOptions||{},S=h.dir,m=h.date;h._compressWorker(g,p).withStreamInfo("file",{name:d,dir:S,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),l=n("./utf8"),a=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(d){return new o.Promise(function(h,g){var p=d.decompressed.getContentWorker().pipe(new u);p.on("error",function(S){g(S)}).on("end",function(){p.streamInfo.crc32!==d.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(d,h){var g=this;return h=s.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),c.isNode&&c.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",d,!0,h.optimizedBinaryString,h.base64).then(function(p){var S=new a(h);return S.load(p),S}).then(function(p){var S=[o.Promise.resolve(p)],m=p.files;if(h.checkCRC32)for(var y=0;y<m.length;y++)S.push(f(m[y]));return o.Promise.all(S)}).then(function(p){for(var S=p.shift(),m=S.files,y=0;y<m.length;y++){var k=m[y],x=k.fileNameStr,_=s.resolve(k.fileNameStr);g.file(_,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:h.createFolders}),k.dir||(g.file(_).unsafeOriginalName=x)}return S.zipComment.length&&(g.comment=S.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function l(a,u){o.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(l,o),l.prototype._bindStream=function(a){var u=this;(this._stream=a).pause(),a.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(l,a,u){s.call(this,a),this._helper=l;var c=this;l.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(_,P,z){var A,H=l.getTypeOf(P),N=l.extend(z||{},c);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(_=m(_)),N.createFolders&&(A=S(_))&&y.call(this,A,!0);var j=H==="string"&&N.binary===!1&&N.base64===!1;z&&z.binary!==void 0||(N.binary=!j),(P instanceof f&&P.uncompressedSize===0||N.dir||!P||P.length===0)&&(N.base64=!1,N.binary=!0,P="",N.compression="STORE",H="string");var b=null;b=P instanceof f||P instanceof a?P:g.isNode&&g.isStream(P)?new p(_,P):l.prepareContent(_,P,N.binary,N.optimizedBinaryString,N.base64);var L=new d(_,b,N);this.files[_]=L}var o=n("./utf8"),l=n("./utils"),a=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),d=n("./zipObject"),h=n("./generate"),g=n("./nodejsUtils"),p=n("./nodejs/NodejsStreamInputAdapter"),S=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var P=_.lastIndexOf("/");return 0<P?_.substring(0,P):""},m=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,P){return P=P!==void 0?P:c.createFolders,_=m(_),this.files[_]||s.call(this,_,null,{dir:!0,createFolders:P}),this.files[_]};function k(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var P,z,A;for(P in this.files)A=this.files[P],(z=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&_(z,A)},filter:function(_){var P=[];return this.forEach(function(z,A){_(z,A)&&P.push(A)}),P},file:function(_,P,z){if(arguments.length!==1)return _=this.root+_,s.call(this,_,P,z),this;if(k(_)){var A=_;return this.filter(function(N,j){return!j.dir&&A.test(N)})}var H=this.files[this.root+_];return H&&!H.dir?H:null},folder:function(_){if(!_)return this;if(k(_))return this.filter(function(H,N){return N.dir&&_.test(H)});var P=this.root+_,z=y.call(this,P),A=this.clone();return A.root=z.name,A},remove:function(_){_=this.root+_;var P=this.files[_];if(P||(_.slice(-1)!=="/"&&(_+="/"),P=this.files[_]),P&&!P.dir)delete this.files[_];else for(var z=this.filter(function(H,N){return N.name.slice(0,_.length)===_}),A=0;A<z.length;A++)delete this.files[z[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var P,z={};try{if((z=l.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");l.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var A=z.comment||this.comment||"";P=h.generateWorker(this,z,A)}catch(H){(P=new a("error")).error(H)}return new u(P,z.type||"string",z.mimeType)},generateAsync:function(_,P){return this.generateInternalStream(_).accumulate(P)},generateNodeStream:function(_,P){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(P)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l);for(var a=0;a<this.data.length;a++)l[a]=255&l[a]}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var a=l.charCodeAt(0),u=l.charCodeAt(1),c=l.charCodeAt(2),f=l.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===a&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var a=l.charCodeAt(0),u=l.charCodeAt(1),c=l.charCodeAt(2),f=l.charCodeAt(3),d=this.readData(4);return a===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var a,u=0;for(this.checkOffset(l),a=this.index+l-1;a>=this.index;a--)u=(u<<8)+this.byteAt(a);return this.index+=l,u},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var a=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,a},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),l=n("./ArrayReader"),a=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var d=s.getTypeOf(f);return s.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new u(f):o.uint8array?new c(s.transformTo("uint8array",f)):new l(s.transformTo("array",f)):new a(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function l(a){s.call(this,"ConvertWorker to "+a),this.destType=a}o.inherits(l,s),l.prototype.processChunk=function(a){this.push({data:o.transformTo(this.destType,a.data),meta:a.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,s),l.prototype.processChunk=function(a){this.streamInfo.crc32=o(a.data,this.streamInfo.crc32||0),this.push(a)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(a){o.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}s.inherits(l,o),l.prototype.processChunk=function(a){if(a){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+a.data.length}o.prototype.processChunk.call(this,a)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function l(a){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=s.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,u);break;case"uint8array":a=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":a=this.data.slice(this.index,u)}return this.index=u,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var a=0;a<this._listeners[o].length;a++)this._listeners[o][a].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(a){l.processChunk(a)}),o.on("end",function(){l.end()}),o.on("error",function(a){l.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),a=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(g,p){return new c.Promise(function(S,m){var y=[],k=g._internalType,x=g._outputType,_=g._mimeType;g.on("data",function(P,z){y.push(P),p&&p(z)}).on("error",function(P){y=[],m(P)}).on("end",function(){try{var P=function(z,A,H){switch(z){case"blob":return s.newBlob(s.transformTo("arraybuffer",A),H);case"base64":return a.encode(A);default:return s.transformTo(z,A)}}(x,function(z,A){var H,N=0,j=null,b=0;for(H=0;H<A.length;H++)b+=A[H].length;switch(z){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(j=new Uint8Array(b),H=0;H<A.length;H++)j.set(A[H],N),N+=A[H].length;return j;case"nodebuffer":return Buffer.concat(A);default:throw new Error("concat : unsupported type '"+z+"'")}}(k,y),_);S(P)}catch(z){m(z)}y=[]}).resume()})}function h(g,p,S){var m=p;switch(p){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=p,this._mimeType=S,s.checkSupport(m),this._worker=g.pipe(new o(m)),g.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}h.prototype={accumulate:function(g){return d(this,g)},on:function(g,p){var S=this;return g==="data"?this._worker.on(g,function(m){p.call(S,m.data,m.meta)}):this._worker.on(g,function(){s.delay(p,arguments,S)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),a=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}i.utf8encode=function(h){return o.nodebuffer?l.newBufferFrom(h,"utf-8"):function(g){var p,S,m,y,k,x=g.length,_=0;for(y=0;y<x;y++)(64512&(S=g.charCodeAt(y)))==55296&&y+1<x&&(64512&(m=g.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(m-56320),y++),_+=S<128?1:S<2048?2:S<65536?3:4;for(p=o.uint8array?new Uint8Array(_):new Array(_),y=k=0;k<_;y++)(64512&(S=g.charCodeAt(y)))==55296&&y+1<x&&(64512&(m=g.charCodeAt(y+1)))==56320&&(S=65536+(S-55296<<10)+(m-56320),y++),S<128?p[k++]=S:(S<2048?p[k++]=192|S>>>6:(S<65536?p[k++]=224|S>>>12:(p[k++]=240|S>>>18,p[k++]=128|S>>>12&63),p[k++]=128|S>>>6&63),p[k++]=128|63&S);return p}(h)},i.utf8decode=function(h){return o.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):function(g){var p,S,m,y,k=g.length,x=new Array(2*k);for(p=S=0;p<k;)if((m=g[p++])<128)x[S++]=m;else if(4<(y=u[m]))x[S++]=65533,p+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&p<k;)m=m<<6|63&g[p++],y--;1<y?x[S++]=65533:m<65536?x[S++]=m:(m-=65536,x[S++]=55296|m>>10&1023,x[S++]=56320|1023&m)}return x.length!==S&&(x.subarray?x=x.subarray(0,S):x.length=S),s.applyFromCharCode(x)}(h=s.transformTo(o.uint8array?"uint8array":"array",h))},s.inherits(f,a),f.prototype.processChunk=function(h){var g=s.transformTo(o.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var p=g;(g=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),g.set(p,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var S=function(y,k){var x;for((k=k||y.length)>y.length&&(k=y.length),x=k-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?k:x+u[y[x]]>k?x:k}(g),m=g;S!==g.length&&(o.uint8array?(m=g.subarray(0,S),this.leftOver=g.subarray(S,g.length)):(m=g.slice(0,S),this.leftOver=g.slice(S,g.length))),this.push({data:i.utf8decode(m),meta:h.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(d,a),d.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),a=n("./external");function u(p){return p}function c(p,S){for(var m=0;m<p.length;++m)S[m]=255&p.charCodeAt(m);return S}n("setimmediate"),i.newBlob=function(p,S){i.checkSupport("blob");try{return new Blob([p],{type:S})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(p),m.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(p,S,m){var y=[],k=0,x=p.length;if(x<=m)return String.fromCharCode.apply(null,p);for(;k<x;)S==="array"||S==="nodebuffer"?y.push(String.fromCharCode.apply(null,p.slice(k,Math.min(k+m,x)))):y.push(String.fromCharCode.apply(null,p.subarray(k,Math.min(k+m,x)))),k+=m;return y.join("")},stringifyByChar:function(p){for(var S="",m=0;m<p.length;m++)S+=String.fromCharCode(p[m]);return S},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function d(p){var S=65536,m=i.getTypeOf(p),y=!0;if(m==="uint8array"?y=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=f.applyCanBeUsed.nodebuffer),y)for(;1<S;)try{return f.stringifyByChunk(p,m,S)}catch{S=Math.floor(S/2)}return f.stringifyByChar(p)}function h(p,S){for(var m=0;m<p.length;m++)S[m]=p[m];return S}i.applyFromCharCode=d;var g={};g.string={string:u,array:function(p){return c(p,new Array(p.length))},arraybuffer:function(p){return g.string.uint8array(p).buffer},uint8array:function(p){return c(p,new Uint8Array(p.length))},nodebuffer:function(p){return c(p,l.allocBuffer(p.length))}},g.array={string:d,array:u,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(p)}},g.arraybuffer={string:function(p){return d(new Uint8Array(p))},array:function(p){return h(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:u,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return l.newBufferFrom(new Uint8Array(p))}},g.uint8array={string:d,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:u,nodebuffer:function(p){return l.newBufferFrom(p)}},g.nodebuffer={string:d,array:function(p){return h(p,new Array(p.length))},arraybuffer:function(p){return g.nodebuffer.uint8array(p).buffer},uint8array:function(p){return h(p,new Uint8Array(p.length))},nodebuffer:u},i.transformTo=function(p,S){if(S=S||"",!p)return S;i.checkSupport(p);var m=i.getTypeOf(S);return g[m][p](S)},i.resolve=function(p){for(var S=p.split("/"),m=[],y=0;y<S.length;y++){var k=S[y];k==="."||k===""&&y!==0&&y!==S.length-1||(k===".."?m.pop():m.push(k))}return m.join("/")},i.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(p)?"nodebuffer":s.uint8array&&p instanceof Uint8Array?"uint8array":s.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(p){if(!s[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(p){var S,m,y="";for(m=0;m<(p||"").length;m++)y+="\\x"+((S=p.charCodeAt(m))<16?"0":"")+S.toString(16).toUpperCase();return y},i.delay=function(p,S,m){setImmediate(function(){p.apply(m||null,S||[])})},i.inherits=function(p,S){function m(){}m.prototype=S.prototype,p.prototype=new m},i.extend=function(){var p,S,m={};for(p=0;p<arguments.length;p++)for(S in arguments[p])Object.prototype.hasOwnProperty.call(arguments[p],S)&&m[S]===void 0&&(m[S]=arguments[p][S]);return m},i.prepareContent=function(p,S,m,y,k){return a.Promise.resolve(S).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new a.Promise(function(_,P){var z=new FileReader;z.onload=function(A){_(A.target.result)},z.onerror=function(A){P(A.target.error)},z.readAsArrayBuffer(x)}):x}).then(function(x){var _=i.getTypeOf(x);return _?(_==="arraybuffer"?x=i.transformTo("uint8array",x):_==="string"&&(k?x=o.decode(x):m&&y!==!0&&(x=function(P){return c(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))}(x))),x):a.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),a=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(f)+")")}},isSignature:function(f,d){var h=this.reader.index;this.reader.setIndex(f);var g=this.reader.readString(4)===d;return this.reader.setIndex(h),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",h=o.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,h,g=this.zip64EndOfCentralSize-44;0<g;)f=this.reader.readInt(2),d=this.reader.readInt(4),h=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var g=d-h;if(0<g)this.isSignature(d,l.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),a=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function d(h,g){this.options=h,this.loadOptions=g}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var g,p;if(h.skip(22),this.fileNameLength=h.readInt(2),p=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(S){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===S)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,g,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var g=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(g),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var g,p,S,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)g=h.readInt(2),p=h.readInt(2),S=h.readData(p),this.extraFields[g]={id:g,length:p,value:S};h.setIndex(m)},handleUTF8:function(){var h=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var p=o.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var m=o.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var g=s(h.value);return g.readInt(1)!==1||a(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var g=s(h.value);return g.readInt(1)!==1||a(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(h.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(g,p,S){this.name=g,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=p,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),a=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(g){var p=null,S="string";try{if(!g)throw new Error("No output type specified.");var m=(S=g.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),p=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(p=p.pipe(new a.Utf8EncodeWorker)),!y&&m&&(p=p.pipe(new a.Utf8DecodeWorker))}catch(k){(p=new c("error")).error(k)}return new o(p,S,"")},async:function(g,p){return this.internalStream(g).accumulate(p)},nodeStream:function(g,p){return this.internalStream(g||"nodebuffer").toNodejsStream(p)},_compressWorker:function(g,p){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new a.Utf8EncodeWorker)),u.createWorkerFrom(S,g,p)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<f.length;h++)s.prototype[f[h]]=d;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,l,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var u=0,c=new a(g),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var p=s.document.createElement("script");p.onreadystatechange=function(){g(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:function(){setTimeout(g,0)};else{var d=new s.MessageChannel;d.port1.onmessage=g,o=function(){d.port2.postMessage(0)}}var h=[];function g(){var p,S;l=!0;for(var m=h.length;m;){for(S=h,h=[],p=-1;++p<m;)S[p]();m=h.length}l=!1}r.exports=function(p){h.push(p)!==1||l||o()}}).call(this,typeof on<"u"?on:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var l={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==o&&p(this,m)}function d(m,y,k){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function h(m,y,k){s(function(){var x;try{x=y(k)}catch(_){return l.reject(m,_)}x===m?l.reject(m,new TypeError("Cannot resolve promise with itself")):l.resolve(m,x)})}function g(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function p(m,y){var k=!1;function x(z){k||(k=!0,l.reject(m,z))}function _(z){k||(k=!0,l.resolve(m,z))}var P=S(function(){y(_,x)});P.status==="error"&&x(P.value)}function S(m,y){var k={};try{k.value=m(y),k.status="success"}catch(x){k.status="error",k.value=x}return k}(r.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(k){return y.resolve(m()).then(function(){return k})},function(k){return y.resolve(m()).then(function(){throw k})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,y){if(typeof m!="function"&&this.state===u||typeof y!="function"&&this.state===a)return this;var k=new this.constructor(o);return this.state!==c?h(k,this.state===u?m:y,this.outcome):this.queue.push(new d(k,m,y)),k},d.prototype.callFulfilled=function(m){l.resolve(this.promise,m)},d.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},d.prototype.callRejected=function(m){l.reject(this.promise,m)},d.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},l.resolve=function(m,y){var k=S(g,y);if(k.status==="error")return l.reject(m,k.value);var x=k.value;if(x)p(m,x);else{m.state=u,m.outcome=y;for(var _=-1,P=m.queue.length;++_<P;)m.queue[_].callFulfilled(y)}return m},l.reject=function(m,y){m.state=a,m.outcome=y;for(var k=-1,x=m.queue.length;++k<x;)m.queue[k].callRejected(y);return m},f.resolve=function(m){return m instanceof this?m:l.resolve(new this(o),m)},f.reject=function(m){var y=new this(o);return l.reject(y,m)},f.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=m.length,x=!1;if(!k)return this.resolve([]);for(var _=new Array(k),P=0,z=-1,A=new this(o);++z<k;)H(m[z],z);return A;function H(N,j){y.resolve(N).then(function(b){_[j]=b,++P!==k||x||(x=!0,l.resolve(A,_))},function(b){x||(x=!0,l.reject(A,b))})}},f.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=m.length,x=!1;if(!k)return this.resolve([]);for(var _=-1,P=new this(o);++_<k;)z=m[_],y.resolve(z).then(function(A){x||(x=!0,l.resolve(P,A))},function(A){x||(x=!0,l.reject(P,A))});var z;return P}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),a=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,h=0,g=8;function p(m){if(!(this instanceof p))return new p(m);this.options=o.assign({level:d,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(k!==f)throw new Error(a[k]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?l.string2buf(y.dictionary):c.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(k=s.deflateSetDictionary(this.strm,x))!==f)throw new Error(a[k]);this._dict_set=!0}}function S(m,y){var k=new p(y);if(k.push(m,!0),k.err)throw k.msg||a[k.err];return k.result}p.prototype.push=function(m,y){var k,x,_=this.strm,P=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof m=="string"?_.input=l.string2buf(m):c.call(m)==="[object ArrayBuffer]"?_.input=new Uint8Array(m):_.input=m,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new o.Buf8(P),_.next_out=0,_.avail_out=P),(k=s.deflate(_,x))!==1&&k!==f)return this.onEnd(k),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(_.output,_.next_out))):this.onData(o.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&k!==1);return x===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===f):x!==2||(this.onEnd(f),!(_.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=p,i.deflate=S,i.deflateRaw=function(m,y){return(y=y||{}).raw=!0,S(m,y)},i.gzip=function(m,y){return(y=y||{}).gzip=!0,S(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),a=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),d=Object.prototype.toString;function h(p){if(!(this instanceof h))return new h(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||p&&p.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&!(15&S.windowBits)&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,S.windowBits);if(m!==a.Z_OK)throw new Error(u[m]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function g(p,S){var m=new h(S);if(m.push(p,!0),m.err)throw m.msg||u[m.err];return m.result}h.prototype.push=function(p,S){var m,y,k,x,_,P,z=this.strm,A=this.options.chunkSize,H=this.options.dictionary,N=!1;if(this.ended)return!1;y=S===~~S?S:S===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof p=="string"?z.input=l.binstring2buf(p):d.call(p)==="[object ArrayBuffer]"?z.input=new Uint8Array(p):z.input=p,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new o.Buf8(A),z.next_out=0,z.avail_out=A),(m=s.inflate(z,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&H&&(P=typeof H=="string"?l.string2buf(H):d.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,m=s.inflateSetDictionary(this.strm,P)),m===a.Z_BUF_ERROR&&N===!0&&(m=a.Z_OK,N=!1),m!==a.Z_STREAM_END&&m!==a.Z_OK)return this.onEnd(m),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&m!==a.Z_STREAM_END&&(z.avail_in!==0||y!==a.Z_FINISH&&y!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=l.utf8border(z.output,z.next_out),x=z.next_out-k,_=l.buf2string(z.output,k),z.next_out=x,z.avail_out=A-x,x&&o.arraySet(z.output,z.output,k,x,0),this.onData(_)):this.onData(o.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(N=!0)}while((0<z.avail_in||z.avail_out===0)&&m!==a.Z_STREAM_END);return m===a.Z_STREAM_END&&(y=a.Z_FINISH),y===a.Z_FINISH?(m=s.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===a.Z_OK):y!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(z.avail_out=0))},h.prototype.onData=function(p){this.chunks.push(p)},h.prototype.onEnd=function(p){p===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Inflate=h,i.inflate=g,i.inflateRaw=function(p,S){return(S=S||{}).raw=!0,g(p,S)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(a){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f])}}return a},i.shrinkBuf=function(a,u){return a.length===u?a:a.subarray?a.subarray(0,u):(a.length=u,a)};var o={arraySet:function(a,u,c,f,d){if(u.subarray&&a.subarray)a.set(u.subarray(c,c+f),d);else for(var h=0;h<f;h++)a[d+h]=u[c+h]},flattenChunks:function(a){var u,c,f,d,h,g;for(u=f=0,c=a.length;u<c;u++)f+=a[u].length;for(g=new Uint8Array(f),u=d=0,c=a.length;u<c;u++)h=a[u],g.set(h,d),d+=h.length;return g}},l={arraySet:function(a,u,c,f,d){for(var h=0;h<f;h++)a[d+h]=u[c+h]},flattenChunks:function(a){return[].concat.apply([],a)}};i.setTyped=function(a){a?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var a=new s.Buf8(256),u=0;u<256;u++)a[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(f,d));for(var h="",g=0;g<d;g++)h+=String.fromCharCode(f[g]);return h}a[254]=a[254]=1,i.string2buf=function(f){var d,h,g,p,S,m=f.length,y=0;for(p=0;p<m;p++)(64512&(h=f.charCodeAt(p)))==55296&&p+1<m&&(64512&(g=f.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),y+=h<128?1:h<2048?2:h<65536?3:4;for(d=new s.Buf8(y),p=S=0;S<y;p++)(64512&(h=f.charCodeAt(p)))==55296&&p+1<m&&(64512&(g=f.charCodeAt(p+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),p++),h<128?d[S++]=h:(h<2048?d[S++]=192|h>>>6:(h<65536?d[S++]=224|h>>>12:(d[S++]=240|h>>>18,d[S++]=128|h>>>12&63),d[S++]=128|h>>>6&63),d[S++]=128|63&h);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new s.Buf8(f.length),h=0,g=d.length;h<g;h++)d[h]=f.charCodeAt(h);return d},i.buf2string=function(f,d){var h,g,p,S,m=d||f.length,y=new Array(2*m);for(h=g=0;h<m;)if((p=f[h++])<128)y[g++]=p;else if(4<(S=a[p]))y[g++]=65533,h+=S-1;else{for(p&=S===2?31:S===3?15:7;1<S&&h<m;)p=p<<6|63&f[h++],S--;1<S?y[g++]=65533:p<65536?y[g++]=p:(p-=65536,y[g++]=55296|p>>10&1023,y[g++]=56320|1023&p)}return c(y,g)},i.utf8border=function(f,d){var h;for((d=d||f.length)>f.length&&(d=f.length),h=d-1;0<=h&&(192&f[h])==128;)h--;return h<0||h===0?d:h+a[f[h]]>d?h:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,l,a){for(var u=65535&s|0,c=s>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;c=c+(u=u+o[a++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,l=[],a=0;a<256;a++){o=a;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[a]=o}return l}();r.exports=function(o,l,a,u){var c=s,f=u+a;o^=-1;for(var d=u;d<f;d++)o=o>>>8^c[255&(o^l[d])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),l=n("./trees"),a=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,d=4,h=0,g=-2,p=-1,S=4,m=2,y=8,k=9,x=286,_=30,P=19,z=2*x+1,A=15,H=3,N=258,j=N+H+1,b=42,L=113,w=1,B=2,$=3,M=4;function R(v,J){return v.msg=c[J],J}function T(v){return(v<<1)-(4<v?9:0)}function U(v){for(var J=v.length;0<=--J;)v[J]=0}function D(v){var J=v.state,W=J.pending;W>v.avail_out&&(W=v.avail_out),W!==0&&(o.arraySet(v.output,J.pending_buf,J.pending_out,W,v.next_out),v.next_out+=W,J.pending_out+=W,v.total_out+=W,v.avail_out-=W,J.pending-=W,J.pending===0&&(J.pending_out=0))}function I(v,J){l._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,J),v.block_start=v.strstart,D(v.strm)}function oe(v,J){v.pending_buf[v.pending++]=J}function ee(v,J){v.pending_buf[v.pending++]=J>>>8&255,v.pending_buf[v.pending++]=255&J}function Q(v,J){var W,E,C=v.max_chain_length,O=v.strstart,G=v.prev_length,q=v.nice_match,F=v.strstart>v.w_size-j?v.strstart-(v.w_size-j):0,re=v.window,le=v.w_mask,V=v.prev,Y=v.strstart+N,K=re[O+G-1],X=re[O+G];v.prev_length>=v.good_match&&(C>>=2),q>v.lookahead&&(q=v.lookahead);do if(re[(W=J)+G]===X&&re[W+G-1]===K&&re[W]===re[O]&&re[++W]===re[O+1]){O+=2,W++;do;while(re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&re[++O]===re[++W]&&O<Y);if(E=N-(Y-O),O=Y-N,G<E){if(v.match_start=J,q<=(G=E))break;K=re[O+G-1],X=re[O+G]}}while((J=V[J&le])>F&&--C!=0);return G<=v.lookahead?G:v.lookahead}function pe(v){var J,W,E,C,O,G,q,F,re,le,V=v.w_size;do{if(C=v.window_size-v.lookahead-v.strstart,v.strstart>=V+(V-j)){for(o.arraySet(v.window,v.window,V,V,0),v.match_start-=V,v.strstart-=V,v.block_start-=V,J=W=v.hash_size;E=v.head[--J],v.head[J]=V<=E?E-V:0,--W;);for(J=W=V;E=v.prev[--J],v.prev[J]=V<=E?E-V:0,--W;);C+=V}if(v.strm.avail_in===0)break;if(G=v.strm,q=v.window,F=v.strstart+v.lookahead,re=C,le=void 0,le=G.avail_in,re<le&&(le=re),W=le===0?0:(G.avail_in-=le,o.arraySet(q,G.input,G.next_in,le,F),G.state.wrap===1?G.adler=a(G.adler,q,le,F):G.state.wrap===2&&(G.adler=u(G.adler,q,le,F)),G.next_in+=le,G.total_in+=le,le),v.lookahead+=W,v.lookahead+v.insert>=H)for(O=v.strstart-v.insert,v.ins_h=v.window[O],v.ins_h=(v.ins_h<<v.hash_shift^v.window[O+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[O+H-1])&v.hash_mask,v.prev[O&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=O,O++,v.insert--,!(v.lookahead+v.insert<H)););}while(v.lookahead<j&&v.strm.avail_in!==0)}function Ee(v,J){for(var W,E;;){if(v.lookahead<j){if(pe(v),v.lookahead<j&&J===f)return w;if(v.lookahead===0)break}if(W=0,v.lookahead>=H&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+H-1])&v.hash_mask,W=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),W!==0&&v.strstart-W<=v.w_size-j&&(v.match_length=Q(v,W)),v.match_length>=H)if(E=l._tr_tally(v,v.strstart-v.match_start,v.match_length-H),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=H){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+H-1])&v.hash_mask,W=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else E=l._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(E&&(I(v,!1),v.strm.avail_out===0))return w}return v.insert=v.strstart<H-1?v.strstart:H-1,J===d?(I(v,!0),v.strm.avail_out===0?$:M):v.last_lit&&(I(v,!1),v.strm.avail_out===0)?w:B}function te(v,J){for(var W,E,C;;){if(v.lookahead<j){if(pe(v),v.lookahead<j&&J===f)return w;if(v.lookahead===0)break}if(W=0,v.lookahead>=H&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+H-1])&v.hash_mask,W=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=H-1,W!==0&&v.prev_length<v.max_lazy_match&&v.strstart-W<=v.w_size-j&&(v.match_length=Q(v,W),v.match_length<=5&&(v.strategy===1||v.match_length===H&&4096<v.strstart-v.match_start)&&(v.match_length=H-1)),v.prev_length>=H&&v.match_length<=v.prev_length){for(C=v.strstart+v.lookahead-H,E=l._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-H),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=C&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+H-1])&v.hash_mask,W=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=H-1,v.strstart++,E&&(I(v,!1),v.strm.avail_out===0))return w}else if(v.match_available){if((E=l._tr_tally(v,0,v.window[v.strstart-1]))&&I(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return w}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(E=l._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<H-1?v.strstart:H-1,J===d?(I(v,!0),v.strm.avail_out===0?$:M):v.last_lit&&(I(v,!1),v.strm.avail_out===0)?w:B}function Z(v,J,W,E,C){this.good_length=v,this.max_lazy=J,this.nice_length=W,this.max_chain=E,this.func=C}function ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*z),this.dyn_dtree=new o.Buf16(2*(2*_+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(A+1),this.heap=new o.Buf16(2*x+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ae(v){var J;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=m,(J=v.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?b:L,v.adler=J.wrap===2?0:1,J.last_flush=f,l._tr_init(J),h):R(v,g)}function be(v){var J=ae(v);return J===h&&function(W){W.window_size=2*W.w_size,U(W.head),W.max_lazy_match=s[W.level].max_lazy,W.good_match=s[W.level].good_length,W.nice_match=s[W.level].nice_length,W.max_chain_length=s[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=H-1,W.match_available=0,W.ins_h=0}(v.state),J}function ke(v,J,W,E,C,O){if(!v)return g;var G=1;if(J===p&&(J=6),E<0?(G=0,E=-E):15<E&&(G=2,E-=16),C<1||k<C||W!==y||E<8||15<E||J<0||9<J||O<0||S<O)return R(v,g);E===8&&(E=9);var q=new ne;return(v.state=q).strm=v,q.wrap=G,q.gzhead=null,q.w_bits=E,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=C+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+H-1)/H),q.window=new o.Buf8(2*q.w_size),q.head=new o.Buf16(q.hash_size),q.prev=new o.Buf16(q.w_size),q.lit_bufsize=1<<C+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new o.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=J,q.strategy=O,q.method=W,be(v)}s=[new Z(0,0,0,0,function(v,J){var W=65535;for(W>v.pending_buf_size-5&&(W=v.pending_buf_size-5);;){if(v.lookahead<=1){if(pe(v),v.lookahead===0&&J===f)return w;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var E=v.block_start+W;if((v.strstart===0||v.strstart>=E)&&(v.lookahead=v.strstart-E,v.strstart=E,I(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-j&&(I(v,!1),v.strm.avail_out===0))return w}return v.insert=0,J===d?(I(v,!0),v.strm.avail_out===0?$:M):(v.strstart>v.block_start&&(I(v,!1),v.strm.avail_out),w)}),new Z(4,4,8,4,Ee),new Z(4,5,16,8,Ee),new Z(4,6,32,32,Ee),new Z(4,4,16,16,te),new Z(8,16,32,32,te),new Z(8,16,128,128,te),new Z(8,32,128,256,te),new Z(32,128,258,1024,te),new Z(32,258,258,4096,te)],i.deflateInit=function(v,J){return ke(v,J,y,15,8,0)},i.deflateInit2=ke,i.deflateReset=be,i.deflateResetKeep=ae,i.deflateSetHeader=function(v,J){return v&&v.state?v.state.wrap!==2?g:(v.state.gzhead=J,h):g},i.deflate=function(v,J){var W,E,C,O;if(!v||!v.state||5<J||J<0)return v?R(v,g):g;if(E=v.state,!v.output||!v.input&&v.avail_in!==0||E.status===666&&J!==d)return R(v,v.avail_out===0?-5:g);if(E.strm=v,W=E.last_flush,E.last_flush=J,E.status===b)if(E.wrap===2)v.adler=0,oe(E,31),oe(E,139),oe(E,8),E.gzhead?(oe(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),oe(E,255&E.gzhead.time),oe(E,E.gzhead.time>>8&255),oe(E,E.gzhead.time>>16&255),oe(E,E.gzhead.time>>24&255),oe(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),oe(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(oe(E,255&E.gzhead.extra.length),oe(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(v.adler=u(v.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(oe(E,0),oe(E,0),oe(E,0),oe(E,0),oe(E,0),oe(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),oe(E,3),E.status=L);else{var G=y+(E.w_bits-8<<4)<<8;G|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(G|=32),G+=31-G%31,E.status=L,ee(E,G),E.strstart!==0&&(ee(E,v.adler>>>16),ee(E,65535&v.adler)),v.adler=1}if(E.status===69)if(E.gzhead.extra){for(C=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),D(v),C=E.pending,E.pending!==E.pending_buf_size));)oe(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){C=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),D(v),C=E.pending,E.pending===E.pending_buf_size)){O=1;break}O=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,oe(E,O)}while(O!==0);E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),O===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){C=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),D(v),C=E.pending,E.pending===E.pending_buf_size)){O=1;break}O=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,oe(E,O)}while(O!==0);E.gzhead.hcrc&&E.pending>C&&(v.adler=u(v.adler,E.pending_buf,E.pending-C,C)),O===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&D(v),E.pending+2<=E.pending_buf_size&&(oe(E,255&v.adler),oe(E,v.adler>>8&255),v.adler=0,E.status=L)):E.status=L),E.pending!==0){if(D(v),v.avail_out===0)return E.last_flush=-1,h}else if(v.avail_in===0&&T(J)<=T(W)&&J!==d)return R(v,-5);if(E.status===666&&v.avail_in!==0)return R(v,-5);if(v.avail_in!==0||E.lookahead!==0||J!==f&&E.status!==666){var q=E.strategy===2?function(F,re){for(var le;;){if(F.lookahead===0&&(pe(F),F.lookahead===0)){if(re===f)return w;break}if(F.match_length=0,le=l._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,le&&(I(F,!1),F.strm.avail_out===0))return w}return F.insert=0,re===d?(I(F,!0),F.strm.avail_out===0?$:M):F.last_lit&&(I(F,!1),F.strm.avail_out===0)?w:B}(E,J):E.strategy===3?function(F,re){for(var le,V,Y,K,X=F.window;;){if(F.lookahead<=N){if(pe(F),F.lookahead<=N&&re===f)return w;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=H&&0<F.strstart&&(V=X[Y=F.strstart-1])===X[++Y]&&V===X[++Y]&&V===X[++Y]){K=F.strstart+N;do;while(V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&V===X[++Y]&&Y<K);F.match_length=N-(K-Y),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=H?(le=l._tr_tally(F,1,F.match_length-H),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(le=l._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),le&&(I(F,!1),F.strm.avail_out===0))return w}return F.insert=0,re===d?(I(F,!0),F.strm.avail_out===0?$:M):F.last_lit&&(I(F,!1),F.strm.avail_out===0)?w:B}(E,J):s[E.level].func(E,J);if(q!==$&&q!==M||(E.status=666),q===w||q===$)return v.avail_out===0&&(E.last_flush=-1),h;if(q===B&&(J===1?l._tr_align(E):J!==5&&(l._tr_stored_block(E,0,0,!1),J===3&&(U(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),D(v),v.avail_out===0))return E.last_flush=-1,h}return J!==d?h:E.wrap<=0?1:(E.wrap===2?(oe(E,255&v.adler),oe(E,v.adler>>8&255),oe(E,v.adler>>16&255),oe(E,v.adler>>24&255),oe(E,255&v.total_in),oe(E,v.total_in>>8&255),oe(E,v.total_in>>16&255),oe(E,v.total_in>>24&255)):(ee(E,v.adler>>>16),ee(E,65535&v.adler)),D(v),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?h:1)},i.deflateEnd=function(v){var J;return v&&v.state?(J=v.state.status)!==b&&J!==69&&J!==73&&J!==91&&J!==103&&J!==L&&J!==666?R(v,g):(v.state=null,J===L?R(v,-3):h):g},i.deflateSetDictionary=function(v,J){var W,E,C,O,G,q,F,re,le=J.length;if(!v||!v.state||(O=(W=v.state).wrap)===2||O===1&&W.status!==b||W.lookahead)return g;for(O===1&&(v.adler=a(v.adler,J,le,0)),W.wrap=0,le>=W.w_size&&(O===0&&(U(W.head),W.strstart=0,W.block_start=0,W.insert=0),re=new o.Buf8(W.w_size),o.arraySet(re,J,le-W.w_size,W.w_size,0),J=re,le=W.w_size),G=v.avail_in,q=v.next_in,F=v.input,v.avail_in=le,v.next_in=0,v.input=J,pe(W);W.lookahead>=H;){for(E=W.strstart,C=W.lookahead-(H-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[E+H-1])&W.hash_mask,W.prev[E&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=E,E++,--C;);W.strstart=E,W.lookahead=H-1,pe(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=H-1,W.match_available=0,v.next_in=q,v.input=F,v.avail_in=G,W.wrap=O,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var l,a,u,c,f,d,h,g,p,S,m,y,k,x,_,P,z,A,H,N,j,b,L,w,B;l=s.state,a=s.next_in,w=s.input,u=a+(s.avail_in-5),c=s.next_out,B=s.output,f=c-(o-s.avail_out),d=c+(s.avail_out-257),h=l.dmax,g=l.wsize,p=l.whave,S=l.wnext,m=l.window,y=l.hold,k=l.bits,x=l.lencode,_=l.distcode,P=(1<<l.lenbits)-1,z=(1<<l.distbits)-1;e:do{k<15&&(y+=w[a++]<<k,k+=8,y+=w[a++]<<k,k+=8),A=x[y&P];t:for(;;){if(y>>>=H=A>>>24,k-=H,(H=A>>>16&255)===0)B[c++]=65535&A;else{if(!(16&H)){if(!(64&H)){A=x[(65535&A)+(y&(1<<H)-1)];continue t}if(32&H){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}N=65535&A,(H&=15)&&(k<H&&(y+=w[a++]<<k,k+=8),N+=y&(1<<H)-1,y>>>=H,k-=H),k<15&&(y+=w[a++]<<k,k+=8,y+=w[a++]<<k,k+=8),A=_[y&z];n:for(;;){if(y>>>=H=A>>>24,k-=H,!(16&(H=A>>>16&255))){if(!(64&H)){A=_[(65535&A)+(y&(1<<H)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if(j=65535&A,k<(H&=15)&&(y+=w[a++]<<k,(k+=8)<H&&(y+=w[a++]<<k,k+=8)),h<(j+=y&(1<<H)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(y>>>=H,k-=H,(H=c-f)<j){if(p<(H=j-H)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(L=m,(b=0)===S){if(b+=g-H,H<N){for(N-=H;B[c++]=m[b++],--H;);b=c-j,L=B}}else if(S<H){if(b+=g+S-H,(H-=S)<N){for(N-=H;B[c++]=m[b++],--H;);if(b=0,S<N){for(N-=H=S;B[c++]=m[b++],--H;);b=c-j,L=B}}}else if(b+=S-H,H<N){for(N-=H;B[c++]=m[b++],--H;);b=c-j,L=B}for(;2<N;)B[c++]=L[b++],B[c++]=L[b++],B[c++]=L[b++],N-=3;N&&(B[c++]=L[b++],1<N&&(B[c++]=L[b++]))}else{for(b=c-j;B[c++]=B[b++],B[c++]=B[b++],B[c++]=B[b++],2<(N-=3););N&&(B[c++]=B[b++],1<N&&(B[c++]=B[b++]))}break}}break}}while(a<u&&c<d);a-=N=k>>3,y&=(1<<(k-=N<<3))-1,s.next_in=a,s.next_out=c,s.avail_in=a<u?u-a+5:5-(a-u),s.avail_out=c<d?d-c+257:257-(c-d),l.hold=y,l.bits=k}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),a=n("./inffast"),u=n("./inftrees"),c=1,f=2,d=0,h=-2,g=1,p=852,S=592;function m(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(b){var L;return b&&b.state?(L=b.state,b.total_in=b.total_out=L.total=0,b.msg="",L.wrap&&(b.adler=1&L.wrap),L.mode=g,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new s.Buf32(p),L.distcode=L.distdyn=new s.Buf32(S),L.sane=1,L.back=-1,d):h}function x(b){var L;return b&&b.state?((L=b.state).wsize=0,L.whave=0,L.wnext=0,k(b)):h}function _(b,L){var w,B;return b&&b.state?(B=b.state,L<0?(w=0,L=-L):(w=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?h:(B.window!==null&&B.wbits!==L&&(B.window=null),B.wrap=w,B.wbits=L,x(b))):h}function P(b,L){var w,B;return b?(B=new y,(b.state=B).window=null,(w=_(b,L))!==d&&(b.state=null),w):h}var z,A,H=!0;function N(b){if(H){var L;for(z=new s.Buf32(512),A=new s.Buf32(32),L=0;L<144;)b.lens[L++]=8;for(;L<256;)b.lens[L++]=9;for(;L<280;)b.lens[L++]=7;for(;L<288;)b.lens[L++]=8;for(u(c,b.lens,0,288,z,0,b.work,{bits:9}),L=0;L<32;)b.lens[L++]=5;u(f,b.lens,0,32,A,0,b.work,{bits:5}),H=!1}b.lencode=z,b.lenbits=9,b.distcode=A,b.distbits=5}function j(b,L,w,B){var $,M=b.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new s.Buf8(M.wsize)),B>=M.wsize?(s.arraySet(M.window,L,w-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(B<($=M.wsize-M.wnext)&&($=B),s.arraySet(M.window,L,w-B,$,M.wnext),(B-=$)?(s.arraySet(M.window,L,w-B,B,0),M.wnext=B,M.whave=M.wsize):(M.wnext+=$,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=$))),0}i.inflateReset=x,i.inflateReset2=_,i.inflateResetKeep=k,i.inflateInit=function(b){return P(b,15)},i.inflateInit2=P,i.inflate=function(b,L){var w,B,$,M,R,T,U,D,I,oe,ee,Q,pe,Ee,te,Z,ne,ae,be,ke,v,J,W,E,C=0,O=new s.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return h;(w=b.state).mode===12&&(w.mode=13),R=b.next_out,$=b.output,U=b.avail_out,M=b.next_in,B=b.input,T=b.avail_in,D=w.hold,I=w.bits,oe=T,ee=U,J=d;e:for(;;)switch(w.mode){case g:if(w.wrap===0){w.mode=13;break}for(;I<16;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(2&w.wrap&&D===35615){O[w.check=0]=255&D,O[1]=D>>>8&255,w.check=l(w.check,O,2,0),I=D=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&D)<<8)+(D>>8))%31){b.msg="incorrect header check",w.mode=30;break}if((15&D)!=8){b.msg="unknown compression method",w.mode=30;break}if(I-=4,v=8+(15&(D>>>=4)),w.wbits===0)w.wbits=v;else if(v>w.wbits){b.msg="invalid window size",w.mode=30;break}w.dmax=1<<v,b.adler=w.check=1,w.mode=512&D?10:12,I=D=0;break;case 2:for(;I<16;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(w.flags=D,(255&w.flags)!=8){b.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){b.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=D>>8&1),512&w.flags&&(O[0]=255&D,O[1]=D>>>8&255,w.check=l(w.check,O,2,0)),I=D=0,w.mode=3;case 3:for(;I<32;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.head&&(w.head.time=D),512&w.flags&&(O[0]=255&D,O[1]=D>>>8&255,O[2]=D>>>16&255,O[3]=D>>>24&255,w.check=l(w.check,O,4,0)),I=D=0,w.mode=4;case 4:for(;I<16;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.head&&(w.head.xflags=255&D,w.head.os=D>>8),512&w.flags&&(O[0]=255&D,O[1]=D>>>8&255,w.check=l(w.check,O,2,0)),I=D=0,w.mode=5;case 5:if(1024&w.flags){for(;I<16;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.length=D,w.head&&(w.head.extra_len=D),512&w.flags&&(O[0]=255&D,O[1]=D>>>8&255,w.check=l(w.check,O,2,0)),I=D=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(T<(Q=w.length)&&(Q=T),Q&&(w.head&&(v=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,B,M,Q,v)),512&w.flags&&(w.check=l(w.check,B,Q,M)),T-=Q,M+=Q,w.length-=Q),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(T===0)break e;for(Q=0;v=B[M+Q++],w.head&&v&&w.length<65536&&(w.head.name+=String.fromCharCode(v)),v&&Q<T;);if(512&w.flags&&(w.check=l(w.check,B,Q,M)),T-=Q,M+=Q,v)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(T===0)break e;for(Q=0;v=B[M+Q++],w.head&&v&&w.length<65536&&(w.head.comment+=String.fromCharCode(v)),v&&Q<T;);if(512&w.flags&&(w.check=l(w.check,B,Q,M)),T-=Q,M+=Q,v)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;I<16;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(D!==(65535&w.check)){b.msg="header crc mismatch",w.mode=30;break}I=D=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),b.adler=w.check=0,w.mode=12;break;case 10:for(;I<32;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}b.adler=w.check=m(D),I=D=0,w.mode=11;case 11:if(w.havedict===0)return b.next_out=R,b.avail_out=U,b.next_in=M,b.avail_in=T,w.hold=D,w.bits=I,2;b.adler=w.check=1,w.mode=12;case 12:if(L===5||L===6)break e;case 13:if(w.last){D>>>=7&I,I-=7&I,w.mode=27;break}for(;I<3;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}switch(w.last=1&D,I-=1,3&(D>>>=1)){case 0:w.mode=14;break;case 1:if(N(w),w.mode=20,L!==6)break;D>>>=2,I-=2;break e;case 2:w.mode=17;break;case 3:b.msg="invalid block type",w.mode=30}D>>>=2,I-=2;break;case 14:for(D>>>=7&I,I-=7&I;I<32;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if((65535&D)!=(D>>>16^65535)){b.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&D,I=D=0,w.mode=15,L===6)break e;case 15:w.mode=16;case 16:if(Q=w.length){if(T<Q&&(Q=T),U<Q&&(Q=U),Q===0)break e;s.arraySet($,B,M,Q,R),T-=Q,M+=Q,U-=Q,R+=Q,w.length-=Q;break}w.mode=12;break;case 17:for(;I<14;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(w.nlen=257+(31&D),D>>>=5,I-=5,w.ndist=1+(31&D),D>>>=5,I-=5,w.ncode=4+(15&D),D>>>=4,I-=4,286<w.nlen||30<w.ndist){b.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;I<3;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.lens[G[w.have++]]=7&D,D>>>=3,I-=3}for(;w.have<19;)w.lens[G[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,W={bits:w.lenbits},J=u(0,w.lens,0,19,w.lencode,0,w.work,W),w.lenbits=W.bits,J){b.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Z=(C=w.lencode[D&(1<<w.lenbits)-1])>>>16&255,ne=65535&C,!((te=C>>>24)<=I);){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(ne<16)D>>>=te,I-=te,w.lens[w.have++]=ne;else{if(ne===16){for(E=te+2;I<E;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(D>>>=te,I-=te,w.have===0){b.msg="invalid bit length repeat",w.mode=30;break}v=w.lens[w.have-1],Q=3+(3&D),D>>>=2,I-=2}else if(ne===17){for(E=te+3;I<E;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}I-=te,v=0,Q=3+(7&(D>>>=te)),D>>>=3,I-=3}else{for(E=te+7;I<E;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}I-=te,v=0,Q=11+(127&(D>>>=te)),D>>>=7,I-=7}if(w.have+Q>w.nlen+w.ndist){b.msg="invalid bit length repeat",w.mode=30;break}for(;Q--;)w.lens[w.have++]=v}}if(w.mode===30)break;if(w.lens[256]===0){b.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,W={bits:w.lenbits},J=u(c,w.lens,0,w.nlen,w.lencode,0,w.work,W),w.lenbits=W.bits,J){b.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,W={bits:w.distbits},J=u(f,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,W),w.distbits=W.bits,J){b.msg="invalid distances set",w.mode=30;break}if(w.mode=20,L===6)break e;case 20:w.mode=21;case 21:if(6<=T&&258<=U){b.next_out=R,b.avail_out=U,b.next_in=M,b.avail_in=T,w.hold=D,w.bits=I,a(b,ee),R=b.next_out,$=b.output,U=b.avail_out,M=b.next_in,B=b.input,T=b.avail_in,D=w.hold,I=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Z=(C=w.lencode[D&(1<<w.lenbits)-1])>>>16&255,ne=65535&C,!((te=C>>>24)<=I);){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(Z&&!(240&Z)){for(ae=te,be=Z,ke=ne;Z=(C=w.lencode[ke+((D&(1<<ae+be)-1)>>ae)])>>>16&255,ne=65535&C,!(ae+(te=C>>>24)<=I);){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}D>>>=ae,I-=ae,w.back+=ae}if(D>>>=te,I-=te,w.back+=te,w.length=ne,Z===0){w.mode=26;break}if(32&Z){w.back=-1,w.mode=12;break}if(64&Z){b.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Z,w.mode=22;case 22:if(w.extra){for(E=w.extra;I<E;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.length+=D&(1<<w.extra)-1,D>>>=w.extra,I-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Z=(C=w.distcode[D&(1<<w.distbits)-1])>>>16&255,ne=65535&C,!((te=C>>>24)<=I);){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(!(240&Z)){for(ae=te,be=Z,ke=ne;Z=(C=w.distcode[ke+((D&(1<<ae+be)-1)>>ae)])>>>16&255,ne=65535&C,!(ae+(te=C>>>24)<=I);){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}D>>>=ae,I-=ae,w.back+=ae}if(D>>>=te,I-=te,w.back+=te,64&Z){b.msg="invalid distance code",w.mode=30;break}w.offset=ne,w.extra=15&Z,w.mode=24;case 24:if(w.extra){for(E=w.extra;I<E;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}w.offset+=D&(1<<w.extra)-1,D>>>=w.extra,I-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){b.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(U===0)break e;if(Q=ee-U,w.offset>Q){if((Q=w.offset-Q)>w.whave&&w.sane){b.msg="invalid distance too far back",w.mode=30;break}pe=Q>w.wnext?(Q-=w.wnext,w.wsize-Q):w.wnext-Q,Q>w.length&&(Q=w.length),Ee=w.window}else Ee=$,pe=R-w.offset,Q=w.length;for(U<Q&&(Q=U),U-=Q,w.length-=Q;$[R++]=Ee[pe++],--Q;);w.length===0&&(w.mode=21);break;case 26:if(U===0)break e;$[R++]=w.length,U--,w.mode=21;break;case 27:if(w.wrap){for(;I<32;){if(T===0)break e;T--,D|=B[M++]<<I,I+=8}if(ee-=U,b.total_out+=ee,w.total+=ee,ee&&(b.adler=w.check=w.flags?l(w.check,$,ee,R-ee):o(w.check,$,ee,R-ee)),ee=U,(w.flags?D:m(D))!==w.check){b.msg="incorrect data check",w.mode=30;break}I=D=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;I<32;){if(T===0)break e;T--,D+=B[M++]<<I,I+=8}if(D!==(4294967295&w.total)){b.msg="incorrect length check",w.mode=30;break}I=D=0}w.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;case 32:default:return h}return b.next_out=R,b.avail_out=U,b.next_in=M,b.avail_in=T,w.hold=D,w.bits=I,(w.wsize||ee!==b.avail_out&&w.mode<30&&(w.mode<27||L!==4))&&j(b,b.output,b.next_out,ee-b.avail_out)?(w.mode=31,-4):(oe-=b.avail_in,ee-=b.avail_out,b.total_in+=oe,b.total_out+=ee,w.total+=ee,w.wrap&&ee&&(b.adler=w.check=w.flags?l(w.check,$,ee,b.next_out-ee):o(w.check,$,ee,b.next_out-ee)),b.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(oe==0&&ee===0||L===4)&&J===d&&(J=-5),J)},i.inflateEnd=function(b){if(!b||!b.state)return h;var L=b.state;return L.window&&(L.window=null),b.state=null,d},i.inflateGetHeader=function(b,L){var w;return b&&b.state&&2&(w=b.state).wrap?((w.head=L).done=!1,d):h},i.inflateSetDictionary=function(b,L){var w,B=L.length;return b&&b.state?(w=b.state).wrap!==0&&w.mode!==11?h:w.mode===11&&o(1,L,B,0)!==w.check?-3:j(b,L,B,B)?(w.mode=31,-4):(w.havedict=1,d):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,d,h,g,p,S,m){var y,k,x,_,P,z,A,H,N,j=m.bits,b=0,L=0,w=0,B=0,$=0,M=0,R=0,T=0,U=0,D=0,I=null,oe=0,ee=new s.Buf16(16),Q=new s.Buf16(16),pe=null,Ee=0;for(b=0;b<=15;b++)ee[b]=0;for(L=0;L<h;L++)ee[f[d+L]]++;for($=j,B=15;1<=B&&ee[B]===0;B--);if(B<$&&($=B),B===0)return g[p++]=20971520,g[p++]=20971520,m.bits=1,0;for(w=1;w<B&&ee[w]===0;w++);for($<w&&($=w),b=T=1;b<=15;b++)if(T<<=1,(T-=ee[b])<0)return-1;if(0<T&&(c===0||B!==1))return-1;for(Q[1]=0,b=1;b<15;b++)Q[b+1]=Q[b]+ee[b];for(L=0;L<h;L++)f[d+L]!==0&&(S[Q[f[d+L]]++]=L);if(z=c===0?(I=pe=S,19):c===1?(I=o,oe-=257,pe=l,Ee-=257,256):(I=a,pe=u,-1),b=w,P=p,R=L=D=0,x=-1,_=(U=1<<(M=$))-1,c===1&&852<U||c===2&&592<U)return 1;for(;;){for(A=b-R,N=S[L]<z?(H=0,S[L]):S[L]>z?(H=pe[Ee+S[L]],I[oe+S[L]]):(H=96,0),y=1<<b-R,w=k=1<<M;g[P+(D>>R)+(k-=y)]=A<<24|H<<16|N|0,k!==0;);for(y=1<<b-1;D&y;)y>>=1;if(y!==0?(D&=y-1,D+=y):D=0,L++,--ee[b]==0){if(b===B)break;b=f[d+S[L]]}if($<b&&(D&_)!==x){for(R===0&&(R=$),P+=w,T=1<<(M=b-R);M+R<B&&!((T-=ee[M+R])<=0);)M++,T<<=1;if(U+=1<<M,c===1&&852<U||c===2&&592<U)return 1;g[x=D&_]=$<<24|M<<16|P-p|0}}return D!==0&&(g[P+D]=b-R<<24|64<<16|0),m.bits=$,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,l=1;function a(C){for(var O=C.length;0<=--O;)C[O]=0}var u=0,c=29,f=256,d=f+1+c,h=30,g=19,p=2*d+1,S=15,m=16,y=7,k=256,x=16,_=17,P=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(d+2));a(j);var b=new Array(2*h);a(b);var L=new Array(512);a(L);var w=new Array(256);a(w);var B=new Array(c);a(B);var $,M,R,T=new Array(h);function U(C,O,G,q,F){this.static_tree=C,this.extra_bits=O,this.extra_base=G,this.elems=q,this.max_length=F,this.has_stree=C&&C.length}function D(C,O){this.dyn_tree=C,this.max_code=0,this.stat_desc=O}function I(C){return C<256?L[C]:L[256+(C>>>7)]}function oe(C,O){C.pending_buf[C.pending++]=255&O,C.pending_buf[C.pending++]=O>>>8&255}function ee(C,O,G){C.bi_valid>m-G?(C.bi_buf|=O<<C.bi_valid&65535,oe(C,C.bi_buf),C.bi_buf=O>>m-C.bi_valid,C.bi_valid+=G-m):(C.bi_buf|=O<<C.bi_valid&65535,C.bi_valid+=G)}function Q(C,O,G){ee(C,G[2*O],G[2*O+1])}function pe(C,O){for(var G=0;G|=1&C,C>>>=1,G<<=1,0<--O;);return G>>>1}function Ee(C,O,G){var q,F,re=new Array(S+1),le=0;for(q=1;q<=S;q++)re[q]=le=le+G[q-1]<<1;for(F=0;F<=O;F++){var V=C[2*F+1];V!==0&&(C[2*F]=pe(re[V]++,V))}}function te(C){var O;for(O=0;O<d;O++)C.dyn_ltree[2*O]=0;for(O=0;O<h;O++)C.dyn_dtree[2*O]=0;for(O=0;O<g;O++)C.bl_tree[2*O]=0;C.dyn_ltree[2*k]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function Z(C){8<C.bi_valid?oe(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ne(C,O,G,q){var F=2*O,re=2*G;return C[F]<C[re]||C[F]===C[re]&&q[O]<=q[G]}function ae(C,O,G){for(var q=C.heap[G],F=G<<1;F<=C.heap_len&&(F<C.heap_len&&ne(O,C.heap[F+1],C.heap[F],C.depth)&&F++,!ne(O,q,C.heap[F],C.depth));)C.heap[G]=C.heap[F],G=F,F<<=1;C.heap[G]=q}function be(C,O,G){var q,F,re,le,V=0;if(C.last_lit!==0)for(;q=C.pending_buf[C.d_buf+2*V]<<8|C.pending_buf[C.d_buf+2*V+1],F=C.pending_buf[C.l_buf+V],V++,q===0?Q(C,F,O):(Q(C,(re=w[F])+f+1,O),(le=z[re])!==0&&ee(C,F-=B[re],le),Q(C,re=I(--q),G),(le=A[re])!==0&&ee(C,q-=T[re],le)),V<C.last_lit;);Q(C,k,O)}function ke(C,O){var G,q,F,re=O.dyn_tree,le=O.stat_desc.static_tree,V=O.stat_desc.has_stree,Y=O.stat_desc.elems,K=-1;for(C.heap_len=0,C.heap_max=p,G=0;G<Y;G++)re[2*G]!==0?(C.heap[++C.heap_len]=K=G,C.depth[G]=0):re[2*G+1]=0;for(;C.heap_len<2;)re[2*(F=C.heap[++C.heap_len]=K<2?++K:0)]=1,C.depth[F]=0,C.opt_len--,V&&(C.static_len-=le[2*F+1]);for(O.max_code=K,G=C.heap_len>>1;1<=G;G--)ae(C,re,G);for(F=Y;G=C.heap[1],C.heap[1]=C.heap[C.heap_len--],ae(C,re,1),q=C.heap[1],C.heap[--C.heap_max]=G,C.heap[--C.heap_max]=q,re[2*F]=re[2*G]+re[2*q],C.depth[F]=(C.depth[G]>=C.depth[q]?C.depth[G]:C.depth[q])+1,re[2*G+1]=re[2*q+1]=F,C.heap[1]=F++,ae(C,re,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(X,ue){var me,_e,Qe,De,oi,Pa,Mn=ue.dyn_tree,Ed=ue.max_code,sv=ue.stat_desc.static_tree,ov=ue.stat_desc.has_stree,lv=ue.stat_desc.extra_bits,_d=ue.stat_desc.extra_base,is=ue.stat_desc.max_length,_o=0;for(De=0;De<=S;De++)X.bl_count[De]=0;for(Mn[2*X.heap[X.heap_max]+1]=0,me=X.heap_max+1;me<p;me++)is<(De=Mn[2*Mn[2*(_e=X.heap[me])+1]+1]+1)&&(De=is,_o++),Mn[2*_e+1]=De,Ed<_e||(X.bl_count[De]++,oi=0,_d<=_e&&(oi=lv[_e-_d]),Pa=Mn[2*_e],X.opt_len+=Pa*(De+oi),ov&&(X.static_len+=Pa*(sv[2*_e+1]+oi)));if(_o!==0){do{for(De=is-1;X.bl_count[De]===0;)De--;X.bl_count[De]--,X.bl_count[De+1]+=2,X.bl_count[is]--,_o-=2}while(0<_o);for(De=is;De!==0;De--)for(_e=X.bl_count[De];_e!==0;)Ed<(Qe=X.heap[--me])||(Mn[2*Qe+1]!==De&&(X.opt_len+=(De-Mn[2*Qe+1])*Mn[2*Qe],Mn[2*Qe+1]=De),_e--)}}(C,O),Ee(re,K,C.bl_count)}function v(C,O,G){var q,F,re=-1,le=O[1],V=0,Y=7,K=4;for(le===0&&(Y=138,K=3),O[2*(G+1)+1]=65535,q=0;q<=G;q++)F=le,le=O[2*(q+1)+1],++V<Y&&F===le||(V<K?C.bl_tree[2*F]+=V:F!==0?(F!==re&&C.bl_tree[2*F]++,C.bl_tree[2*x]++):V<=10?C.bl_tree[2*_]++:C.bl_tree[2*P]++,re=F,K=(V=0)===le?(Y=138,3):F===le?(Y=6,3):(Y=7,4))}function J(C,O,G){var q,F,re=-1,le=O[1],V=0,Y=7,K=4;for(le===0&&(Y=138,K=3),q=0;q<=G;q++)if(F=le,le=O[2*(q+1)+1],!(++V<Y&&F===le)){if(V<K)for(;Q(C,F,C.bl_tree),--V!=0;);else F!==0?(F!==re&&(Q(C,F,C.bl_tree),V--),Q(C,x,C.bl_tree),ee(C,V-3,2)):V<=10?(Q(C,_,C.bl_tree),ee(C,V-3,3)):(Q(C,P,C.bl_tree),ee(C,V-11,7));re=F,K=(V=0)===le?(Y=138,3):F===le?(Y=6,3):(Y=7,4)}}a(T);var W=!1;function E(C,O,G,q){ee(C,(u<<1)+(q?1:0),3),function(F,re,le,V){Z(F),V&&(oe(F,le),oe(F,~le)),s.arraySet(F.pending_buf,F.window,re,le,F.pending),F.pending+=le}(C,O,G,!0)}i._tr_init=function(C){W||(function(){var O,G,q,F,re,le=new Array(S+1);for(F=q=0;F<c-1;F++)for(B[F]=q,O=0;O<1<<z[F];O++)w[q++]=F;for(w[q-1]=F,F=re=0;F<16;F++)for(T[F]=re,O=0;O<1<<A[F];O++)L[re++]=F;for(re>>=7;F<h;F++)for(T[F]=re<<7,O=0;O<1<<A[F]-7;O++)L[256+re++]=F;for(G=0;G<=S;G++)le[G]=0;for(O=0;O<=143;)j[2*O+1]=8,O++,le[8]++;for(;O<=255;)j[2*O+1]=9,O++,le[9]++;for(;O<=279;)j[2*O+1]=7,O++,le[7]++;for(;O<=287;)j[2*O+1]=8,O++,le[8]++;for(Ee(j,d+1,le),O=0;O<h;O++)b[2*O+1]=5,b[2*O]=pe(O,5);$=new U(j,z,f+1,d,S),M=new U(b,A,0,h,S),R=new U(new Array(0),H,0,g,y)}(),W=!0),C.l_desc=new D(C.dyn_ltree,$),C.d_desc=new D(C.dyn_dtree,M),C.bl_desc=new D(C.bl_tree,R),C.bi_buf=0,C.bi_valid=0,te(C)},i._tr_stored_block=E,i._tr_flush_block=function(C,O,G,q){var F,re,le=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(V){var Y,K=4093624447;for(Y=0;Y<=31;Y++,K>>>=1)if(1&K&&V.dyn_ltree[2*Y]!==0)return o;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return l;for(Y=32;Y<f;Y++)if(V.dyn_ltree[2*Y]!==0)return l;return o}(C)),ke(C,C.l_desc),ke(C,C.d_desc),le=function(V){var Y;for(v(V,V.dyn_ltree,V.l_desc.max_code),v(V,V.dyn_dtree,V.d_desc.max_code),ke(V,V.bl_desc),Y=g-1;3<=Y&&V.bl_tree[2*N[Y]+1]===0;Y--);return V.opt_len+=3*(Y+1)+5+5+4,Y}(C),F=C.opt_len+3+7>>>3,(re=C.static_len+3+7>>>3)<=F&&(F=re)):F=re=G+5,G+4<=F&&O!==-1?E(C,O,G,q):C.strategy===4||re===F?(ee(C,2+(q?1:0),3),be(C,j,b)):(ee(C,4+(q?1:0),3),function(V,Y,K,X){var ue;for(ee(V,Y-257,5),ee(V,K-1,5),ee(V,X-4,4),ue=0;ue<X;ue++)ee(V,V.bl_tree[2*N[ue]+1],3);J(V,V.dyn_ltree,Y-1),J(V,V.dyn_dtree,K-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,le+1),be(C,C.dyn_ltree,C.dyn_dtree)),te(C),q&&Z(C)},i._tr_tally=function(C,O,G){return C.pending_buf[C.d_buf+2*C.last_lit]=O>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&O,C.pending_buf[C.l_buf+C.last_lit]=255&G,C.last_lit++,O===0?C.dyn_ltree[2*G]++:(C.matches++,O--,C.dyn_ltree[2*(w[G]+f+1)]++,C.dyn_dtree[2*I(O)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){ee(C,2,3),Q(C,k,j),function(O){O.bi_valid===16?(oe(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,l){if(!o.setImmediate){var a,u,c,f,d=1,h={},g=!1,p=o.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(o);S=S&&S.setTimeout?S:o,a={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){y(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,_=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=_,x}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(x){o.postMessage(f+x,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){y(x.data)},function(x){c.port2.postMessage(x)}):p&&"onreadystatechange"in p.createElement("script")?(u=p.documentElement,function(x){var _=p.createElement("script");_.onreadystatechange=function(){y(x),_.onreadystatechange=null,u.removeChild(_),_=null},u.appendChild(_)}):function(x){setTimeout(y,0,x)},S.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var _=new Array(arguments.length-1),P=0;P<_.length;P++)_[P]=arguments[P+1];var z={callback:x,args:_};return h[d]=z,a(d),d++},S.clearImmediate=m}function m(x){delete h[x]}function y(x){if(g)setTimeout(y,0,x);else{var _=h[x];if(_){g=!0;try{(function(P){var z=P.callback,A=P.args;switch(A.length){case 0:z();break;case 1:z(A[0]);break;case 2:z(A[0],A[1]);break;case 3:z(A[0],A[1],A[2]);break;default:z.apply(l,A)}})(_)}finally{m(x),g=!1}}}}function k(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(f)===0&&y(+x.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof on<"u"?on:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(T1);var Y2=T1.exports;Object.defineProperty(gd,"__esModule",{value:!0});var O1=gd.asBlob=void 0,am=Ia,um=qi,Q2=Y2;function eM(t,e){return e===void 0&&(e={}),am.__awaiter(this,void 0,void 0,function(){var n;return am.__generator(this,function(r){switch(r.label){case 0:return n=new Q2,um.addFiles(n,t,e),[4,um.generateDocument(n)];case 1:return[2,r.sent()]}})})}O1=gd.asBlob=eM;var N1={exports:{}};(function(t,e){(function(n,r){r()})(on,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof on=="object"&&on.global===on?on:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,c,f){var d=o.URL||o.webkitURL,h=document.createElement("a");c=c||u.name||"download",h.download=c,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?s(h):i(h.href)?r(u,c,f):s(h,h.target="_blank")):(h.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){s(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){s(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var h=u.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&g||l)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var k=S.result;k=p?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=k:location=k,d=null},S.readAsDataURL(u)}else{var m=o.URL||o.webkitURL,y=m.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});o.saveAs=a.saveAs=a,t.exports=a})})(N1);var tM=N1.exports;function nM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23 11.9998L15.9289 19.0708L14.5147 17.6566L20.1716 11.9998L14.5147 6.34292L15.9289 4.92871L23 11.9998ZM3.82843 11.9998L9.48528 17.6566L8.07107 19.0708L1 11.9998L8.07107 4.92871L9.48528 6.34292L3.82843 11.9998Z"}}]})(t)}function rM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 12H16L12 16L8 12H11V8H13V12ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"}}]})(t)}function iM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z"}}]})(t)}function sM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.6512 14.0654L11.6047 19.9999H9.57389L10.9247 12.3389L3.51465 4.92886L4.92886 3.51465L20.4852 19.071L19.071 20.4852L12.6512 14.0654ZM11.7727 7.53003L12.0425 5.99993H10.2426L8.24257 3.99993H19.9999V5.99993H14.0733L13.4991 9.25646L11.7727 7.53003Z"}}]})(t)}function oM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z"}}]})(t)}function lM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z"}}]})(t)}function aM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z"}}]})(t)}function uM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM22 8V16H23.5V18H22V20H20V18H14.5V16.66L19.5 8H22ZM20 11.133L17.19 16H20V11.133Z"}}]})(t)}function cM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z"}}]})(t)}function fM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"}}]})(t)}function dM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z"}}]})(t)}function hM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 6V21H10V16C6.68629 16 4 13.3137 4 10C4 6.68629 6.68629 4 10 4H20V6H17V21H15V6H12ZM10 6C7.79086 6 6 7.79086 6 10C6 12.2091 7.79086 14 10 14V6Z"}}]})(t)}function pM(t){return bt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z"}}]})(t)}const mM=({editor:t,currentNote:e})=>{const n=async()=>{const r=e.content,i=e.title||"Untitled",s=await O1(r,{orientation:"landscape",margins:{top:100}});tM.saveAs(s,`${i}.docx`)};return t?ge.jsxs("div",{className:"toolbar-container",children:[ge.jsxs("div",{className:"marks-container",children:[ge.jsx(hM,{onClick:()=>t.chain().focus().setParagraph().run(),className:t.isActive("paragraph")?"btn-format is-active":"btn-format"}),ge.jsx(oM,{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),disabled:!t.can().chain().focus().toggleHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active btn-format":"btn-format"}),ge.jsx(lM,{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),disabled:!t.can().chain().focus().toggleHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active btn-format":"btn-format"}),ge.jsx(aM,{onClick:()=>t.chain().focus().toggleHeading({level:4}).run(),disabled:!t.can().chain().focus().toggleHeading({level:4}).run(),className:t.isActive("heading",{level:4})?"is-active btn-format":"btn-format"}),ge.jsx(uM,{onClick:()=>t.chain().focus().toggleHeading({level:5}).run(),disabled:!t.can().chain().focus().toggleHeading({level:5}).run(),className:t.isActive("heading",{level:5})?"is-active btn-format":"btn-format"})]}),ge.jsxs("div",{className:"marks-container",children:[ge.jsx(iM,{onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active btn-format":"btn-format",children:"bold"}),ge.jsx(cM,{onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active btn-format":"btn-format",children:"italic"}),ge.jsx(pM,{onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!t.can().chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active btn-format":"btn-format",children:"strike"})]}),ge.jsxs("div",{className:"misc-container",children:[ge.jsx(nM,{onClick:()=>t.chain().focus().toggleCode().run(),disabled:!t.can().chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active btn-format":"btn-format",children:"code"}),ge.jsx(sM,{onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"btn-format",children:"clear marks"}),ge.jsx(dM,{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active btn-format":"btn-format",children:"bullet list"}),ge.jsx(fM,{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active btn-format":"btn-format",children:"ordered list"})]}),ge.jsxs("button",{className:"btn-export",onClick:()=>n(),children:[ge.jsx(rM,{className:"export-icon"})," Save as Docx"]})]}):null},gM=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,yM=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,vM=pn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Ve(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ei({find:gM,type:this.type})]},addPasteRules(){return[ti({find:yM,type:this.type})]}});function A1(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&A1(n)}),t}class cm{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function R1(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function nr(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const wM="</span>",fm=t=>!!t.scope,kM=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`};class SM{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=R1(e)}openNode(e){if(!fm(e))return;const n=kM(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){fm(e)&&(this.buffer+=wM)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const dm=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class vd{constructor(){this.rootNode=dm(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=dm({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{vd._collapse(n)}))}}class bM extends vd{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const r=e.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new SM(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function mo(t){return t?typeof t=="string"?t:t.source:null}function I1(t){return si("(?=",t,")")}function xM(t){return si("(?:",t,")*")}function EM(t){return si("(?:",t,")?")}function si(...t){return t.map(n=>mo(n)).join("")}function _M(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function wd(...t){return"("+(_M(t).capture?"":"?:")+t.map(r=>mo(r)).join("|")+")"}function D1(t){return new RegExp(t.toString()+"|").exec("").length-1}function CM(t,e){const n=t&&t.exec(e);return n&&n.index===0}const MM=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function kd(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const i=n;let s=mo(r),o="";for(;s.length>0;){const l=MM.exec(s);if(!l){o+=s;break}o+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),l[0][0]==="\\"&&l[1]?o+="\\"+String(Number(l[1])+i):(o+=l[0],l[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const TM=/\b\B/,z1="[a-zA-Z]\\w*",Sd="[a-zA-Z_]\\w*",P1="\\b\\d+(\\.\\d+)?",L1="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",B1="\\b(0b[01]+)",OM="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",NM=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=si(e,/.*\b/,t.binary,/\b.*/)),nr({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},go={begin:"\\\\[\\s\\S]",relevance:0},AM={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[go]},RM={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[go]},IM={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},za=function(t,e,n={}){const r=nr({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=wd("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:si(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},DM=za("//","$"),zM=za("/\\*","\\*/"),PM=za("#","$"),LM={scope:"number",begin:P1,relevance:0},BM={scope:"number",begin:L1,relevance:0},FM={scope:"number",begin:B1,relevance:0},HM={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[go,{begin:/\[/,end:/\]/,relevance:0,contains:[go]}]}]},$M={scope:"title",begin:z1,relevance:0},jM={scope:"title",begin:Sd,relevance:0},UM={begin:"\\.\\s*"+Sd,relevance:0},VM=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var qo=Object.freeze({__proto__:null,MATCH_NOTHING_RE:TM,IDENT_RE:z1,UNDERSCORE_IDENT_RE:Sd,NUMBER_RE:P1,C_NUMBER_RE:L1,BINARY_NUMBER_RE:B1,RE_STARTERS_RE:OM,SHEBANG:NM,BACKSLASH_ESCAPE:go,APOS_STRING_MODE:AM,QUOTE_STRING_MODE:RM,PHRASAL_WORDS_MODE:IM,COMMENT:za,C_LINE_COMMENT_MODE:DM,C_BLOCK_COMMENT_MODE:zM,HASH_COMMENT_MODE:PM,NUMBER_MODE:LM,C_NUMBER_MODE:BM,BINARY_NUMBER_MODE:FM,REGEXP_MODE:HM,TITLE_MODE:$M,UNDERSCORE_TITLE_MODE:jM,METHOD_GUARD:UM,END_SAME_AS_BEGIN:VM});function WM(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function KM(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function GM(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=WM,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function ZM(t,e){Array.isArray(t.illegal)&&(t.illegal=wd(...t.illegal))}function JM(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function qM(t,e){t.relevance===void 0&&(t.relevance=1)}const XM=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=si(n.beforeMatch,I1(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},YM=["of","and","for","in","not","or","if","then","parent","list","value"],QM="keyword";function F1(t,e,n=QM){const r=Object.create(null);return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,F1(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(l=>l.toLowerCase())),o.forEach(function(l){const a=l.split("|");r[a[0]]=[s,eT(a[0],a[1])]})}}function eT(t,e){return e?Number(e):tT(t)?0:1}function tT(t){return YM.includes(t.toLowerCase())}const hm={},Wr=t=>{console.error(t)},pm=(t,...e)=>{console.log(`WARN: ${t}`,...e)},ci=(t,e)=>{hm[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),hm[`${t}/${e}`]=!0)},ta=new Error;function H1(t,e,{key:n}){let r=0;const i=t[n],s={},o={};for(let l=1;l<=e.length;l++)o[l+r]=i[l],s[l+r]=!0,r+=D1(e[l-1]);t[n]=o,t[n]._emit=s,t[n]._multi=!0}function nT(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Wr("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),ta;if(typeof t.beginScope!="object"||t.beginScope===null)throw Wr("beginScope must be object"),ta;H1(t,t.begin,{key:"beginScope"}),t.begin=kd(t.begin,{joinWith:""})}}function rT(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Wr("skip, excludeEnd, returnEnd not compatible with endScope: {}"),ta;if(typeof t.endScope!="object"||t.endScope===null)throw Wr("endScope must be object"),ta;H1(t,t.end,{key:"endScope"}),t.end=kd(t.end,{joinWith:""})}}function iT(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function sT(t){iT(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),nT(t),rT(t)}function oT(t){function e(o,l){return new RegExp(mo(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(l?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(l,a){a.position=this.position++,this.matchIndexes[this.matchAt]=a,this.regexes.push([a,l]),this.matchAt+=D1(l)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const l=this.regexes.map(a=>a[1]);this.matcherRe=e(kd(l,{joinWith:"|"}),!0),this.lastIndex=0}exec(l){this.matcherRe.lastIndex=this.lastIndex;const a=this.matcherRe.exec(l);if(!a)return null;const u=a.findIndex((f,d)=>d>0&&f!==void 0),c=this.matchIndexes[u];return a.splice(0,u),Object.assign(a,c)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(l){if(this.multiRegexes[l])return this.multiRegexes[l];const a=new n;return this.rules.slice(l).forEach(([u,c])=>a.addRule(u,c)),a.compile(),this.multiRegexes[l]=a,a}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(l,a){this.rules.push([l,a]),a.type==="begin"&&this.count++}exec(l){const a=this.getMatcher(this.regexIndex);a.lastIndex=this.lastIndex;let u=a.exec(l);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){const c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(l)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){const l=new r;return o.contains.forEach(a=>l.addRule(a.begin,{rule:a,type:"begin"})),o.terminatorEnd&&l.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&l.addRule(o.illegal,{type:"illegal"}),l}function s(o,l){const a=o;if(o.isCompiled)return a;[KM,JM,sT,XM].forEach(c=>c(o,l)),t.compilerExtensions.forEach(c=>c(o,l)),o.__beforeBegin=null,[GM,ZM,qM].forEach(c=>c(o,l)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=F1(o.keywords,t.case_insensitive)),a.keywordPatternRe=e(u,!0),l&&(o.begin||(o.begin=/\B|\b/),a.beginRe=e(a.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(a.endRe=e(a.end)),a.terminatorEnd=mo(a.end)||"",o.endsWithParent&&l.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+l.terminatorEnd)),o.illegal&&(a.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return lT(c==="self"?o:c)})),o.contains.forEach(function(c){s(c,a)}),o.starts&&s(o.starts,l),a.matcher=i(a),a}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=nr(t.classNameAliases||{}),s(t)}function $1(t){return t?t.endsWithParent||$1(t.starts):!1}function lT(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return nr(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:$1(t)?nr(t,{starts:t.starts?nr(t.starts):null}):Object.isFrozen(t)?nr(t):t}var aT="11.8.0";class uT extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const zu=R1,mm=nr,gm=Symbol("nomatch"),cT=7,j1=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let l={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:bM};function a(M){return l.noHighlightRe.test(M)}function u(M){let R=M.className+" ";R+=M.parentNode?M.parentNode.className:"";const T=l.languageDetectRe.exec(R);if(T){const U=H(T[1]);return U||(pm(s.replace("{}",T[1])),pm("Falling back to no-highlight mode for this block.",M)),U?T[1]:"no-highlight"}return R.split(/\s+/).find(U=>a(U)||H(U))}function c(M,R,T){let U="",D="";typeof R=="object"?(U=M,T=R.ignoreIllegals,D=R.language):(ci("10.7.0","highlight(lang, code, ...args) has been deprecated."),ci("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),D=M,U=R),T===void 0&&(T=!0);const I={code:U,language:D};B("before:highlight",I);const oe=I.result?I.result:f(I.language,I.code,T);return oe.code=I.code,B("after:highlight",oe),oe}function f(M,R,T,U){const D=Object.create(null);function I(K,X){return K.keywords[X]}function oe(){if(!O.keywords){q.addText(F);return}let K=0;O.keywordPatternRe.lastIndex=0;let X=O.keywordPatternRe.exec(F),ue="";for(;X;){ue+=F.substring(K,X.index);const me=W.case_insensitive?X[0].toLowerCase():X[0],_e=I(O,me);if(_e){const[Qe,De]=_e;if(q.addText(ue),ue="",D[me]=(D[me]||0)+1,D[me]<=cT&&(re+=De),Qe.startsWith("_"))ue+=X[0];else{const oi=W.classNameAliases[Qe]||Qe;pe(X[0],oi)}}else ue+=X[0];K=O.keywordPatternRe.lastIndex,X=O.keywordPatternRe.exec(F)}ue+=F.substring(K),q.addText(ue)}function ee(){if(F==="")return;let K=null;if(typeof O.subLanguage=="string"){if(!e[O.subLanguage]){q.addText(F);return}K=f(O.subLanguage,F,!0,G[O.subLanguage]),G[O.subLanguage]=K._top}else K=h(F,O.subLanguage.length?O.subLanguage:null);O.relevance>0&&(re+=K.relevance),q.__addSublanguage(K._emitter,K.language)}function Q(){O.subLanguage!=null?ee():oe(),F=""}function pe(K,X){K!==""&&(q.startScope(X),q.addText(K),q.endScope())}function Ee(K,X){let ue=1;const me=X.length-1;for(;ue<=me;){if(!K._emit[ue]){ue++;continue}const _e=W.classNameAliases[K[ue]]||K[ue],Qe=X[ue];_e?pe(Qe,_e):(F=Qe,oe(),F=""),ue++}}function te(K,X){return K.scope&&typeof K.scope=="string"&&q.openNode(W.classNameAliases[K.scope]||K.scope),K.beginScope&&(K.beginScope._wrap?(pe(F,W.classNameAliases[K.beginScope._wrap]||K.beginScope._wrap),F=""):K.beginScope._multi&&(Ee(K.beginScope,X),F="")),O=Object.create(K,{parent:{value:O}}),O}function Z(K,X,ue){let me=CM(K.endRe,ue);if(me){if(K["on:end"]){const _e=new cm(K);K["on:end"](X,_e),_e.isMatchIgnored&&(me=!1)}if(me){for(;K.endsParent&&K.parent;)K=K.parent;return K}}if(K.endsWithParent)return Z(K.parent,X,ue)}function ne(K){return O.matcher.regexIndex===0?(F+=K[0],1):(Y=!0,0)}function ae(K){const X=K[0],ue=K.rule,me=new cm(ue),_e=[ue.__beforeBegin,ue["on:begin"]];for(const Qe of _e)if(Qe&&(Qe(K,me),me.isMatchIgnored))return ne(X);return ue.skip?F+=X:(ue.excludeBegin&&(F+=X),Q(),!ue.returnBegin&&!ue.excludeBegin&&(F=X)),te(ue,K),ue.returnBegin?0:X.length}function be(K){const X=K[0],ue=R.substring(K.index),me=Z(O,K,ue);if(!me)return gm;const _e=O;O.endScope&&O.endScope._wrap?(Q(),pe(X,O.endScope._wrap)):O.endScope&&O.endScope._multi?(Q(),Ee(O.endScope,K)):_e.skip?F+=X:(_e.returnEnd||_e.excludeEnd||(F+=X),Q(),_e.excludeEnd&&(F=X));do O.scope&&q.closeNode(),!O.skip&&!O.subLanguage&&(re+=O.relevance),O=O.parent;while(O!==me.parent);return me.starts&&te(me.starts,K),_e.returnEnd?0:X.length}function ke(){const K=[];for(let X=O;X!==W;X=X.parent)X.scope&&K.unshift(X.scope);K.forEach(X=>q.openNode(X))}let v={};function J(K,X){const ue=X&&X[0];if(F+=K,ue==null)return Q(),0;if(v.type==="begin"&&X.type==="end"&&v.index===X.index&&ue===""){if(F+=R.slice(X.index,X.index+1),!i){const me=new Error(`0 width match regex (${M})`);throw me.languageName=M,me.badRule=v.rule,me}return 1}if(v=X,X.type==="begin")return ae(X);if(X.type==="illegal"&&!T){const me=new Error('Illegal lexeme "'+ue+'" for mode "'+(O.scope||"<unnamed>")+'"');throw me.mode=O,me}else if(X.type==="end"){const me=be(X);if(me!==gm)return me}if(X.type==="illegal"&&ue==="")return 1;if(V>1e5&&V>X.index*3)throw new Error("potential infinite loop, way more iterations than matches");return F+=ue,ue.length}const W=H(M);if(!W)throw Wr(s.replace("{}",M)),new Error('Unknown language: "'+M+'"');const E=oT(W);let C="",O=U||E;const G={},q=new l.__emitter(l);ke();let F="",re=0,le=0,V=0,Y=!1;try{if(W.__emitTokens)W.__emitTokens(R,q);else{for(O.matcher.considerAll();;){V++,Y?Y=!1:O.matcher.considerAll(),O.matcher.lastIndex=le;const K=O.matcher.exec(R);if(!K)break;const X=R.substring(le,K.index),ue=J(X,K);le=K.index+ue}J(R.substring(le))}return q.finalize(),C=q.toHTML(),{language:M,value:C,relevance:re,illegal:!1,_emitter:q,_top:O}}catch(K){if(K.message&&K.message.includes("Illegal"))return{language:M,value:zu(R),illegal:!0,relevance:0,_illegalBy:{message:K.message,index:le,context:R.slice(le-100,le+100),mode:K.mode,resultSoFar:C},_emitter:q};if(i)return{language:M,value:zu(R),illegal:!1,relevance:0,errorRaised:K,_emitter:q,_top:O};throw K}}function d(M){const R={value:zu(M),illegal:!1,relevance:0,_top:o,_emitter:new l.__emitter(l)};return R._emitter.addText(M),R}function h(M,R){R=R||l.languages||Object.keys(e);const T=d(M),U=R.filter(H).filter(j).map(Q=>f(Q,M,!1));U.unshift(T);const D=U.sort((Q,pe)=>{if(Q.relevance!==pe.relevance)return pe.relevance-Q.relevance;if(Q.language&&pe.language){if(H(Q.language).supersetOf===pe.language)return 1;if(H(pe.language).supersetOf===Q.language)return-1}return 0}),[I,oe]=D,ee=I;return ee.secondBest=oe,ee}function g(M,R,T){const U=R&&n[R]||T;M.classList.add("hljs"),M.classList.add(`language-${U}`)}function p(M){let R=null;const T=u(M);if(a(T))return;if(B("before:highlightElement",{el:M,language:T}),M.children.length>0&&(l.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(M)),l.throwUnescapedHTML))throw new uT("One of your code blocks includes unescaped HTML.",M.innerHTML);R=M;const U=R.textContent,D=T?c(U,{language:T,ignoreIllegals:!0}):h(U);M.innerHTML=D.value,g(M,T,D.language),M.result={language:D.language,re:D.relevance,relevance:D.relevance},D.secondBest&&(M.secondBest={language:D.secondBest.language,relevance:D.secondBest.relevance}),B("after:highlightElement",{el:M,result:D,text:U})}function S(M){l=mm(l,M)}const m=()=>{x(),ci("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function y(){x(),ci("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let k=!1;function x(){if(document.readyState==="loading"){k=!0;return}document.querySelectorAll(l.cssSelector).forEach(p)}function _(){k&&x()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",_,!1);function P(M,R){let T=null;try{T=R(t)}catch(U){if(Wr("Language definition for '{}' could not be registered.".replace("{}",M)),i)Wr(U);else throw U;T=o}T.name||(T.name=M),e[M]=T,T.rawDefinition=R.bind(null,t),T.aliases&&N(T.aliases,{languageName:M})}function z(M){delete e[M];for(const R of Object.keys(n))n[R]===M&&delete n[R]}function A(){return Object.keys(e)}function H(M){return M=(M||"").toLowerCase(),e[M]||e[n[M]]}function N(M,{languageName:R}){typeof M=="string"&&(M=[M]),M.forEach(T=>{n[T.toLowerCase()]=R})}function j(M){const R=H(M);return R&&!R.disableAutodetect}function b(M){M["before:highlightBlock"]&&!M["before:highlightElement"]&&(M["before:highlightElement"]=R=>{M["before:highlightBlock"](Object.assign({block:R.el},R))}),M["after:highlightBlock"]&&!M["after:highlightElement"]&&(M["after:highlightElement"]=R=>{M["after:highlightBlock"](Object.assign({block:R.el},R))})}function L(M){b(M),r.push(M)}function w(M){const R=r.indexOf(M);R!==-1&&r.splice(R,1)}function B(M,R){const T=M;r.forEach(function(U){U[T]&&U[T](R)})}function $(M){return ci("10.7.0","highlightBlock will be removed entirely in v12.0"),ci("10.7.0","Please use highlightElement now."),p(M)}Object.assign(t,{highlight:c,highlightAuto:h,highlightAll:x,highlightElement:p,highlightBlock:$,configure:S,initHighlighting:m,initHighlightingOnLoad:y,registerLanguage:P,unregisterLanguage:z,listLanguages:A,getLanguage:H,registerAliases:N,autoDetection:j,inherit:mm,addPlugin:L,removePlugin:w}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=aT,t.regex={concat:si,lookahead:I1,either:wd,optional:EM,anyNumberOfTimes:xM};for(const M in qo)typeof qo[M]=="object"&&A1(qo[M]);return Object.assign(t,qo),t},Xi=j1({});Xi.newInstance=()=>j1({});var fT=Xi;Xi.HighlightJS=Xi;Xi.default=Xi;const an=vo(fT);var U1={exports:{}};(function(t){(function(){var e;e=t.exports=i,e.format=i,e.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(e.printf=n);function n(){console.log(i.apply(null,arguments))}function r(s,o){return i.apply(null,[s].concat(o))}function i(s){for(var o=1,l=[].slice.call(arguments),a=0,u=s.length,c="",f,d=!1,h,g,p=!1,S,m=function(){return l[o++]},y=function(){for(var k="";/\d/.test(s[a]);)k+=s[a++],f=s[a];return k.length>0?parseInt(k):null};a<u;++a)if(f=s[a],d)switch(d=!1,f=="."?(p=!1,f=s[++a]):f=="0"&&s[a+1]=="."?(p=!0,a+=2,f=s[a]):p=!0,S=y(),f){case"b":c+=parseInt(m(),10).toString(2);break;case"c":h=m(),typeof h=="string"||h instanceof String?c+=h:c+=String.fromCharCode(parseInt(h,10));break;case"d":c+=parseInt(m(),10);break;case"f":g=String(parseFloat(m()).toFixed(S||6)),c+=p?g:g.replace(/^0/,"");break;case"j":c+=JSON.stringify(m());break;case"o":c+="0"+parseInt(m(),10).toString(8);break;case"s":c+=m();break;case"x":c+="0x"+parseInt(m(),10).toString(16);break;case"X":c+="0x"+parseInt(m(),10).toString(16).toUpperCase();break;default:c+=f;break}else f==="%"?d=!0:c+=f;return c}})()})(U1);var dT=U1.exports;const hT=vo(dT),pl=Object.assign(Cr(Error),{eval:Cr(EvalError),range:Cr(RangeError),reference:Cr(ReferenceError),syntax:Cr(SyntaxError),type:Cr(TypeError),uri:Cr(URIError)});function Cr(t){return e.displayName=t.displayName||t.name,e;function e(n,...r){const i=n&&hT(n,...r);return new t(i)}}const pT={}.hasOwnProperty,mT="hljs-";function V1(t,e,n={}){let r=n.prefix;if(typeof t!="string")throw pl("Expected `string` for name, got `%s`",t);if(!an.getLanguage(t))throw pl("Unknown language: `%s` is not registered",t);if(typeof e!="string")throw pl("Expected `string` for value, got `%s`",e);r==null&&(r=mT),an.configure({__emitter:ST,classPrefix:r});const i=an.highlight(e,{language:t,ignoreIllegals:!0});if(an.configure({}),i.errorRaised)throw i.errorRaised;return i._emitter.root.data.language=i.language,i._emitter.root.data.relevance=i.relevance,i._emitter.root}function gT(t,e={}){const n=e.subset||an.listLanguages();e.prefix;let r=-1,i={type:"root",data:{language:null,relevance:0},children:[]};if(typeof t!="string")throw pl("Expected `string` for value, got `%s`",t);for(;++r<n.length;){const s=n[r];if(!an.getLanguage(s))continue;const o=V1(s,t,e);o.data.relevance>i.data.relevance&&(i=o)}return i}function yT(t,e){an.registerLanguage(t,e)}const vT=function(t,e){if(typeof t=="string")an.registerAliases(e,{languageName:t});else{let n;for(n in t)pT.call(t,n)&&an.registerAliases(t[n],{languageName:n})}};function wT(t){return!!an.getLanguage(t)}function kT(){return an.listLanguages()}class ST{constructor(e){this.options=e,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=e.split(".").map((s,o)=>o?s+"_".repeat(o):this.options.classPrefix+s),r=this.stack[this.stack.length-1],i={type:"element",tagName:"span",properties:{className:n},children:[]};r.children.push(i),this.stack.push(i)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const rs={highlight:V1,highlightAuto:gT,registerLanguage:yT,registered:wT,listLanguages:kT,registerAlias:vT};const ym="[A-Za-z$_][0-9A-Za-z$_]*",bT=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],xT=["true","false","null","undefined","NaN","Infinity"],W1=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],K1=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],G1=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ET=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],_T=[].concat(G1,W1,K1);function CT(t){const e=t.regex,n=(R,{after:T})=>{const U="</"+R[0].slice(1);return R.input.indexOf(U,T)!==-1},r=ym,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(R,T)=>{const U=R[0].length+R.index,D=R.input[U];if(D==="<"||D===","){T.ignoreMatch();return}D===">"&&(n(R,{after:U})||T.ignoreMatch());let I;const oe=R.input.substring(U);if(I=oe.match(/^\s*=/)){T.ignoreMatch();return}if((I=oe.match(/^\s+extends\s+/))&&I.index===0){T.ignoreMatch();return}}},l={$pattern:ym,keyword:bT,literal:xT,built_in:_T,"variable.language":ET},a="[0-9](_?[0-9])*",u=`\\.(${a})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${a})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,p,S,{match:/\$\d+/},f];d.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const x=[].concat(y,d.contains),_=x.concat([{begin:/\(/,end:/\)/,keywords:l,contains:["self"].concat(x)}]),P={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},z={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...W1,...K1]}},H={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},j={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function b(R){return e.concat("(?!",R.join("|"),")")}const L={match:e.concat(/\b/,b([...G1,"super","import"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},w={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},B={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),H,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,p,S,y,{match:/\$\d+/},f,A,{className:"attr",begin:r+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},w,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},L,j,z,B,{match:/\$[(.]/}]}}const MT=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),TT=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],OT=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],NT=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],AT=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],RT=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function IT(t){const e=t.regex,n=MT(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",l=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+NT.join("|")+")"},{begin:":(:)?("+AT.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+RT.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:OT.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+TT.join("|")+")\\b"}]}}const na="[A-Za-z$_][0-9A-Za-z$_]*",Z1=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],J1=["true","false","null","undefined","NaN","Infinity"],q1=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],X1=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Y1=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Q1=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ev=[].concat(Y1,q1,X1);function DT(t){const e=t.regex,n=(R,{after:T})=>{const U="</"+R[0].slice(1);return R.input.indexOf(U,T)!==-1},r=na,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(R,T)=>{const U=R[0].length+R.index,D=R.input[U];if(D==="<"||D===","){T.ignoreMatch();return}D===">"&&(n(R,{after:U})||T.ignoreMatch());let I;const oe=R.input.substring(U);if(I=oe.match(/^\s*=/)){T.ignoreMatch();return}if((I=oe.match(/^\s+extends\s+/))&&I.index===0){T.ignoreMatch();return}}},l={$pattern:na,keyword:Z1,literal:J1,built_in:ev,"variable.language":Q1},a="[0-9](_?[0-9])*",u=`\\.(${a})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",f={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${a})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},g={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},S={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,d]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},k=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,p,S,{match:/\$\d+/},f];d.contains=k.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(k)});const x=[].concat(y,d.contains),_=x.concat([{begin:/\(/,end:/\)/,keywords:l,contains:["self"].concat(x)}]),P={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_},z={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},A={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...q1,...X1]}},H={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},N={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[P],illegal:/%/},j={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function b(R){return e.concat("(?!",R.join("|"),")")}const L={match:e.concat(/\b/,b([...Y1,"super","import"]),r,e.lookahead(/\(/)),className:"title.function",relevance:0},w={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},B={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},P]},$="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead($)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[P]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:_,CLASS_REFERENCE:A},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),H,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,h,g,p,S,y,{match:/\$\d+/},f,A,{className:"attr",begin:r+e.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:$,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:_}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},N,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[P,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},w,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[P]},L,j,z,B,{match:/\$[(.]/}]}}function zT(t){const e=DT(t),n=na,r=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[e.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:r},contains:[e.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],a={$pattern:na,keyword:Z1.concat(l),literal:J1,built_in:ev.concat(r),"variable.language":Q1},u={className:"meta",begin:"@"+n},c=(d,h,g)=>{const p=d.contains.findIndex(S=>S.label===h);if(p===-1)throw new Error("can not find mode to replace");d.contains.splice(p,1,g)};Object.assign(e.keywords,a),e.exports.PARAMS_CONTAINS.push(u),e.contains=e.contains.concat([u,i,s]),c(e,"shebang",t.SHEBANG()),c(e,"use_strict",o);const f=e.contains.find(d=>d.label==="func.def");return f.relevance=0,Object.assign(e,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),e}function PT(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),l=t.inherit(t.APOS_STRING_MODE,{className:"string"}),a=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,a,l,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,a,l]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[a]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function LT(t){const e=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},a={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},c={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,a,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,a,c,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,c,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",h=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,g=`\\b|${r.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${h}))[eE][+-]?(${d})[jJ]?(?=${g})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${d})[jJ](?=${g})`}]},S={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},m={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",a,p,f,t.HASH_COMMENT_MODE]}]};return u.contains=[f,p,a],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[a,p,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},f,S,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[m]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,m,f]}]}}rs.registerLanguage("html",PT);rs.registerLanguage("css",IT);rs.registerLanguage("js",CT);rs.registerLanguage("ts",zT);rs.registerLanguage("py",LT);const BT=o1.extend({content:"heading block*"}),FT=({handleTitleChange:t,handleContentChange:e,notes:n,currentNoteId:r})=>{let s=(u=>n.findIndex(c=>c.id===u))(r),o=n[s];console.log(o);let{content:l}=o||{};const a=z_({extensions:[BT,RC.configure({document:!1,codeBlock:!1}),I2.configure({lowlight:rs,defaultLanguage:"js"}),vM.configure({multicolor:!0}),IC.configure({placeholder:({node:u})=>u.type.name=="heading"?"What’s the title?":"Type something..."})],content:l,onUpdate({editor:u}){const c=u.getHTML();e(c);const f=u.getJSON().content.find(d=>d);t(f.content&&f.content[0].text)}},[o]);return ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"note-field-container",children:[ge.jsx(mM,{currentNote:o,editor:a}),ge.jsx(A_,{className:"editor",spellCheck:"false",editor:a})]})})};const vm=({notes:t,currentNoteId:e,setNotes:n,activeNotes:r})=>{let s=(a=>t.findIndex(u=>u.id===a))(e);const o=a=>{const u=[...t];u[s].title=a,n(u)},l=a=>{const u=[...t];u[s].content=a,n(u)};return ge.jsx("div",{children:ge.jsx("section",{className:"note-container",children:ge.jsx(FT,{handleContentChange:l,handleTitleChange:o,currentNoteId:e,notes:t})})})};var tv={exports:{}},HT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$T=HT,jT=$T;function nv(){}function rv(){}rv.resetWarningCache=nv;var UT=function(){function t(r,i,s,o,l,a){if(a!==jT){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rv,resetWarningCache:nv};return n.PropTypes=n,n};tv.exports=UT();var VT=tv.exports;const Ce=vo(VT);var Ft=typeof window<"u"?window:null,bd=Ft===null,yo=bd?void 0:Ft.document,Xt="addEventListener",Yt="removeEventListener",Pu="getBoundingClientRect",Ss="_a",Qt="_b",Tn="_c",Xo="horizontal",en=function(){return!1},WT=bd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=yo.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",iv=function(t){return typeof t=="string"||t instanceof String},wm=function(t){if(iv(t)){var e=yo.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},at=function(t,e,n){var r=t[e];return r!==void 0?r:n},Yo=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},KT=function(t,e){var n=yo.createElement("div");return n.className="gutter gutter-"+e,n},GT=function(t,e,n){var r={};return iv(e)?r[t]=e:r[t]=WT+"("+e+"% - "+n+"px)",r},ZT=function(t,e){var n;return n={},n[t]=e+"px",n},km=function(t,e){if(e===void 0&&(e={}),bd)return{};var n=t,r,i,s,o,l,a;Array.from&&(n=Array.from(n));var u=wm(n[0]),c=u.parentNode,f=getComputedStyle?getComputedStyle(c):null,d=f?f.flexDirection:null,h=at(e,"sizes")||n.map(function(){return 100/n.length}),g=at(e,"minSize",100),p=Array.isArray(g)?g:n.map(function(){return g}),S=at(e,"maxSize",1/0),m=Array.isArray(S)?S:n.map(function(){return S}),y=at(e,"expandToMin",!1),k=at(e,"gutterSize",10),x=at(e,"gutterAlign","center"),_=at(e,"snapOffset",30),P=Array.isArray(_)?_:n.map(function(){return _}),z=at(e,"dragInterval",1),A=at(e,"direction",Xo),H=at(e,"cursor",A===Xo?"col-resize":"row-resize"),N=at(e,"gutter",KT),j=at(e,"elementStyle",GT),b=at(e,"gutterStyle",ZT);A===Xo?(r="width",i="clientX",s="left",o="right",l="clientWidth"):A==="vertical"&&(r="height",i="clientY",s="top",o="bottom",l="clientHeight");function L(te,Z,ne,ae){var be=j(r,Z,ne,ae);Object.keys(be).forEach(function(ke){te.style[ke]=be[ke]})}function w(te,Z,ne){var ae=b(r,Z,ne);Object.keys(ae).forEach(function(be){te.style[be]=ae[be]})}function B(){return a.map(function(te){return te.size})}function $(te){return"touches"in te?te.touches[0][i]:te[i]}function M(te){var Z=a[this.a],ne=a[this.b],ae=Z.size+ne.size;Z.size=te/this.size*ae,ne.size=ae-te/this.size*ae,L(Z.element,Z.size,this[Qt],Z.i),L(ne.element,ne.size,this[Tn],ne.i)}function R(te){var Z,ne=a[this.a],ae=a[this.b];this.dragging&&(Z=$(te)-this.start+(this[Qt]-this.dragOffset),z>1&&(Z=Math.round(Z/z)*z),Z<=ne.minSize+ne.snapOffset+this[Qt]?Z=ne.minSize+this[Qt]:Z>=this.size-(ae.minSize+ae.snapOffset+this[Tn])&&(Z=this.size-(ae.minSize+this[Tn])),Z>=ne.maxSize-ne.snapOffset+this[Qt]?Z=ne.maxSize+this[Qt]:Z<=this.size-(ae.maxSize-ae.snapOffset+this[Tn])&&(Z=this.size-(ae.maxSize+this[Tn])),M.call(this,Z),at(e,"onDrag",en)(B()))}function T(){var te=a[this.a].element,Z=a[this.b].element,ne=te[Pu](),ae=Z[Pu]();this.size=ne[r]+ae[r]+this[Qt]+this[Tn],this.start=ne[s],this.end=ne[o]}function U(te){if(!getComputedStyle)return null;var Z=getComputedStyle(te);if(!Z)return null;var ne=te[l];return ne===0?null:(A===Xo?ne-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight):ne-=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom),ne)}function D(te){var Z=U(c);if(Z===null||p.reduce(function(ke,v){return ke+v},0)>Z)return te;var ne=0,ae=[],be=te.map(function(ke,v){var J=Z*ke/100,W=Yo(k,v===0,v===te.length-1,x),E=p[v]+W;return J<E?(ne+=E-J,ae.push(0),E):(ae.push(J-E),J)});return ne===0?te:be.map(function(ke,v){var J=ke;if(ne>0&&ae[v]-ne>0){var W=Math.min(ne,ae[v]-ne);ne-=W,J=ke-W}return J/Z*100})}function I(){var te=this,Z=a[te.a].element,ne=a[te.b].element;te.dragging&&at(e,"onDragEnd",en)(B()),te.dragging=!1,Ft[Yt]("mouseup",te.stop),Ft[Yt]("touchend",te.stop),Ft[Yt]("touchcancel",te.stop),Ft[Yt]("mousemove",te.move),Ft[Yt]("touchmove",te.move),te.stop=null,te.move=null,Z[Yt]("selectstart",en),Z[Yt]("dragstart",en),ne[Yt]("selectstart",en),ne[Yt]("dragstart",en),Z.style.userSelect="",Z.style.webkitUserSelect="",Z.style.MozUserSelect="",Z.style.pointerEvents="",ne.style.userSelect="",ne.style.webkitUserSelect="",ne.style.MozUserSelect="",ne.style.pointerEvents="",te.gutter.style.cursor="",te.parent.style.cursor="",yo.body.style.cursor=""}function oe(te){if(!("button"in te&&te.button!==0)){var Z=this,ne=a[Z.a].element,ae=a[Z.b].element;Z.dragging||at(e,"onDragStart",en)(B()),te.preventDefault(),Z.dragging=!0,Z.move=R.bind(Z),Z.stop=I.bind(Z),Ft[Xt]("mouseup",Z.stop),Ft[Xt]("touchend",Z.stop),Ft[Xt]("touchcancel",Z.stop),Ft[Xt]("mousemove",Z.move),Ft[Xt]("touchmove",Z.move),ne[Xt]("selectstart",en),ne[Xt]("dragstart",en),ae[Xt]("selectstart",en),ae[Xt]("dragstart",en),ne.style.userSelect="none",ne.style.webkitUserSelect="none",ne.style.MozUserSelect="none",ne.style.pointerEvents="none",ae.style.userSelect="none",ae.style.webkitUserSelect="none",ae.style.MozUserSelect="none",ae.style.pointerEvents="none",Z.gutter.style.cursor=H,Z.parent.style.cursor=H,yo.body.style.cursor=H,T.call(Z),Z.dragOffset=$(te)-Z.end}}h=D(h);var ee=[];a=n.map(function(te,Z){var ne={element:wm(te),size:h[Z],minSize:p[Z],maxSize:m[Z],snapOffset:P[Z],i:Z},ae;if(Z>0&&(ae={a:Z-1,b:Z,dragging:!1,direction:A,parent:c},ae[Qt]=Yo(k,Z-1===0,!1,x),ae[Tn]=Yo(k,!1,Z===n.length-1,x),d==="row-reverse"||d==="column-reverse")){var be=ae.a;ae.a=ae.b,ae.b=be}if(Z>0){var ke=N(Z,A,ne.element);w(ke,k,Z),ae[Ss]=oe.bind(ae),ke[Xt]("mousedown",ae[Ss]),ke[Xt]("touchstart",ae[Ss]),c.insertBefore(ke,ne.element),ae.gutter=ke}return L(ne.element,ne.size,Yo(k,Z===0,Z===n.length-1,x),Z),Z>0&&ee.push(ae),ne});function Q(te){var Z=te.i===ee.length,ne=Z?ee[te.i-1]:ee[te.i];T.call(ne);var ae=Z?ne.size-te.minSize-ne[Tn]:te.minSize+ne[Qt];M.call(ne,ae)}a.forEach(function(te){var Z=te.element[Pu]()[r];Z<te.minSize&&(y?Q(te):te.minSize=Z)});function pe(te){var Z=D(te);Z.forEach(function(ne,ae){if(ae>0){var be=ee[ae-1],ke=a[be.a],v=a[be.b];ke.size=Z[ae-1],v.size=ne,L(ke.element,ke.size,be[Qt],ke.i),L(v.element,v.size,be[Tn],v.i)}})}function Ee(te,Z){ee.forEach(function(ne){if(Z!==!0?ne.parent.removeChild(ne.gutter):(ne.gutter[Yt]("mousedown",ne[Ss]),ne.gutter[Yt]("touchstart",ne[Ss])),te!==!0){var ae=j(r,ne.a.size,ne[Qt]);Object.keys(ae).forEach(function(be){a[ne.a].element.style[be]="",a[ne.b].element.style[be]=""})}})}return{setSizes:pe,getSizes:B,collapse:function(Z){Q(a[Z])},destroy:Ee,parent:c,pairs:ee}};function Lu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var xd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=Lu(r,["children","gutter"]),o=s;o.gutter=function(l,a){var u;return i?u=i(l,a):(u=document.createElement("div"),u.className="gutter gutter-"+a),u.__isSplitGutter=!0,u},this.split=km(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,l=s.sizes,a=s.collapsed,u=Lu(s,["children","minSize","sizes","collapsed"]),c=u,f=r.minSize,d=r.sizes,h=r.collapsed,g=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],p=g.map(function(y){return i.props[y]!==r[y]}).reduce(function(y,k){return y||k},!1);if(Array.isArray(o)&&Array.isArray(f)){var S=!1;o.forEach(function(y,k){S=S||y!==f[k]}),p=p||S}else Array.isArray(o)||Array.isArray(f)?p=!0:p=p||o!==f;if(p)c.minSize=o,c.sizes=l||this.split.getSizes(),this.split.destroy(!0,!0),c.gutter=function(y,k,x){return x.previousSibling},this.split=km(Array.from(this.parent.children).filter(function(y){return!y.__isSplitGutter}),c);else if(l){var m=!1;l.forEach(function(y,k){m=m||y!==d[k]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(a)&&(a!==h||p)&&this.split.collapse(a)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=Lu(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),l=o;return je.createElement("div",Object.assign({},{ref:function(a){r.parent=a}},l),s)},e}(je.Component);xd.propTypes={sizes:Ce.arrayOf(Ce.number),minSize:Ce.oneOfType([Ce.number,Ce.arrayOf(Ce.number)]),maxSize:Ce.oneOfType([Ce.number,Ce.arrayOf(Ce.number)]),expandToMin:Ce.bool,gutterSize:Ce.number,gutterAlign:Ce.string,snapOffset:Ce.oneOfType([Ce.number,Ce.arrayOf(Ce.number)]),dragInterval:Ce.number,direction:Ce.string,cursor:Ce.string,gutter:Ce.func,elementStyle:Ce.func,gutterStyle:Ce.func,onDrag:Ce.func,onDragStart:Ce.func,onDragEnd:Ce.func,collapsed:Ce.number,children:Ce.arrayOf(Ce.element)};xd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const JT=()=>{const[t,e]=Oe.useState([{id:Ph(),title:"",content:"",date:new Date().toDateString()}]),[n,r]=Oe.useState(t[0].id),[i,s]=Oe.useState(new Set([n])),[o,l]=Oe.useState(10),[a,u]=Oe.useState(!0),c=Oe.useRef(window.innerWidth);Oe.useEffect(()=>{c.current<=600&&u(!1)},c),Oe.useEffect(()=>{const d=localStorage.getItem("notes"),h=localStorage.getItem("currentNoteId");(d||h)&&(e(JSON.parse(d)),r(JSON.parse(h)))},[]),Oe.useEffect(()=>{localStorage.setItem("notes",JSON.stringify(t)),localStorage.setItem("currentNoteId",JSON.stringify(n))},[t,n]);const f=()=>{const d={id:Ph(),title:"",content:"",date:new Date().toDateString()};e([d,...t]),r(d.id)};return ge.jsxs(ge.Fragment,{children:[a&&ge.jsxs(xd,{sizes:[o,100-o],minSize:[200],maxSize:[500],gutterSize:7,snapOffset:0,onDrag:d=>{l(d[0])},className:"main",children:[ge.jsx(jk,{notes:t,addNote:f,setNotes:e,sidebarSize:o,currentNoteId:n,setCurrentNoteId:r,setActiveNotes:s,activeNotes:i}),ge.jsx(vm,{notes:t,setNotes:e,currentNoteId:n,activeNotes:i})]}),!a&&ge.jsx(vm,{notes:t,setNotes:e,currentNoteId:n,activeNotes:i})]})};Bu.createRoot(document.getElementById("root")).render(ge.jsx(JT,{}));
